<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-R21NVEB2EY"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-R21NVEB2EY');
    </script>
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Appendix - Installation of Applications &mdash; tech.bitvijays.com 2.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=51b770b3"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/debug.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            tech.bitvijays.com
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">The Essentials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Series_The_Essentials/LFF-ESS-P0A-CyberSecurityEnterprise.html">Cybersecurity in an Enterprise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_The_Essentials/LFF-ESS-P0B-LinuxEssentials.html">Linux Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_The_Essentials/LFF-ESS-P0C-CloudEssentials.html">Cloud Infrastructure Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_The_Essentials/LFF-ESS-P0E-OpenSource.html">Open Source Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_The_Essentials/LFF-ESS-P0D-SecureSoftware.html">Secure Software Development Fundamentals</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Infrastructure Pentest</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Series_Infrastructure_Pentest/LFF-IPS-P1-IntelligenceGathering.html">Intelligence Gathering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Infrastructure_Pentest/LFF-IPS-P2-VulnerabilityAnalysis.html">Vulnerability Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Infrastructure_Pentest/LFF-IPS-P3-Exploitation.html">Exploitation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Infrastructure_Pentest/LFF-IPS-P4-PostExploitation.html">Post Exploitation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Infrastructure_Pentest/LFF-IPS-P5-Reporting.html">Reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Infrastructure_Pentest/LFF-IPS-P6-ConfigurationReview.html">Configuration Review</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vulnerable Machines</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Series_Vulnerable_Machines/LFC-VM-P0-InitialRecon.html">Initial Recon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Vulnerable_Machines/LFC-VM-P1-FromNothingToUnprivilegedShell.html">From Nothing to a Unprivileged Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Vulnerable_Machines/LFC-VM-P2-UnprivilegedToPrivilegedShell.html">Unprivileged Shell to Privileged Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Vulnerable_Machines/LFC-VM-P3-TipsAndTricks.html">Tips and Tricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Vulnerable_Machines/LFC-VM-P4-Appendix.html">Appendix</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">CTF - Challenges</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Series_Capture_The_Flag/LFC-BinaryExploitation.html">Binary Exploitation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Capture_The_Flag/LFC-Forensics.html">Forensics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Capture_The_Flag/LFC-ReverseEngineering.html">Reverse Engineering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Capture_The_Flag/LFC-Cryptography.html">Cryptography</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Capture_The_Flag/LFC-CodingQuickRef.html">Coding Quick Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Critical Infrastructure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Series_Critical_Infrastructure/LFF-CIS-IndustrialControlSystems.html">Industrial Control Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Critical_Infrastructure/LFF-CIS-ElectricalGrid.html">Electrical Grid</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">tech.bitvijays.com</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Appendix - Installation of Applications</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="appendix-installation-of-applications">
<h1>Appendix - Installation of Applications<a class="headerlink" href="#appendix-installation-of-applications" title="Link to this heading"></a></h1>
<p>When intial UMA architecture is deployed there can be multiple
applications that we might want to install on the Kubernetes such as</p>
<ul class="simple">
<li><p>GitLab</p></li>
<li><p>JupyterHub</p></li>
<li><p>InfluxDB</p></li>
<li><p>Grafana</p></li>
<li><p>ArgoCD</p></li>
<li><p>Mattermost</p></li>
<li><p>Others</p></li>
</ul>
<section id="keycloak">
<h2>Keycloak<a class="headerlink" href="#keycloak" title="Link to this heading"></a></h2>
<p>We would use <a class="reference external" href="https://github.com/keycloak/keycloak-operator">Keycloak
Operator</a> to install
keycloak on to the Kubernetes.</p>
<p>Refer <a class="reference external" href="https://www.keycloak.org/getting-started/getting-started-operator-kubernetes">Install Keycloak Operator on
Kubernetes</a></p>
<p>Once keycloak is installed,</p>
<ol class="arabic simple">
<li><p>we need to install the Realm such as <code class="docutils literal notranslate"><span class="pre">bitvijays.local</span></code> or
<code class="docutils literal notranslate"><span class="pre">projectname.local</span></code>. Refer <a class="reference external" href="https://www.keycloak.org/docs/latest/server_admin/#configuring-realms">Configuring
realms</a></p></li>
<li><p>We need to install User Federation, as we are using FreeIPA for our
Users database.</p></li>
<li><p>We need to install clients for the applications required such as</p></li>
</ol>
<ul class="simple">
<li><p>Gitlab</p></li>
<li><p>Grafana</p></li>
<li><p>JupyterHub</p></li>
<li><p>ArgoCD</p></li>
<li><p>Mattermost</p></li>
</ul>
</section>
<section id="gitlab">
<h2>GitLab<a class="headerlink" href="#gitlab" title="Link to this heading"></a></h2>
<p>Refer <a class="reference external" href="https://docs.gitlab.com/charts/installation/operator.html">GitLab
Operator</a>
and install the pre-req such as <a class="reference external" href="https://github.com/kubernetes-sigs/metrics-server">Metric
Server</a></p>
<ol class="arabic simple">
<li><p>Check <a class="reference external" href="https://gitlab.com/gitlab-org/cloud-native/gitlab-operator/-/releases">latest version of
operator</a></p></li>
<li><p><a class="reference external" href="https://docs.gitlab.com/charts/installation/operator.html">Install Gitlab
Operator</a></p></li>
<li><p>For GitLab, it requires <code class="docutils literal notranslate"><span class="pre">cert-manager</span></code> and <code class="docutils literal notranslate"><span class="pre">ingress-controller</span></code>.
As we are already using <code class="docutils literal notranslate"><span class="pre">CertManager</span></code> and <code class="docutils literal notranslate"><span class="pre">ingress-controller</span></code>.
We would configure GitLab to use those. Please refer <a class="reference external" href="https://gitlab.com/gitlab-org/charts/gitlab/blob/master/doc/installation/tls.md">TLS options
(FREE
SELF)</a>.
Our case is External cert-manager and Issuer (External) and <a class="reference external" href="https://gitlab.com/gitlab-org/charts/gitlab/blob/master/doc/installation/tls.md#option-3-use-individual-certificate-per-service">Option
3: Use individual certificate per
service</a>.
Also, please refer <a class="reference external" href="https://docs.gitlab.com/charts/advanced/external-nginx/">External NGINX Ingress
Controller</a></p></li>
</ol>
<p>We specify the above using the below settings:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">nginx-ingress</span><span class="p">:</span>
<span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="nt">ingress</span><span class="p">:</span>
<span class="w">  </span><span class="nt">tls</span><span class="p">:</span>
<span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">configureCertmanager</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">annotations</span><span class="p">:</span>
<span class="w">    </span><span class="nt">kubernetes.io/tls-acme</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">cert-manager.io/cluster-issuer</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">vault-issuer-4</span>
</pre></div>
</div>
<p>Currently, a issue is going on that doesn’t allow
<a class="reference external" href="https://gitlab.com/gitlab-org/cloud-native/gitlab-operator/-/issues/517">self-certs</a></p>
<ol class="arabic simple" start="4">
<li><p>Further, we are integrating Gitlab with keycloak, we need to add the
CA cert of our domain to the gitlab. refer <a class="reference external" href="https://docs.gitlab.com/charts/charts/globals.html#custom-certificate-authorities">Custom Certificate
Authorities</a></p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">kubectl</span> <span class="n">create</span> <span class="n">secret</span> <span class="n">generic</span> <span class="n">custom</span><span class="o">-</span><span class="n">ca</span> <span class="o">--</span><span class="n">from</span><span class="o">-</span><span class="n">file</span><span class="o">=</span><span class="n">bitvijays</span><span class="o">-</span><span class="n">local</span><span class="o">=</span><span class="n">CA_cert</span><span class="o">.</span><span class="n">pem</span> <span class="o">-</span><span class="n">n</span> <span class="n">gitlab</span><span class="o">-</span><span class="n">system</span>
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>We need to add Keycloak configuration. Refer
<code class="docutils literal notranslate"><span class="pre">provider_openid_connect.yaml</span></code></p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">kubectl</span> <span class="n">create</span> <span class="n">secret</span> <span class="n">generic</span> <span class="o">-</span><span class="n">n</span> <span class="n">gitlab</span><span class="o">-</span><span class="n">system</span> <span class="n">gitlab</span><span class="o">-</span><span class="n">sso</span><span class="o">-</span><span class="n">oidc</span> <span class="o">--</span><span class="n">from</span><span class="o">-</span><span class="n">file</span><span class="o">=</span><span class="n">provider</span><span class="o">=</span><span class="n">provider_openid_connect</span><span class="o">.</span><span class="n">yaml</span>
</pre></div>
</div>
<p>Refer
<a class="reference external" href="https://docs.gitlab.com/ee/integration/omniauth.html">Omniauth</a>,
<a class="reference external" href="https://docs.gitlab.com/ee/administration/auth/oidc.html">OpenID Connect OmniAuth
provider</a>
and <a class="reference external" href="https://gopherpro.medium.com/gitlab-sso-oidc-with-keycloak-9c027c632d28">GitLab SSO (OIDC) with
Keycloak</a></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">appConfig</span><span class="p">:</span>
<span class="w">  </span><span class="nt">omniauth</span><span class="p">:</span>
<span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">blockAutoCreatedUsers</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">allowSingleSignOn</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;openid_connect&#39;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">providers</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">secret</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gitlab-sso-oidc</span>
</pre></div>
</div>
<p>We are using <code class="docutils literal notranslate"><span class="pre">OpenID_Connect</span></code> method to connect with Keycloak, there
are blogs that use SAML also such as <a class="reference external" href="https://edenmal.moe/post/2018/GitLab-Keycloak-SAML-2-0-OmniAuth-Provider">GitLab Use Keycloak as SAML 2.0
OmniAuth
Provider</a>,
<a class="reference external" href="https://www.puppeteers.net/blog/gitlab-saml-with-keycloak/">Gitlab SAML to Keycloak
Setup</a></p>
<ol class="arabic simple" start="6">
<li><p>Install Gitlab Runner</p></li>
</ol>
<section id="todo">
<h3>ToDo<a class="headerlink" href="#todo" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>How to do backup?</p></li>
<li><p>How to perform DevOps</p></li>
</ul>
</section>
</section>
<section id="jupyterhub">
<h2>JupyterHub<a class="headerlink" href="#jupyterhub" title="Link to this heading"></a></h2>
<p>We will install JupyterHub using Helm and by following <a class="reference external" href="https://zero-to-jupyterhub.readthedocs.io/en/latest/jupyterhub/index.html">Setup
JupyterHub</a></p>
<ol class="arabic simple">
<li><p>Get the helm values using</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">helm</span> <span class="n">show</span> <span class="n">values</span> <span class="n">jupyterhub</span><span class="o">/</span><span class="n">jupyterhub</span> <span class="o">&gt;</span> <span class="n">jupyter_values_default</span><span class="o">.</span><span class="n">yaml</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Go through the <code class="docutils literal notranslate"><span class="pre">influxdb_values_default.yaml</span></code> carefully to
understand what values needs to be changed</p></li>
<li><p>Mainly we want to setup the security, ingress and authentication for
JupyterHub</p></li>
</ol>
<ul class="simple">
<li><p><a class="reference external" href="https://zero-to-jupyterhub.readthedocs.io/en/latest/administrator/authentication.html">Setup Authenciation -
Keycloak</a></p></li>
<li><p><a class="reference external" href="https://zero-to-jupyterhub.readthedocs.io/en/latest/administrator/security.html">Setup
Security</a></p></li>
<li><p><a class="reference external" href="https://zero-to-jupyterhub.readthedocs.io/en/latest/administrator/security.html#limiting-network-access-from-pods-egress">Limiting network access from Pods
(Egress)</a></p></li>
<li><p>We could find the issue of TLS issue as TLS is not verified.</p></li>
<li><p>A Good read <a class="reference external" href="https://discourse.jupyter.org/t/deploying-jupyterhub-at-your-institution/723/9">Deploying JupyterHub at your
Institution</a></p></li>
</ul>
<section id="todo-1">
<span id="id1"></span><h3>ToDo<a class="headerlink" href="#todo-1" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Figure out why Ingress Controller is not giving proper certificate
same as InfluxDB</p></li>
</ul>
</section>
</section>
<section id="influxdb">
<h2>InfluxDB<a class="headerlink" href="#influxdb" title="Link to this heading"></a></h2>
<p>We will install InfluxDB from <a class="reference external" href="https://github.com/bitnami/charts/tree/master/bitnami/influxdb">Bitnami Helm
chart</a></p>
<ul class="simple">
<li><p>Influxdb2 provides to install buckets that provide API token and
read/write permissions</p></li>
</ul>
<ol class="arabic simple">
<li><p>Get the helm values using</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">helm</span> <span class="n">show</span> <span class="n">values</span> <span class="n">bitnami</span><span class="o">/</span><span class="n">influxdb</span> <span class="o">&gt;</span> <span class="n">influxdb_values_default</span><span class="o">.</span><span class="n">yaml</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Go through the <code class="docutils literal notranslate"><span class="pre">influxdb_values_default.yaml</span></code> carefully to
understand what values needs to be changed.</p></li>
<li><p>Mainly, we want to enable ingress and setup the TLS certname. Refer
<code class="docutils literal notranslate"><span class="pre">influxdb_values_default.yaml</span></code> and <code class="docutils literal notranslate"><span class="pre">influxdb_values_custom.yaml</span></code>,
perform the diff and you would know what to change.</p></li>
</ol>
<p>Install InfluxDB using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">helm</span> <span class="n">install</span> <span class="n">influxdb</span><span class="o">-</span><span class="n">bit</span> <span class="o">-</span><span class="n">f</span> <span class="n">influxdb_values_custom</span><span class="o">.</span><span class="n">yaml</span> <span class="n">bitnami</span><span class="o">/</span><span class="n">influxdb</span> <span class="o">-</span><span class="n">n</span> <span class="n">influxdb</span> <span class="o">--</span><span class="n">create</span><span class="o">-</span><span class="n">namespace</span>
</pre></div>
</div>
<p>ToDo</p>
<ul class="simple">
<li><p>Explore why influxdb is deployed using HTTP instead of HTTPS.</p></li>
</ul>
</section>
<section id="grafana">
<h2>Grafana<a class="headerlink" href="#grafana" title="Link to this heading"></a></h2>
<p>We will use Bitnami Grafana Operator to install and manage Grafana</p>
<p>Refer <a class="reference external" href="https://docs.bitnami.com/tutorials/manage-multiple-grafana-operator">Manage Multiple Grafana Instances and Dashboards on Kubernetes
with the Grafana
Operator</a></p>
<p>Install it from
<a class="reference external" href="https://artifacthub.io/packages/helm/bitnami/grafana-operator">ArtifactHUB</a>
or directly from <a class="reference external" href="https://github.com/bitnami/charts/tree/master/bitnami/grafana-operator">Grafana Operator packaged by
Bitnami</a></p>
<p>We need to specify custom values for our Grafana such Ingress, OAuth and
other settings.</p>
<ol class="arabic simple">
<li><p>Get the helm values using</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">helm</span> <span class="n">show</span> <span class="n">values</span> <span class="n">bitnami</span><span class="o">/</span><span class="n">grafana</span><span class="o">-</span><span class="n">operator</span> <span class="o">&gt;</span> <span class="n">grafana_values_default</span><span class="o">.</span><span class="n">yaml</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Go through the <code class="docutils literal notranslate"><span class="pre">grafana_values_default.yaml</span></code> carefully to
understand what values needs to be changed.</p></li>
<li><p>Mainly, we want to change whether we want Ingress, OIDC
configuration, persistence, persistence volume size, annotations for
the Ingress TLS certificate and Website name. Refer
<code class="docutils literal notranslate"><span class="pre">grafana_values_default.yaml</span></code> and <code class="docutils literal notranslate"><span class="pre">grafana_values_custom.yaml</span></code>,
perform the diff and you would know what to change.</p></li>
</ol>
<ul class="simple">
<li><p>Refer <a class="reference external" href="https://grafana.com/docs/grafana/latest/auth/generic-oauth/">Grafana Generic OAuth
authentication</a>
to configure OAuth</p></li>
</ul>
<p>Install Grafana using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">helm</span> <span class="n">install</span> <span class="o">&lt;</span><span class="n">your_release_name</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">f</span> <span class="n">grafana_values_custom</span><span class="o">.</span><span class="n">yaml</span> <span class="n">bitnami</span><span class="o">/</span><span class="n">grafana</span><span class="o">-</span><span class="n">operator</span> <span class="o">-</span><span class="n">n</span> <span class="o">&lt;</span><span class="n">your_namespace</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">create</span><span class="o">-</span><span class="n">namespace</span>

<span class="n">Example</span><span class="p">:</span>

<span class="n">helm</span> <span class="n">install</span> <span class="n">grafana</span><span class="o">-</span><span class="n">bit</span> <span class="o">-</span><span class="n">f</span> <span class="n">grafana_values_custom</span><span class="o">.</span><span class="n">yaml</span> <span class="n">bitnami</span><span class="o">/</span><span class="n">grafana</span><span class="o">-</span><span class="n">operator</span> <span class="o">-</span><span class="n">n</span> <span class="n">grafana</span> <span class="o">--</span><span class="n">create</span><span class="o">-</span><span class="n">namespace</span>
</pre></div>
</div>
<p>We can see our deployment using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">helm</span> <span class="nb">list</span> <span class="o">-</span><span class="n">n</span> <span class="n">grafana</span>
<span class="n">NAME</span>            <span class="n">NAMESPACE</span>       <span class="n">REVISION</span>        <span class="n">UPDATED</span>                                 <span class="n">STATUS</span>          <span class="n">CHART</span>                   <span class="n">APP</span> <span class="n">VERSION</span>
<span class="n">grafana</span><span class="o">-</span><span class="n">bit</span>     <span class="n">grafana</span>         <span class="mi">1</span>               <span class="mi">2022</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">01</span> <span class="mi">18</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="mf">08.52360103</span> <span class="o">+</span><span class="mi">0000</span> <span class="n">UTC</span>  <span class="n">deployed</span>        <span class="n">grafana</span><span class="o">-</span><span class="n">operator</span><span class="o">-</span><span class="mf">2.3.2</span>  <span class="mf">4.2.0</span>
</pre></div>
</div>
</section>
<section id="argocd">
<h2>ArgoCD<a class="headerlink" href="#argocd" title="Link to this heading"></a></h2>
<p>We would use <a class="reference external" href="https://argocd-operator.readthedocs.io/en/latest/">ArgoCD
Operator</a> to
install ArgoCD by following instructions <a class="reference external" href="https://operatorhub.io/operator/argocd-operator">Argo
CD</a> - We will use
<a class="reference external" href="https://argocd-operator.readthedocs.io/en/latest/usage/ingress/">Ingress</a>
to expose the ArgoCD Ingress. - <a class="reference external" href="https://argo-cd.readthedocs.io/en/stable/operator-manual/user-management/keycloak/">Integrating Keycloak and
ArgoCD</a>
and <a class="reference external" href="https://argocd-operator.readthedocs.io/en/latest/reference/argocd/#oidc-config">OIDC
Config</a></p>
</section>
<section id="mattermost">
<h2>Mattermost<a class="headerlink" href="#mattermost" title="Link to this heading"></a></h2>
<p>Install Mattermost on Kubernetes by following <a class="reference external" href="https://docs.mattermost.com/install/install-kubernetes.html">Install Mattermost on
Kubernetes</a></p>
<p>MM doesn’t allow SSO for free-version so the only way to setup is using
email/password and setting up a SMTP server.</p>
<p>When UMA is fully deployed, it contain multiple applications such as</p>
<ul class="simple">
<li><p>GitLab</p></li>
<li><p>JupyterHub</p></li>
<li><p>InfluxDB</p></li>
<li><p>Grafana</p></li>
<li><p>ArgoCD</p></li>
<li><p>Others</p></li>
</ul>
<p>There might be a time where we want to remove the applications
installed. Mainly, it depends on how the applications are installed such
as using Helm or using Operator.</p>
</section>
<section id="grafana-1">
<span id="id2"></span><h2>Grafana<a class="headerlink" href="#grafana-1" title="Link to this heading"></a></h2>
<p>We have installed Grafana from <a class="reference external" href="https://github.com/bitnami/charts/tree/master/bitnami/grafana-operator">Bitnami Grafana
Operator</a></p>
<p>Referring <a class="reference external" href="https://github.com/bitnami/charts/tree/master/bitnami/grafana-operator#uninstalling-the-chart">Uninstalling the
Chart</a></p>
<p><code class="docutils literal notranslate"><span class="pre">helm</span> <span class="pre">list</span></code> will provide the name and version installed.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>debian@cloudcore:~$ helm list
NAME                    NAMESPACE       REVISION        UPDATED                                 STATUS          CHART                   APP VERSION
my-grafana-operator     default         6               2022-04-01 17:38:24.511111318 +0000 UTC deployed        grafana-operator-2.3.2  4.2.0
</pre></div>
</div>
<p>Grafana can be uninstalled using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">helm</span> <span class="n">uninstall</span> <span class="o">&lt;</span><span class="n">my</span><span class="o">-</span><span class="n">release</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="influxdb2">
<h2>InfluxDB2<a class="headerlink" href="#influxdb2" title="Link to this heading"></a></h2>
<p>As we install influxDB2 from helm, we can uninstall it using Helm</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">helm</span> <span class="n">uninstall</span> <span class="o">&lt;</span><span class="n">my</span><span class="o">-</span><span class="n">release</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>For instance,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">helm</span> <span class="nb">list</span>
<span class="n">NAME</span>                    <span class="n">NAMESPACE</span>       <span class="n">REVISION</span>        <span class="n">UPDATED</span>                                 <span class="n">STATUS</span>          <span class="n">CHART</span>                   <span class="n">APP</span> <span class="n">VERSION</span>
<span class="n">influxdb</span><span class="o">-</span><span class="n">bit</span>            <span class="n">default</span>         <span class="mi">3</span>               <span class="mi">2022</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">27</span> <span class="mi">17</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mf">25.37972376</span> <span class="o">+</span><span class="mi">0000</span> <span class="n">UTC</span>  <span class="n">deployed</span>        <span class="n">influxdb</span><span class="o">-</span><span class="mf">3.0.2</span>          <span class="mf">2.1.1</span>
</pre></div>
</div>
<p>To uninstall</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">helm</span> <span class="n">uninstall</span> <span class="n">influxdb</span><span class="o">-</span><span class="n">bit</span>
<span class="n">release</span> <span class="s2">&quot;influxdb-bit&quot;</span> <span class="n">uninstalled</span>
</pre></div>
</div>
</section>
<section id="jupyterhub-1">
<span id="id3"></span><h2>JupyterHub<a class="headerlink" href="#jupyterhub-1" title="Link to this heading"></a></h2>
<p>As we have install jupyterhub from helm, we can uninstall it using Helm</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">helm</span> <span class="nb">list</span> <span class="o">-</span><span class="n">n</span> <span class="n">jupyterhub</span>
<span class="n">NAME</span>            <span class="n">NAMESPACE</span>       <span class="n">REVISION</span>        <span class="n">UPDATED</span>                                 <span class="n">STATUS</span>          <span class="n">CHART</span>                   <span class="n">APP</span> <span class="n">VERSION</span>
<span class="n">jupyter</span><span class="o">-</span><span class="n">test</span>    <span class="n">jupyterhub</span>      <span class="mi">7</span>               <span class="mi">2022</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">26</span> <span class="mi">17</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mf">13.245425793</span> <span class="o">+</span><span class="mi">0000</span> <span class="n">UTC</span> <span class="n">deployed</span>        <span class="n">jupyterhub</span><span class="o">-</span><span class="mf">1.2.0</span>        <span class="mf">1.5.0</span>
</pre></div>
</div>
<p>To uninstall</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">helm</span> <span class="n">uninstall</span> <span class="o">-</span><span class="n">n</span> <span class="n">jupyterhub</span> <span class="n">jupyter</span><span class="o">-</span><span class="n">test</span>
<span class="n">release</span> <span class="s2">&quot;jupyter-test&quot;</span> <span class="n">uninstalled</span>
</pre></div>
</div>
</section>
<section id="gitlab-1">
<span id="id4"></span><h2>GitLab<a class="headerlink" href="#gitlab-1" title="Link to this heading"></a></h2>
<p>Refer <a class="reference external" href="https://docs.gitlab.com/charts/installation/operator.html#uninstall-the-gitlab-operator">Unintall the GitLab
Operator</a></p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Vijay Kumar &amp; Contributors.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>