<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-R21NVEB2EY"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-R21NVEB2EY');
    </script>
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Linux Basics &mdash; tech.bitvijays.com 2.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=51b770b3"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/debug.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Cloud Infrastructure Technologies" href="LFF-ESS-P0C-CloudEssentials.html" />
    <link rel="prev" title="Cybersecurity in an Enterprise" href="LFF-ESS-P0A-CyberSecurityEnterprise.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            tech.bitvijays.com
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">The Essentials</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="LFF-ESS-P0A-CyberSecurityEnterprise.html">Cybersecurity in an Enterprise</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Linux Basics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#linux-concepts">Linux Concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#terminology">Terminology</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#kernel">Kernel</a></li>
<li class="toctree-l4"><a class="reference internal" href="#userspace">Userspace</a></li>
<li class="toctree-l4"><a class="reference internal" href="#distribution">Distribution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#boot-loader">Boot loader</a></li>
<li class="toctree-l4"><a class="reference internal" href="#service">Service</a></li>
<li class="toctree-l4"><a class="reference internal" href="#x-window-system">X Window System</a></li>
<li class="toctree-l4"><a class="reference internal" href="#desktop-environment">Desktop Environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-line">Command Line</a></li>
<li class="toctree-l4"><a class="reference internal" href="#shell">Shell</a></li>
<li class="toctree-l4"><a class="reference internal" href="#partition">Partition</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filesystem">Filesystem</a></li>
<li class="toctree-l4"><a class="reference internal" href="#device-files">Device files</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#block">Block</a></li>
<li class="toctree-l5"><a class="reference internal" href="#character">Character</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#linux-development-process">Linux Development Process</a></li>
<li class="toctree-l3"><a class="reference internal" href="#linux-families">Linux Families</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#redhat-family">Redhat Family</a></li>
<li class="toctree-l4"><a class="reference internal" href="#suse-family">SUSE Family</a></li>
<li class="toctree-l4"><a class="reference internal" href="#debian-family">Debian Family</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#linux-applications">Linux Applications</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#linux-boot-process">Linux Boot Process</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bios">BIOS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#master-boot-record-mbr-and-boot-loader">Master Boot Record (MBR) and Boot Loader</a></li>
<li class="toctree-l3"><a class="reference internal" href="#boot-loader-in-action">Boot loader in action</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#first-stage">First stage</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#for-systems-using-the-bios-mbr-method">For systems using the BIOS/MBR method</a></li>
<li class="toctree-l5"><a class="reference internal" href="#for-systems-using-the-efi-uefi-method">For systems using the EFI/UEFI method</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#second-stage">Second stage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#initial-ram-disk">Initial RAM Disk</a></li>
<li class="toctree-l3"><a class="reference internal" href="#text-mode-login">Text-Mode Login</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kernel-init-and-services">Kernel, Init and Services</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sbin-init-and-services">/sbin/init and services</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#upstart">Upstart</a></li>
<li class="toctree-l5"><a class="reference internal" href="#systemd">systemd</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#linux-runlevels">Linux Runlevels</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#linux-filesystem">Linux Filesystem</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#data-distinctions">Data Distinctions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#shareable-vs-non-shareable-data">Shareable vs Non-shareable data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#variable-vs-static">Variable vs. Static</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#linux-directories">Linux Directories</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bin">/bin</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sbin">/sbin</a></li>
<li class="toctree-l4"><a class="reference internal" href="#proc">/proc</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dev">/dev</a></li>
<li class="toctree-l4"><a class="reference internal" href="#var">/var</a></li>
<li class="toctree-l4"><a class="reference internal" href="#etc">/etc</a></li>
<li class="toctree-l4"><a class="reference internal" href="#boot">/boot</a></li>
<li class="toctree-l4"><a class="reference internal" href="#lib">/lib</a></li>
<li class="toctree-l4"><a class="reference internal" href="#others">Others</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#other-information">Other Information</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#file-system-superblock">File System Superblock</a></li>
<li class="toctree-l4"><a class="reference internal" href="#view-superblock-information">View superblock information</a></li>
<li class="toctree-l4"><a class="reference internal" href="#du">du</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#estimate-file-space-usage">Estimate file space usage</a></li>
<li class="toctree-l5"><a class="reference internal" href="#show-disk-usage">Show disk usage</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#mkfs">mkfs</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#gui-and-terminal">GUI and Terminal</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">X Window System</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#current-screen-resolution">Current screen resolution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#turn-off-the-graphical-desktop">Turn off the graphical desktop</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#terminal-emulator">Terminal Emulator</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#virtual-terminal">Virtual Terminal</a></li>
<li class="toctree-l4"><a class="reference internal" href="#screen-multiplexer">Screen Multiplexer</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#tmux">tmux</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#basic-utilities-and-operations">Basic Utilities and Operations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#binary-locations">Binary Locations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#command-line-parameters">Command-line Parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#getting-help">Getting Help</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#man">man</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gnu-info">GNU Info</a></li>
<li class="toctree-l4"><a class="reference internal" href="#help">help</a></li>
<li class="toctree-l4"><a class="reference internal" href="#graphical-help-system">Graphical Help System</a></li>
<li class="toctree-l4"><a class="reference internal" href="#package-documentation">Package Documentation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#locating-applications">Locating Applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exploring-filesystem-and-directories">Exploring Filesystem and Directories</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cd">cd</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tree">tree</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ls">ls</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#ls-showing-full-path">ls showing full path</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#creating-and-deleting-files-and-directories">Creating and deleting files and directories</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#creating-a-simple-file">Creating a simple file</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#echo">echo</a></li>
<li class="toctree-l5"><a class="reference internal" href="#cat">cat</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#editing-text-files-using-vi">Editing text files using Vi</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#open-file-with-vi">Open file with vi</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vi-modes">Vi Modes</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#command-mode">Command Mode</a></li>
<li class="toctree-l5"><a class="reference internal" href="#insert-mode">Insert Mode</a></li>
<li class="toctree-l5"><a class="reference internal" href="#line-mode">Line Mode</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#vi-configuration-files">Vi Configuration Files</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#vimrc">.vimrc</a></li>
<li class="toctree-l5"><a class="reference internal" href="#viminfo">.viminfo</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#replace-text-in-vi">Replace text in Vi</a></li>
<li class="toctree-l4"><a class="reference internal" href="#other-info">Other Info</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#manipulating-text">Manipulating Text</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cut-remove-sections-from-each-line-of-files">cut - remove sections from each line of files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sed">sed</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#awk">awk</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#awk-converting-to-normal-output-to-csv">Awk converting to normal output to csv</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#sort">sort</a></li>
<li class="toctree-l4"><a class="reference internal" href="#uniq">uniq</a></li>
<li class="toctree-l4"><a class="reference internal" href="#paste">paste</a></li>
<li class="toctree-l4"><a class="reference internal" href="#join">join</a></li>
<li class="toctree-l4"><a class="reference internal" href="#split">split</a></li>
<li class="toctree-l4"><a class="reference internal" href="#strings">strings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tr">tr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tee">tee</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wc">wc</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cut">cut</a></li>
<li class="toctree-l4"><a class="reference internal" href="#alias">alias</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#viewing-files">Viewing Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">echo</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">cat</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xxd">xxd</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hexdump">hexdump</a></li>
<li class="toctree-l4"><a class="reference internal" href="#view-large-files">View large files</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#less">less</a></li>
<li class="toctree-l5"><a class="reference internal" href="#head">head</a></li>
<li class="toctree-l5"><a class="reference internal" href="#tail">tail</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#viewing-compressed-files">Viewing compressed files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#searching-files">Searching Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#locate">locate</a></li>
<li class="toctree-l4"><a class="reference internal" href="#find">find</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#example-remove-all-files-that-end-with-swp">Example: Remove all files that end with <code class="docutils literal notranslate"><span class="pre">.swp</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#example-delete-empty-file-and-directories">Example: Delete empty file and directories</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#searching-for-text-using-global-regular-expression-print-grep">Searching for text using Global Regular Expression Print (grep)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ways-to-provide-input-to-grep">Ways to provide input to grep</a></li>
<li class="toctree-l4"><a class="reference internal" href="#syntax">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-regular-expressions">Using regular expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#grep-e-grep-e">grep -e / grep -E</a></li>
<li class="toctree-l4"><a class="reference internal" href="#search-a-specific-string">Search a specific string</a></li>
<li class="toctree-l4"><a class="reference internal" href="#line-and-word-anchors">Line and word anchors</a></li>
<li class="toctree-l4"><a class="reference internal" href="#shell-expansions-input-to-grep">Shell expansions - input to Grep</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#compressing-files">Compressing Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tar">tar</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gzip">gzip</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bzip">bzip</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xz">xz</a></li>
<li class="toctree-l4"><a class="reference internal" href="#zip">zip</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#backing-up-data">Backing up data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cp">cp</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rsync">rsync</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#comparing-files-with-diff">Comparing files with diff</a></li>
<li class="toctree-l3"><a class="reference internal" href="#identifying-users">Identifying Users</a></li>
<li class="toctree-l3"><a class="reference internal" href="#builtins">Builtins</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-commands">Other commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="#regular-expressions-and-search-patterns">Regular Expressions and search patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="#environment-variables">Environment Variables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#home">Home</a></li>
<li class="toctree-l4"><a class="reference internal" href="#path">Path</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">SHELL</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ps1-command-line-prompt">PS1 &amp; Command Line Prompt</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#networking">Networking</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ip">ip</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ping">ping</a></li>
<li class="toctree-l3"><a class="reference internal" href="#route">route</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#show-current-routing-table">Show current routing table</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-static-route">Add static route</a></li>
<li class="toctree-l4"><a class="reference internal" href="#delete-static-route">Delete static route</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#traceroute">traceroute</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wget">wget</a></li>
<li class="toctree-l3"><a class="reference internal" href="#curl">curl</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ftp">ftp</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ssh">ssh</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#generating-new-ssh-host-keys">Generating new SSH host keys</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#scp">scp</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-tools">Other tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setting-up-ip-address">Setting up IP address</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ifupdown">ifupdown</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#ifupdown-s-configuration-file">ifupdown’s configuration file</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#systemd-networkd">systemd-networkd</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">ip</a></li>
<li class="toctree-l4"><a class="reference internal" href="#netplan">netplan</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ifconfig">ifconfig</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ping-ip-address">Ping IP Address</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#windows">Windows</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#powershell">Powershell</a></li>
<li class="toctree-l5"><a class="reference internal" href="#cmd">CMD</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#important-concepts">Important concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pipes">Pipes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#special-characters">Special Characters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#understanding-absolute-and-relative-paths">Understanding Absolute and Relative Paths</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#absolute-pathname">Absolute pathname</a></li>
<li class="toctree-l4"><a class="reference internal" href="#relative-pathname">Relative pathname</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#hard-and-soft-links">Hard and Soft Links</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hard-links">Hard Links</a></li>
<li class="toctree-l4"><a class="reference internal" href="#soft-links">Soft Links</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#information">Information</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#confidentiality-integrity-availability">Confidentiality, Integrity, Availability</a></li>
<li class="toctree-l4"><a class="reference internal" href="#non-repudiation">Non-repudiation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#important-file-formats">Important File Formats</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#etc-passwd">/etc/passwd</a></li>
<li class="toctree-l4"><a class="reference internal" href="#etc-shadow">/etc/shadow</a></li>
<li class="toctree-l4"><a class="reference internal" href="#etc-group">/etc/group</a></li>
<li class="toctree-l4"><a class="reference internal" href="#read-passwd-shadow-file">Read passwd/shadow file</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#gathering-information">Gathering Information</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#from-files">From Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#from-commands">From Commands</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#keyboard-shortcuts">Keyboard shortcuts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#moving">Moving</a></li>
<li class="toctree-l4"><a class="reference internal" href="#erasing">Erasing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#window">Window</a></li>
<li class="toctree-l4"><a class="reference internal" href="#other-shortcuts">Other shortcuts</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#searching-history">Searching History</a></li>
<li class="toctree-l3"><a class="reference internal" href="#difference-between-su-and-sudo">Difference between su and sudo</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#su">su</a></li>
<li class="toctree-l4"><a class="reference internal" href="#su-c">su -c</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sudo">sudo</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#command-logging">Command logging</a></li>
<li class="toctree-l5"><a class="reference internal" href="#adding-user-to-sudoers-groups">Adding user to sudoers groups</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#disk-to-disk-copying-dd">Disk-to-Disk Copying (dd)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#process-and-process-attributes">Process and Process attributes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#static-and-shared-libraries">Static and Shared Libraries</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#finding-shared-libraries">Finding Shared Libraries</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#controlling-processes-with-ulimit">Controlling processes with ulimit</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hard-limit">Hard Limit</a></li>
<li class="toctree-l4"><a class="reference internal" href="#soft-limit">Soft Limit</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#process-scheduling-and-states">Process Scheduling and states</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#execution-modes">Execution modes</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#user-mode">User Mode</a></li>
<li class="toctree-l5"><a class="reference internal" href="#kernel-mode">Kernel Mode</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#process-and-thread-ids">Process and Thread IDs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#creating-processes-in-command-shell">Creating processes in command shell</a></li>
<li class="toctree-l4"><a class="reference internal" href="#signals">Signals</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#kill-the-process">Kill the process</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#user-and-group-ids">User and Group IDs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#priorities">Priorities</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#nice">nice</a></li>
<li class="toctree-l5"><a class="reference internal" href="#renice">renice</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#load-average">Load average</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#background-and-foreground-processes">Background and Foreground Processes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#managing-jobs">Managing Jobs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#system-v-ipc">System V IPC</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ps-command">PS Command</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#system-v-style">System V style</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bsd-style">BSD Style</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#process-tree">Process Tree</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scheduling-process">Scheduling process</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#at">at</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cron">cron</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sleep">sleep</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#bash">Bash</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#important-configuration-files-for-debian-ubuntu-based-systems">Important configuration files - For Debian/Ubuntu based Systems</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#user-startup-files">User Startup files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#command-history">Command history</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#recalling-previous-commands">Recalling Previous commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="#finding-and-using-previous-commands">Finding and using previous commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="#executing-previous-command">Executing previous command</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bash-command-substitution">Bash Command Substitution</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bash-case-modification">Bash Case Modification</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#example-parameter">Example: Parameter ^</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-parameter-1">Example: Parameter ,</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-parameter-2">Example: Parameter ~</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bash-programming">Bash Programming</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#conditional-statements">Conditional statements</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#for-loop">For Loop</a></li>
<li class="toctree-l5"><a class="reference internal" href="#while-loop">While loop</a></li>
<li class="toctree-l5"><a class="reference internal" href="#until-loop">Until loop</a></li>
<li class="toctree-l5"><a class="reference internal" href="#if-statement">If Statement</a></li>
<li class="toctree-l5"><a class="reference internal" href="#elif-statement">elif statement</a></li>
<li class="toctree-l5"><a class="reference internal" href="#case-statement">case statement</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#bash-functions">Bash functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#shell-script">Shell script</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#shell-script-arguments">shell script arguments</a></li>
<li class="toctree-l5"><a class="reference internal" href="#debugging-bash-scripts">Debugging bash scripts</a></li>
<li class="toctree-l5"><a class="reference internal" href="#return-values">Return values</a></li>
<li class="toctree-l5"><a class="reference internal" href="#script-syntax">Script Syntax</a></li>
<li class="toctree-l5"><a class="reference internal" href="#shellcheck">Shellcheck</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#creating-temp-directory-and-files">Creating Temp Directory and files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#discarding-output-with-dev-null">Discarding output with /dev/null</a></li>
<li class="toctree-l4"><a class="reference internal" href="#random-number">Random number</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#multiple-commands-on-a-single-line">Multiple commands on a single line</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#i-o-redirection">I/O Redirection</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#output-redirection">Output redirection</a></li>
<li class="toctree-l5"><a class="reference internal" href="#input-redirection">Input redirection</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#equality-tests">Equality Tests</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#list-of-equality-tests">List of equality tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#checks-equality-between-numbers">Checks equality between numbers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#checks-equality-between-strings">Checks equality between strings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#arithmetic-expressions">Arithmetic expressions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#using-the-expr">Using the expr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-the-syntax">Using the $((…)) syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-the-built-in-shell-command-let">Using the built-in shell command let</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#system-administration">System Administration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#package-management">Package Management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#package-types">Package Types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#updating-linux-system-using-a-low-level-tool">Updating Linux System using a low-level tool</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#using-dpkg-debian-ubuntu">Using dpkg (Debian/Ubuntu)</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#installing-upgrading-uninstalling-packages">Installing/Upgrading/Uninstalling Packages</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#using-rpm-red-hat-and-fedora">Using RPM (Red hat and Fedora)</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#installing-packages">Installing packages</a></li>
<li class="toctree-l5"><a class="reference internal" href="#uninstalling-packages">Uninstalling packages</a></li>
<li class="toctree-l5"><a class="reference internal" href="#updating-packages">Updating packages</a></li>
<li class="toctree-l5"><a class="reference internal" href="#freshening-packages">Freshening Packages</a></li>
<li class="toctree-l5"><a class="reference internal" href="#verifying-packages">Verifying packages</a></li>
<li class="toctree-l5"><a class="reference internal" href="#upgrading-the-kernel">Upgrading the kernel</a></li>
<li class="toctree-l5"><a class="reference internal" href="#other">Other</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#updating-linux-system-using-a-high-level-tool">Updating Linux System using a high-level tool</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#using-apt-get">Using apt-get</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#queries">Queries</a></li>
<li class="toctree-l5"><a class="reference internal" href="#installing-removing-upgrading-packages">Installing/Removing/Upgrading Packages</a></li>
<li class="toctree-l5"><a class="reference internal" href="#apt-configuration">apt configuration</a></li>
<li class="toctree-l5"><a class="reference internal" href="#package-priorities">Package Priorities</a></li>
<li class="toctree-l5"><a class="reference internal" href="#working-with-different-distributions">Working with different distributions</a></li>
<li class="toctree-l5"><a class="reference internal" href="#tracking-automatically-installed-packages">Tracking automatically installed packages</a></li>
<li class="toctree-l5"><a class="reference internal" href="#multi-arch-support">Multi-Arch Support</a></li>
<li class="toctree-l5"><a class="reference internal" href="#validating-package-authority">Validating Package authority</a></li>
<li class="toctree-l5"><a class="reference internal" href="#deep-dive-apt">Deep-dive APT</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#using-dnf">Using dnf</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#query-packages">Query packages</a></li>
<li class="toctree-l5"><a class="reference internal" href="#installingremovingupgrading-packages-1">Installing/Removing/Upgrading Packages</a></li>
<li class="toctree-l5"><a class="reference internal" href="#other-commands-1">Other commands</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#using-yum">Using yum</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-zypper">Using zypper</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#queries-1">Queries</a></li>
<li class="toctree-l5"><a class="reference internal" href="#installingremovingupgrading-packages-2">Installing/Removing/Upgrading Packages</a></li>
<li class="toctree-l5"><a class="reference internal" href="#others-1">Others</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#adding-deleting-modifying-users-groups">Adding/Deleting/Modifying Users/Groups</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#working-with-several-groups">Working with several groups</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#changing-group-owner-permission">Changing Group/Owner/Permission</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#file-permissions-modes-and-chmod">File Permissions Modes and chmod</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setuid-and-setgid">setuid and setgid</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stickybit">stickybit</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#mounting-unmounting">Mounting/Unmounting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#mounting-windows-share-on-linux">Mounting Windows share on Linux</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#nfs">NFS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#server">Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="#client">Client</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#explore-mounted-filesystem">Explore Mounted FileSystem</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sysctl-configure-kernel-parameters">Sysctl - configure kernel parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#kernel-modules">Kernel Modules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#manage-runlevels">Manage Runlevels</a></li>
<li class="toctree-l4"><a class="reference internal" href="#update-rc-d">update-rc.d</a></li>
<li class="toctree-l4"><a class="reference internal" href="#systemctl">systemctl</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#printing">Printing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cups">CUPS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#configuration-files">Configuration files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scheduler">Scheduler</a></li>
<li class="toctree-l4"><a class="reference internal" href="#log-files">Log files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filter-printer-drivers-backend">Filter, Printer Drivers, Backend</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#managing-cups">Managing CUPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-printers-from-cups-web-interface">Adding printers from CUPS Web interface</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#printing-document">Printing document</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#printing-from-gui">Printing from GUI</a></li>
<li class="toctree-l5"><a class="reference internal" href="#printing-from-command-line">Printing from Command line</a></li>
<li class="toctree-l5"><a class="reference internal" href="#managing-printing-jobs">Managing Printing jobs</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#postscript-and-pdf">PostScript and PDF</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#converting-between-postscript-and-pdf">Converting between PostScript and PDF</a></li>
<li class="toctree-l3"><a class="reference internal" href="#linux-pdf-reader">Linux PDF Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="#manipulating-pdf">Manipulating PDF</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#qpdf">qpdf</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#encrypting-pdf-files-with-qpdf">Encrypting PDF files with qpdf</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#pdftk">pdftk</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#encrypting-pdf-files-with-pdftk">Encrypting PDF Files with pdftk</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#ghost-script">Ghost script</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#other-pdf-tool">Other pdf tool</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pdfinfo">pdfinfo</a></li>
<li class="toctree-l4"><a class="reference internal" href="#flpsed">flpsed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pdfmod">pdfmod</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#programming">Programming</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#git">GIT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#command-line-substitute-for-gitk">Command-line substitute for gitk</a></li>
<li class="toctree-l4"><a class="reference internal" href="#list-all-commits-for-a-specific-file">List all commits for a specific file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#see-the-changes-in-a-git-commit">See the changes in a Git commit?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#cc-gnu-compile-collection">cc - GNU Compile Collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gdb-gnu-debugger">GDB: GNU debugger</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#basic-linux-security">Basic Linux Security</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general-tips">General Tips</a></li>
<li class="toctree-l3"><a class="reference internal" href="#firewall">Firewall</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#netfilter-behavior">Netfilter Behavior</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#chains">Chains</a></li>
<li class="toctree-l5"><a class="reference internal" href="#actions">Actions</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#iptables-syntax">iptables syntax</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#commands">Commands</a></li>
<li class="toctree-l5"><a class="reference internal" href="#rules">Rules</a></li>
<li class="toctree-l5"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#fwbuilder">fwbuilder</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#operations-requiring-root-privileges">Operations requiring root privileges</a></li>
<li class="toctree-l3"><a class="reference internal" href="#operations-not-requiring-root-privileges">Operations not requiring root privileges</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#suid">SUID</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#process-isolation">Process Isolation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#password-storage">Password storage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#password-algorithm">Password Algorithm</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#good-password-practices">Good Password Practices</a></li>
<li class="toctree-l3"><a class="reference internal" href="#requiring-boot-loader-passwords">Requiring Boot Loader Passwords</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hardware-security">Hardware Security</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#automatic-linux-install">Automatic Linux Install</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#preseeding-answers">Preseeding answers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#with-boot-parameters">With Boot Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#with-a-preseed-file-in-the-initrd">With a Preseed File in the Initrd</a></li>
<li class="toctree-l4"><a class="reference internal" href="#with-a-preseed-file-in-the-boot-media">With a Preseed File in the Boot Media</a></li>
<li class="toctree-l4"><a class="reference internal" href="#with-a-preseed-file-loaded-from-the-network">With a Preseed File Loaded from the Network</a></li>
<li class="toctree-l4"><a class="reference internal" href="#delaying-the-language-country-keyboard-questions">Delaying the Language, Country, Keyboard Questions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-preseed-file">Creating a Preseed file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#debugging-failed-installations">Debugging failed installations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#monitoring-and-logging">Monitoring and Logging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#detecting-changes">Detecting changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#auditing-packages-with-dpkg-verify">Auditing Packages with dpkg –verify</a></li>
<li class="toctree-l4"><a class="reference internal" href="#monitoring-files-aide">Monitoring Files: AIDE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#monitoring-etc-directory">Monitoring /etc directory</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15">Others</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tips-and-tricks">Tips and tricks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#apt-get-error">Apt-get error?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#finding-most-open-ports-in-nmap-scan">Finding most open ports in nmap scan</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#interesting-stuff">Interesting Stuff</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="LFF-ESS-P0C-CloudEssentials.html">Cloud Infrastructure Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="LFF-ESS-P0E-OpenSource.html">Open Source Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="LFF-ESS-P0D-SecureSoftware.html">Secure Software Development Fundamentals</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Infrastructure Pentest</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Series_Infrastructure_Pentest/LFF-IPS-P1-IntelligenceGathering.html">Intelligence Gathering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Infrastructure_Pentest/LFF-IPS-P2-VulnerabilityAnalysis.html">Vulnerability Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Infrastructure_Pentest/LFF-IPS-P3-Exploitation.html">Exploitation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Infrastructure_Pentest/LFF-IPS-P4-PostExploitation.html">Post Exploitation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Infrastructure_Pentest/LFF-IPS-P5-Reporting.html">Reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Infrastructure_Pentest/LFF-IPS-P6-ConfigurationReview.html">Configuration Review</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vulnerable Machines</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Series_Vulnerable_Machines/LFC-VM-P0-InitialRecon.html">Initial Recon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Vulnerable_Machines/LFC-VM-P1-FromNothingToUnprivilegedShell.html">From Nothing to a Unprivileged Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Vulnerable_Machines/LFC-VM-P2-UnprivilegedToPrivilegedShell.html">Unprivileged Shell to Privileged Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Vulnerable_Machines/LFC-VM-P3-TipsAndTricks.html">Tips and Tricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Vulnerable_Machines/LFC-VM-P4-Appendix.html">Appendix</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">CTF - Challenges</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Series_Capture_The_Flag/LFC-BinaryExploitation.html">Binary Exploitation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Capture_The_Flag/LFC-Forensics.html">Forensics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Capture_The_Flag/LFC-ReverseEngineering.html">Reverse Engineering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Capture_The_Flag/LFC-Cryptography.html">Cryptography</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Capture_The_Flag/LFC-CodingQuickRef.html">Coding Quick Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Critical Infrastructure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Series_Critical_Infrastructure/LFF-CIS-IndustrialControlSystems.html">Industrial Control Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Series_Critical_Infrastructure/LFF-CIS-ElectricalGrid.html">Electrical Grid</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">tech.bitvijays.com</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Linux Basics</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="linux-basics">
<h1>Linux Basics<a class="headerlink" href="#linux-basics" title="Link to this heading"></a></h1>
<p>This post lists essential commands and concepts which would be helpful
to a Linux user. We would cover Linux concepts, boot process, file system, GUI, terminals, basic utilities and operations, networking, process, bash and a lot more. We have used different illustrations by <a class="reference external" href="https://twitter.com/b0rk">Julia Evans</a> that helps to explain few
concepts digramwise. Information is also added from the free <a class="reference external" href="https://training.linuxfoundation.org/training/introduction-to-linux/">Linux Foundation - Introduction to Linux</a>
course and <a class="reference external" href="https://github.com/abidmuin/KLCP/blob/master/Kali-Linux-Revealed-1st-edition.pdf">Kali Linux Revealed 1st edition</a>.</p>
<section id="linux-concepts">
<h2>Linux Concepts<a class="headerlink" href="#linux-concepts" title="Link to this heading"></a></h2>
<p>Linux is a full multi-tasking, multi-user OS with built-in networking
and service processes known as daemons.</p>
<section id="terminology">
<h3>Terminology<a class="headerlink" href="#terminology" title="Link to this heading"></a></h3>
<section id="kernel">
<h4>Kernel<a class="headerlink" href="#kernel" title="Link to this heading"></a></h4>
<p>The kernel is considered the brain of the Linux OS. It controls the
hardware and makes the hardware interact with the applications. Example:
Linux kernel.</p>
</section>
<section id="userspace">
<h4>Userspace<a class="headerlink" href="#userspace" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>User space (or userland) refers to all code that runs outside the operating system’s kernel.</p></li>
<li><p>User space usually refers to the various programs and libraries that the operating system uses to interact with the kernel: software that performs input/output, manipulates file system objects, application software, etc.</p></li>
</ul>
</section>
<section id="distribution">
<h4>Distribution<a class="headerlink" href="#distribution" title="Link to this heading"></a></h4>
<p>A distribution (Distros) is a collection of programs combined with the
Linux kernel to make up a Linux-based OS. Example: Red Hat Enterprise
Linux, Fedora, Ubuntu, and Gentoo.</p>
</section>
<section id="boot-loader">
<h4>Boot loader<a class="headerlink" href="#boot-loader" title="Link to this heading"></a></h4>
<p>The boot loader is a program that boots the OS. Examples: GRUB and
ISOLINUX.</p>
</section>
<section id="service">
<h4>Service<a class="headerlink" href="#service" title="Link to this heading"></a></h4>
<p>A service is a program that runs as a background process. Example:
httpd, nfsd, ntpd, ftpd, and named.</p>
</section>
<section id="x-window-system">
<h4>X Window System<a class="headerlink" href="#x-window-system" title="Link to this heading"></a></h4>
<p>The X Window System provides the standard toolkit and protocol to build
graphical user interfaces on nearly all Linux systems.</p>
</section>
<section id="desktop-environment">
<h4>Desktop Environment<a class="headerlink" href="#desktop-environment" title="Link to this heading"></a></h4>
<p>The desktop environment is a graphical user interface on top of the OS.
Example: GNOME, KDE, Xfce, and Fluxbox</p>
</section>
<section id="command-line">
<h4>Command Line<a class="headerlink" href="#command-line" title="Link to this heading"></a></h4>
<p>The command line is an interface for typing commands on top of the OS. It is a text-based interface that allows to enter commands, execute them, and view the results.</p>
</section>
<section id="shell">
<h4>Shell<a class="headerlink" href="#shell" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The shell is the command-line interpreter that interprets the command line input and instructs the OS to perform any necessary tasks and commands. Example: bash, tcsh, and zsh.</p></li>
<li><p>The trailing <code class="docutils literal notranslate"><span class="pre">$</span></code> or <code class="docutils literal notranslate"><span class="pre">#</span></code> character indicates that the shell is awaiting the input. It also indicates whether Bash recognizes as a normal user (the dollar, <code class="docutils literal notranslate"><span class="pre">$</span></code>) or as a super user (the hash, <code class="docutils literal notranslate"><span class="pre">#</span></code>).</p></li>
<li><p>The shell executes each command by running the first program of the given name found in a directory listed in the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable.</p></li>
</ul>
<figure class="align-default" id="id16">
<img alt="What is Shell" src="../_images/whatis_shell.jfif" />
<figcaption>
<p><span class="caption-text">What is Shell</span><a class="headerlink" href="#id16" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="partition">
<h4>Partition<a class="headerlink" href="#partition" title="Link to this heading"></a></h4>
<p>A partition is a logical part of the disk. By dividing the hard disk
into partitions, data can be grouped and separated as needed. When a
failure or mistake occurs, only the data in the affected partition will
be damaged. In contrast, the data on the other partitions will likely
survive.</p>
</section>
<section id="filesystem">
<h4>Filesystem<a class="headerlink" href="#filesystem" title="Link to this heading"></a></h4>
<p>A filesystem is a method for storing and organizing files in Linux.
Example: ext3, ext4, FAT, XFS, and Btrfs.</p>
</section>
<section id="device-files">
<h4>Device files<a class="headerlink" href="#device-files" title="Link to this heading"></a></h4>
<p>There are two types of device files:</p>
<section id="block">
<h5>Block<a class="headerlink" href="#block" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>A block of data that has a finite size, and any particular byte can be accessed at any position in the block.</p></li>
<li><p>Disk drives and partitions use block devices</p></li>
</ul>
</section>
<section id="character">
<h5>Character<a class="headerlink" href="#character" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>A flow of characters that can be read and written, but we access to a particular position and change arbitrary bytes is not possible.</p></li>
<li><p>Mouse, keyboard, and serial ports use character devices.</p></li>
</ul>
<p>To check for a paritcular device file, inspect the first letter in the output of <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">-l</span></code>. It would be <code class="docutils literal notranslate"><span class="pre">b</span></code> for block devices, or <code class="docutils literal notranslate"><span class="pre">c</span></code>, for character devices.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ls<span class="w"> </span>-l<span class="w"> </span>/dev/m*
<span class="go"> crw-rw----+ 1 root video 506, 0 Mar 20 14:32 /dev/media0</span>
<span class="go"> crw-rw----+ 1 root video 506, 1 Mar 20 14:32 /dev/media1</span>
<span class="go"> crw-rw----+ 1 root video 506, 2 Mar 20 14:32 /dev/media2</span>
<span class="go"> crw-r-----  1 root kmem    1, 1 Mar 20 14:32 /dev/mem</span>
<span class="go"> brw-rw----  1 root disk  179, 0 Mar 20 14:32 /dev/mmcblk0</span>
<span class="go"> brw-rw----  1 root disk  179, 1 Mar 20 14:32 /dev/mmcblk0p1</span>
<span class="go"> brw-rw----  1 root disk  179, 2 May 22 15:54 /dev/mmcblk0p2</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="linux-development-process">
<h3>Linux Development Process<a class="headerlink" href="#linux-development-process" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Developers submit the code to the Linux kernel by breaking changes
into individual units called patches.</p></li>
<li><p>A patch describes the lines that need to be changed, added, or
removed from the source code. Each patch can add a new feature, new
support for a device, fix a problem, improve performance, or rework
code to be more easily understood.</p></li>
<li><p>Developers post their patches to the relevant mailing list where
other developers can reply with feedback.</p></li>
<li><p>When the patch is close to being release-ready, it is accepted by a
senior Linux kernel developer or maintainer who manages different
kernel sections.</p></li>
<li><p>When the maintainer finishes their review (more extensive
evaluation), they will sign off on the patch and send it off to the
Linux creator and Linux Foundation fellow (Linus Torvalds). Linus has
the ultimate authority on what is accepted into the next release.</p></li>
</ul>
</section>
<section id="linux-families">
<h3>Linux Families<a class="headerlink" href="#linux-families" title="Link to this heading"></a></h3>
<p>Linux (at a very high level) refers to the OS Kernel, i.e., the basic
program that communicates with the hardware (CPU, memory, and attached
devices) and the applications that run on the computer.</p>
<p>There are currently (the year 2021) three major Linux distribution
families.</p>
<section id="redhat-family">
<h4>Redhat Family<a class="headerlink" href="#redhat-family" title="Link to this heading"></a></h4>
<p>Red Hat Enterprise Linux (RHEL) heads the family, including CentOS,
Fedora, and Oracle Linux.</p>
</section>
<section id="suse-family">
<h4>SUSE Family<a class="headerlink" href="#suse-family" title="Link to this heading"></a></h4>
<p>SUSE (SUSE Linux Enterprise Server (SLES)) and openSUSE</p>
<ul class="simple">
<li><p>Uses the RPM-based <code class="docutils literal notranslate"><span class="pre">zypper</span></code> package manager to install, update, and
remove packages in the system.</p></li>
<li><p>Includes the YaST (Yet Another Setup Tool) application for system
administration purposes.</p></li>
</ul>
</section>
<section id="debian-family">
<h4>Debian Family<a class="headerlink" href="#debian-family" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Uses the DPKG-based APT package manager (using <code class="docutils literal notranslate"><span class="pre">apt</span></code>, <code class="docutils literal notranslate"><span class="pre">apt-get</span></code>,
<code class="docutils literal notranslate"><span class="pre">apt-cache</span></code>) to install, update, and remove packages in the system.</p></li>
</ul>
</section>
</section>
<section id="linux-applications">
<h3>Linux Applications<a class="headerlink" href="#linux-applications" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Linux offers a wide variety of Internet applications, such as web
browsers, email clients, online media applications.</p></li>
<li><p>Web browsers supported by Linux can be either graphical or
text-based, such as Firefox, Google Chrome, Epiphany, w3m, lynx.</p></li>
<li><p>Linux supports graphical email clients, such as Thunderbird,
Evolution, Claws Mail, and text-mode email clients, such as Mutt and
mail.</p></li>
<li><p>Linux systems provide many other applications for performing
Internet-related tasks, such as Filezilla, XChat, Pidgin.</p></li>
<li><p>Most Linux distributions offer LibreOffice to create and edit
different kinds of documents.</p></li>
<li><p>Linux systems offer entire suites of development applications and
tools, including compilers and debuggers.</p></li>
<li><p>Linux systems offer several</p>
<ul>
<li><p>sound players including Amarok, Audacity, and Rhythmbox.</p></li>
<li><p>movie players, including VLC, MPlayer, Xine, and Totem.</p></li>
<li><p>movie editors, including Kino, Cinepaint, Blender, among others.</p></li>
</ul>
</li>
<li><p>The GIMP (GNU Image Manipulation Program) utility is a feature-rich
image retouching and editing tool available on all Linux
distributions.</p></li>
<li><p>Other graphics utilities that help perform various image-related
tasks are eog, Inkscape, convert, and Scribus.</p></li>
</ul>
</section>
</section>
<section id="linux-boot-process">
<h2>Linux Boot Process<a class="headerlink" href="#linux-boot-process" title="Link to this heading"></a></h2>
<p>The Linux boot process is the procedure for initializing the system. It
consists of everything from when the computer power is first switched on
until the user interface is fully operational.</p>
<ol class="arabic simple">
<li><p>Basic Input/Output System (BIOS) starts the boot loader.</p></li>
<li><p>Boot loader loads the kernel into memory.</p></li>
<li><p>The Kernel mounts disks/partitions and starts the init daemon.</p></li>
<li><p>The init daemon starts services based on the run level.</p></li>
</ol>
<p>The boot process has multiple steps, starting with BIOS, which triggers
the boot loader to start up the Linux kernel. From there, the initramfs
filesystem is invoked, which triggers the init program to complete the
startup process.</p>
<section id="bios">
<h3>BIOS<a class="headerlink" href="#bios" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Computer is powered on.</p></li>
<li><p>POST (Power On Self Test) starts the BIOS stored on a ROM chip on the
motherboard, initializes the hardware, including the screen and
keyboard, and tests the main memory.</p></li>
<li><p>The remainder of the boot process is controlled by the OS.</p></li>
</ul>
</section>
<section id="master-boot-record-mbr-and-boot-loader">
<h3>Master Boot Record (MBR) and Boot Loader<a class="headerlink" href="#master-boot-record-mbr-and-boot-loader" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>After POST, the system control passes from the BIOS to the boot
loader.</p></li>
<li><p>The boot loader is usually stored on one of the hard disks in the
system.</p>
<ul>
<li><p>either in the boot sector (for traditional BIOS/MBR systems) or</p></li>
<li><p>the EFI partition ((Unified) Extensible Firmware Interface or
EFI/UEFI systems).</p></li>
</ul>
</li>
<li><p>Information on date, time, and the most important peripherals are
loaded from the CMOS values. CMOS is a battery-powered memory store,
which allows the system to keep track of the date and time even when
it is powered off.</p></li>
<li><p>Several boot loaders exist for Linux; the most common ones are</p>
<ul>
<li><p>GRUB (for GRand Unified Boot loader),</p></li>
<li><p>ISOLINUX (for booting from removable media), and</p></li>
<li><p>DAS U-Boot (for booting on embedded devices/appliances).</p></li>
</ul>
</li>
<li><p>Linux boot loaders can present a user interface for choosing
alternative options for booting Linux and even other OSs that might
be installed.</p></li>
<li><p>The boot loader is responsible for loading the kernel image and the
initial RAM disk or filesystem into memory. The init RAM disk
contains critical files and device drivers needed to start the
system.</p></li>
</ul>
</section>
<section id="boot-loader-in-action">
<h3>Boot loader in action<a class="headerlink" href="#boot-loader-in-action" title="Link to this heading"></a></h3>
<p>The boot loader has two distinct stages:</p>
<section id="first-stage">
<h4>First stage<a class="headerlink" href="#first-stage" title="Link to this heading"></a></h4>
<section id="for-systems-using-the-bios-mbr-method">
<h5>For systems using the BIOS/MBR method<a class="headerlink" href="#for-systems-using-the-bios-mbr-method" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>The boot loader resides at the first sector of the hard disk (Master
Boot Record (MBR)). The size of the MBR is just 512 bytes.</p></li>
<li><p>The boot loader examines the partition table and finds a bootable
partition. Once it finds a bootable partition, it searches for the
second stage boot loader, GRUB, and loads it into RAM (Random Access
Memory).</p></li>
</ul>
</section>
<section id="for-systems-using-the-efi-uefi-method">
<h5>For systems using the EFI/UEFI method<a class="headerlink" href="#for-systems-using-the-efi-uefi-method" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>UEFI firmware reads its Boot Manager data to determine which UEFI
application is to be launched and from which disk/partition.</p></li>
<li><p>The firmware then launches the UEFI application, for example, GRUB,
as defined in the boot entry in the firmware’s boot manager.</p></li>
</ul>
</section>
</section>
<section id="second-stage">
<h4>Second stage<a class="headerlink" href="#second-stage" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The second stage boot loader resides under <code class="docutils literal notranslate"><span class="pre">/boot</span></code>.</p></li>
<li><p>A splash screen is displayed, which allows us to choose which OS (OS)
to boot.</p></li>
<li><p>After choosing the OS, the boot loader loads the kernel of the
selected OS into RAM and passes control to it.</p></li>
<li><p>Kernels are almost always compressed, so their first job is to
uncompress themselves. After this, it will check and analyze the
system hardware and initialize any hardware device drivers built into
the kernel.</p></li>
</ul>
</section>
</section>
<section id="initial-ram-disk">
<h3>Initial RAM Disk<a class="headerlink" href="#initial-ram-disk" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">initramfs</span></code> filesystem image contains programs and binary files
that perform all actions needed to mount the proper root filesystem.</p>
<ul>
<li><p>The actions include providing kernel functionality for the required filesystem and device drivers for mass storage controllers with a facility called udev (for user device).</p>
<ul>
<li><p>udev is responsible for figuring out which devices are present, locating the device drivers they need to operate correctly, and loading them.</p></li>
</ul>
</li>
<li><p>After the root filesystem has been found, it is checked for errors and mounted.</p></li>
</ul>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">mount</span></code> program instructs the OS that a filesystem is ready for
use and associates it with a particular point in the overall
hierarchy of the filesystem (the mount point). If the above is
successful, the initramfs is cleared from RAM, and the <code class="docutils literal notranslate"><span class="pre">/sbin/init</span></code>
program is executed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">init</span></code> handles the mounting and pivoting over to the final real
root filesystem. If special hardware drivers are needed before the
mass storage can be accessed, they must be in the <code class="docutils literal notranslate"><span class="pre">initramfs</span></code> image.</p></li>
</ul>
</section>
<section id="text-mode-login">
<h3>Text-Mode Login<a class="headerlink" href="#text-mode-login" title="Link to this heading"></a></h3>
<p>Near the end of the boot process, <code class="docutils literal notranslate"><span class="pre">init</span></code> starts several text-mode
logins prompts. These enable the user to provide credentials and get a
command shell.</p>
<p>The terminals which run the command shells can be accessed using the ALT
key plus a function key. Most distributions start with six text
terminals and one graphics terminal starting with <code class="docutils literal notranslate"><span class="pre">F1</span></code> or <code class="docutils literal notranslate"><span class="pre">F2</span></code>.
Within a graphical environment, switching to a text console requires
pressing <code class="docutils literal notranslate"><span class="pre">CTRL-ALT</span> <span class="pre">+</span></code> the appropriate function key (with <code class="docutils literal notranslate"><span class="pre">F7</span></code> or <code class="docutils literal notranslate"><span class="pre">F1</span></code>
leading to the GUI).</p>
</section>
<section id="kernel-init-and-services">
<h3>Kernel, Init and Services<a class="headerlink" href="#kernel-init-and-services" title="Link to this heading"></a></h3>
<p>The boot loader loads both the kernel and an initial RAM-based file
system (<code class="docutils literal notranslate"><span class="pre">initramfs</span></code>) into memory to be used directly by the kernel.</p>
<p>When the kernel is loaded in RAM, it immediately initializes and
configures the computer’s memory and configures all the hardware
attached. This includes all processors, I/O subsystems, storage devices.
The kernel also loads some necessary user-space applications.</p>
<section id="sbin-init-and-services">
<h4>/sbin/init and services<a class="headerlink" href="#sbin-init-and-services" title="Link to this heading"></a></h4>
<p>Once the kernel has set up all its hardware and mounted the root
filesystem, the kernel runs <code class="docutils literal notranslate"><span class="pre">/sbin/init</span></code>. This then becomes the
initial process, which then starts other processes to get the system
running. Most other processes on the system ultimately trace their
origin to <code class="docutils literal notranslate"><span class="pre">init</span></code>; exceptions include the so-called kernel processes.
These are started by the kernel directly, and their job is to manage
internal OS details.</p>
<p>Besides starting the system, <code class="docutils literal notranslate"><span class="pre">init</span></code> is responsible for keeping the
system running and shutting it down cleanly. <code class="docutils literal notranslate"><span class="pre">init</span></code> manages the
non-kernel processes; it cleans up after completion and restarts user
login services when users log in/log in out, other background system
services starts/stops.</p>
<p>The process startup was performed using System V variety of UNIX. This
serial process has the system passing through a sequence of run levels
containing collections of scripts that start and stop services. Each run
level supports a different mode of running the system. Within each
runlevel, individual services can be set to run or shut down if running.</p>
<p>However, all major recent distributions have moved away from this
sequential runlevel method of system initialization, although they
usually support the System V conventions for compatibility purposes.</p>
<p>The two main alternatives developed were:</p>
<section id="upstart">
<h5>Upstart<a class="headerlink" href="#upstart" title="Link to this heading"></a></h5>
<p>Developed by Ubuntu and first included in 2006. Adopted in Fedora 9 (in
2008) and RHEL 6 and its clones.</p>
</section>
<section id="systemd">
<h5>systemd<a class="headerlink" href="#systemd" title="Link to this heading"></a></h5>
<p>Adopted by Fedora first (in 2011). Adopted by RHEL 7 and SUSE. Replaced
Upstart in Ubuntu 16.04</p>
<p>Systems with <code class="docutils literal notranslate"><span class="pre">systemd</span></code> start up faster than those with earlier init
methods. <code class="docutils literal notranslate"><span class="pre">systemd</span></code> replaces a serialized set of steps with aggressive
parallelization techniques, permitting multiple services to be initiated
simultaneously.</p>
<p>Simpler configuration files (<code class="docutils literal notranslate"><span class="pre">systemd</span></code>) have replaced complicated
startup shell scripts (System V). <code class="docutils literal notranslate"><span class="pre">systemd</span></code> provides information on
pre-checks before service starts, how to execute service startup, and
how to determine startup has finished. One thing to note is that
<code class="docutils literal notranslate"><span class="pre">/sbin/init</span></code> now just points to <code class="docutils literal notranslate"><span class="pre">/lib/systemd/systemd</span></code>;
i.e. <code class="docutils literal notranslate"><span class="pre">systemd</span></code> takes over the <code class="docutils literal notranslate"><span class="pre">init</span></code> process.</p>
<p>Starting, stopping, restarting a service (using <code class="docutils literal notranslate"><span class="pre">nfs</span></code> as an example)
on a currently running system:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sudo systemctl start|stop|restart nfs.service</span>
</pre></div>
</div>
<section id="enabling-or-disabling-a-system-service-from-starting-up-at-system-boot">
<h6>Enabling or disabling a system service from starting up at system boot<a class="headerlink" href="#enabling-or-disabling-a-system-service-from-starting-up-at-system-boot" title="Link to this heading"></a></h6>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sudo systemctl enable|disable nfs.service</span>
</pre></div>
</div>
</section>
<section id="listing-all-services">
<h6>Listing all services<a class="headerlink" href="#listing-all-services" title="Link to this heading"></a></h6>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>systemctl<span class="w"> </span>list-units<span class="w"> </span>--type<span class="o">=</span>service
sudo<span class="w"> </span>systemctl<span class="w"> </span>--type<span class="o">=</span>service
</pre></div>
</div>
<p>or show only active services</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>systemctl<span class="w"> </span>list-units<span class="w"> </span>--type<span class="o">=</span>service<span class="w"> </span>--state<span class="o">=</span>active

systemctl<span class="w"> </span>status<span class="w"> </span>:<span class="w"> </span>Output<span class="w"> </span>shows<span class="w"> </span>a<span class="w"> </span>hierarchical<span class="w"> </span>overview<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>running<span class="w"> </span>services
</pre></div>
</div>
<ul class="simple">
<li><p>Each service is represented by a service unit, which is described by a service file usually shipped in <code class="docutils literal notranslate"><span class="pre">/lib/systemd/system/</span></code> (or <code class="docutils literal notranslate"><span class="pre">/run/systemd/system/</span></code>, or <code class="docutils literal notranslate"><span class="pre">/etc/systemd/system/</span></code>;</p></li>
<li><p>They are listed by increasing order of importance, and the last one wins). Each is possibly modified by other <code class="docutils literal notranslate"><span class="pre">service-name.service.d/*.conf</span></code> files in the same set of directories.</p></li>
</ul>
<p>Sample service file for ssh</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>cat<span class="w"> </span>/lib/systemd/system/ssh.service

<span class="o">[</span>Unit<span class="o">]</span>
<span class="nv">Description</span><span class="o">=</span>OpenBSD<span class="w"> </span>Secure<span class="w"> </span>Shell<span class="w"> </span>server
<span class="nv">Documentation</span><span class="o">=</span>man:sshd<span class="o">(</span><span class="m">8</span><span class="o">)</span><span class="w"> </span>man:sshd_config<span class="o">(</span><span class="m">5</span><span class="o">)</span>
<span class="nv">After</span><span class="o">=</span>network.target<span class="w"> </span>auditd.service
<span class="nv">ConditionPathExists</span><span class="o">=</span>!/etc/ssh/sshd_not_to_be_run

<span class="o">[</span>Service<span class="o">]</span>
<span class="nv">EnvironmentFile</span><span class="o">=</span>-/etc/default/ssh
<span class="nv">ExecStartPre</span><span class="o">=</span>/usr/sbin/sshd<span class="w"> </span>-t
<span class="nv">ExecStart</span><span class="o">=</span>/usr/sbin/sshd<span class="w"> </span>-D<span class="w"> </span><span class="nv">$SSHD_OPTS</span>
<span class="nv">ExecReload</span><span class="o">=</span>/usr/sbin/sshd<span class="w"> </span>-t
<span class="nv">ExecReload</span><span class="o">=</span>/bin/kill<span class="w"> </span>-HUP<span class="w"> </span><span class="nv">$MAINPID</span>
<span class="nv">KillMode</span><span class="o">=</span>process
<span class="nv">Restart</span><span class="o">=</span>on-failure
<span class="nv">RestartPreventExitStatus</span><span class="o">=</span><span class="m">255</span>
<span class="nv">Type</span><span class="o">=</span>notify
<span class="nv">RuntimeDirectory</span><span class="o">=</span>sshd
<span class="nv">RuntimeDirectoryMode</span><span class="o">=</span><span class="m">0755</span>

<span class="o">[</span>Install<span class="o">]</span>
<span class="nv">WantedBy</span><span class="o">=</span>multi-user.target
<span class="nv">Alias</span><span class="o">=</span>sshd.service
</pre></div>
</div>
<ul class="simple">
<li><p>Target units represent a desired state that we want to attain in terms of activated units (which means a running service in the case of service units). They exist mainly as a way to group dependencies on other units. When the system starts, it enables the units required to reach the <code class="docutils literal notranslate"><span class="pre">default.target</span></code> (which is a symlink to <code class="docutils literal notranslate"><span class="pre">graphical.target</span></code>, and which in turn depends on <code class="docutils literal notranslate"><span class="pre">multi-user.target</span></code>). So all the dependencies of those targets get activated during boot.</p></li>
<li><p>Such dependencies are expressed with the <code class="docutils literal notranslate"><span class="pre">Wants</span></code> directive on the target unit. We can create a symlink pointing to the dependent unit in the <code class="docutils literal notranslate"><span class="pre">/etc/systemd/system/target-name.target.wants/</span></code> directory. When we enable a service, <code class="docutils literal notranslate"><span class="pre">systemd</span></code> add a dependency on the targets listed in the <code class="docutils literal notranslate"><span class="pre">WantedBy</span></code> entry of the <code class="docutils literal notranslate"><span class="pre">[Install]</span></code> section of the service unit file. Conversely, <code class="docutils literal notranslate"><span class="pre">systemctl</span></code> disable <code class="docutils literal notranslate"><span class="pre">foo.service</span></code> drops the same symlink and thus the dependency.</p></li>
</ul>
</section>
</section>
</section>
</section>
<section id="linux-runlevels">
<h3>Linux Runlevels<a class="headerlink" href="#linux-runlevels" title="Link to this heading"></a></h3>
<p>Linux has six runlevels 0-6. Scripts are contained in <code class="docutils literal notranslate"><span class="pre">/etc/rc[0-6,S].d/</span></code>.
Each folder contains the scripts followed by either <code class="docutils literal notranslate"><span class="pre">K</span></code> or <code class="docutils literal notranslate"><span class="pre">S</span></code>. If the first
letter is <code class="docutils literal notranslate"><span class="pre">K</span></code> that script is not executed. If <code class="docutils literal notranslate"><span class="pre">S</span></code>, that script is executed.
<code class="docutils literal notranslate"><span class="pre">/etc/inittab</span></code> contains the default run level.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>I
D</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>Halt</p></td>
<td><p>Shuts down the system</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Single
user
Mode</p></td>
<td><p>Mode for administrative tasks.</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>Multi
user
Mode</p></td>
<td><p>Does not configure network interfaces and does not
export networks services</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>Multi
user
Mode
with
Net
working</p></td>
<td><p>Starts the system normally.</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>Not
used/
User-de
finable</p></td>
<td><p>For special purposes.</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>Start
system</p>
<p>normally
with
display
manager
(with
GUI).</p>
</td>
<td><p>Same as runlevel 3 + display manager</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>Reboot</p></td>
<td><p>Reboot the system</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="linux-filesystem">
<h2>Linux Filesystem<a class="headerlink" href="#linux-filesystem" title="Link to this heading"></a></h2>
<p>Different types of filesystems supported by Linux:</p>
<ul class="simple">
<li><p>Conventional disk filesystems: ext2, ext3, ext4, XFS, Btrfs, JFS,
NTFS, etc.</p></li>
<li><p>Flash storage filesystems: ubifs, JFFS2, YAFFS, etc.</p></li>
<li><p>Database filesystems</p></li>
<li><p>Special purpose filesystems: procfs, sysfs, tmpfs, squashfs, debugfs,
etc.</p></li>
</ul>
<section id="data-distinctions">
<h3>Data Distinctions<a class="headerlink" href="#data-distinctions" title="Link to this heading"></a></h3>
<section id="shareable-vs-non-shareable-data">
<h4>Shareable vs Non-shareable data<a class="headerlink" href="#shareable-vs-non-shareable-data" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Shareable data is that which can be shared between different hosts. Example: user home directories are shareable.</p></li>
<li><p>Non-shareable data is that which must be specific to a particular host. Example: device lock files are not shareable.</p></li>
</ul>
</section>
<section id="variable-vs-static">
<h4>Variable vs. Static<a class="headerlink" href="#variable-vs-static" title="Link to this heading"></a></h4>
<blockquote>
<div><ul class="simple">
<li><p>Static data include binaries, libraries, documentation, and anything that does not change withoutsystem administrator assistance.</p></li>
<li><p>Variable data is anything that may change even without a system administrator’s help.</p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="linux-directories">
<h3>Linux Directories<a class="headerlink" href="#linux-directories" title="Link to this heading"></a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">/root          : (slash-root) is the home directory for the root user.</span>
<span class="go">/home          : users home directories.</span>
<span class="go">/etc           : system-wide configuration files.</span>
<span class="go">/bin           : directories with executable files.</span>
<span class="go">/usr/bin</span>
<span class="go">/usr/local/bin</span>
<span class="go">/lib           : shared libraries needed to upport the applications.</span>
<span class="go">/usr/lib</span>
<span class="go">/usr/local/lib</span>
<span class="go">/sbin          : directories with executables supposed to be run by the Superuser.</span>
<span class="go">/usr/sbin</span>
<span class="go">/usr/local/sbin</span>
<span class="go">/tmp           : temporary directories, watch out as /tmp is, by default, cleaned out on each reboot.</span>
<span class="go">/var/tmp</span>
<span class="go">/usr/share/doc : complete system documentation.</span>
<span class="go">/usr/share/man</span>
<span class="go">/dev           : system device files. In Unix, hardware devices are represented as files.</span>
<span class="go">/proc          : &quot;virtual&quot; directory containing files through which you can query or tune Linux kernel settings.</span>
<span class="go">/boot          : contains the basic files needed to boot the system.</span>
<span class="go">/media         : Mount points for removable media such as CDs, DVDs, USB sticks, etc.</span>
<span class="go">/mnt           : Temporarily mounted filesystems.</span>
<span class="go">/opt           : Optional application software packages.</span>
<span class="go">/run           : Run-time variable data, containing information describing the system since it was booted.</span>
<span class="go">/sys           : Virtual sysfs pseudo-filesystem giving information about the system and processes running on it.</span>
<span class="go">/var           : Variable data that changes during system operation.</span>
<span class="go">/srv           : contains site-specific data which is served by this system.</span>
</pre></div>
</div>
<p>Filesystems are mounted on the mount point that could be simply a
directory (which may or may not be empty) where the filesystem is
grafted.</p>
<section id="bin">
<h4>/bin<a class="headerlink" href="#bin" title="Link to this heading"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">/bin</span></code> directory contains executable binaries, essential commands
used to boot the system or in single-user mode, and essential commands
required by all system users, such as <code class="docutils literal notranslate"><span class="pre">cat</span></code>, <code class="docutils literal notranslate"><span class="pre">cp</span></code>, <code class="docutils literal notranslate"><span class="pre">ls</span></code>, <code class="docutils literal notranslate"><span class="pre">mv</span></code>,
<code class="docutils literal notranslate"><span class="pre">ps</span></code>, and <code class="docutils literal notranslate"><span class="pre">rm</span></code>.</p>
</section>
<section id="sbin">
<h4>/sbin<a class="headerlink" href="#sbin" title="Link to this heading"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">/sbin</span></code> directory is intended for essential binaries related to
system administration, such as <code class="docutils literal notranslate"><span class="pre">fsck</span></code> and <code class="docutils literal notranslate"><span class="pre">ip</span></code>. Commands that are
not essential (theoretically) for the system to boot or operate in
single-user mode are placed in the <code class="docutils literal notranslate"><span class="pre">/usr/bin</span></code> and <code class="docutils literal notranslate"><span class="pre">/usr/sbin</span></code>
directories.</p>
</section>
<section id="proc">
<h4>/proc<a class="headerlink" href="#proc" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">/proc</span></code> are called pseudo-filesystems because they have no permanent
presence anywhere on the disk, and they exist only in memory.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">/proc</span></code> filesystem contains virtual files (files that exist only
in memory). It includes files and directories that mimic kernel
structures and configuration information. It does not have real files
but runtime system information, e.g., system memory, devices mounted,
hardware configuration, etc. Some necessary entries in <code class="docutils literal notranslate"><span class="pre">/proc</span></code> are:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">/proc/cpuinfo</span>
<span class="go">/proc/interrupts</span>
<span class="go">/proc/meminfo</span>
<span class="go">/proc/mounts</span>
<span class="go">/proc/partitions</span>
<span class="go">/proc/version</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">/proc</span></code> has subdirectories, including:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">/proc/&lt;Process-ID-#&gt;</span>
<span class="go">/proc/sys</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">/proc/&lt;Process-ID-#&gt;</span></code> shows a directory for every process
running on the system, which contains vital information about it.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">/proc/sys</span></code> shows a virtual directory containing a lot of
information about the entire system, particularly its hardware and
configuration.</p></li>
</ul>
</section>
<section id="dev">
<h4>/dev<a class="headerlink" href="#dev" title="Link to this heading"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">/dev</span></code> directory contains device nodes, a pseudo-file used by most
hardware and software devices, except for network devices. This
directory is:</p>
<ul class="simple">
<li><p>Empty on the disk partition when it is not mounted</p></li>
<li><p>Contains entries created by the <code class="docutils literal notranslate"><span class="pre">udev</span></code> system, which creates and
manages device nodes on Linux, creating them dynamically when devices
are found. The <code class="docutils literal notranslate"><span class="pre">/dev</span></code> directory contains items such as:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">/dev/sda1</span></code> (first partition on the first hard disk)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/dev/lp1</span></code> (second printer)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/dev/random</span></code> (a source of random numbers).</p></li>
</ul>
</li>
</ul>
</section>
<section id="var">
<h4>/var<a class="headerlink" href="#var" title="Link to this heading"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">/var</span></code> directory contains files that are expected to change in
size and content as the system is running (var stands for variable),
such as the entries in the following directories:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">/var/log   : System log files.</span>
<span class="go">/var/lib   : Packages and database files</span>
<span class="go">/var/spool : Print queues.</span>
<span class="go">/var/tmp   : Temporary files</span>
<span class="go">/var/lock  : Lock files used to control simultaneous access to resources</span>
<span class="go">/var/www   : Root for website hierarchies</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">/var</span></code> directory may be put on its own filesystem so that the
growth of the files can be accommodated and any exploding file sizes do
not fatally affect the system. Network services directories such as
<code class="docutils literal notranslate"><span class="pre">/var/ftp</span></code> (the FTP service) and <code class="docutils literal notranslate"><span class="pre">/var/www</span></code> (the HTTP web service)
are also found under <code class="docutils literal notranslate"><span class="pre">/var</span></code>.</p>
</section>
<section id="etc">
<h4>/etc<a class="headerlink" href="#etc" title="Link to this heading"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">/etc</span></code> directory is the home for system configuration files. It
contains no binary programs, although there are some executable scripts.
For example, <code class="docutils literal notranslate"><span class="pre">/etc/resolv.conf</span></code> tells the system where to go on the
network to obtain hostname to IP address mappings (DNS). Files like
<code class="docutils literal notranslate"><span class="pre">passwd</span></code>, <code class="docutils literal notranslate"><span class="pre">shadow</span></code>, and <code class="docutils literal notranslate"><span class="pre">group</span></code> for managing user accounts are
found in the <code class="docutils literal notranslate"><span class="pre">/etc</span></code> directory.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">/etc</span></code> is for system-wide configuration files, and only the superuser can modify files there. User-specific configuration files are always found under their home directory.</p>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">/etc/skel    : Contains skeleton files used to populate newly created home directories.</span>
<span class="go">/etc/systemd : Contains or points to configuration scripts for starting, stopping system services when using systemd.</span>
<span class="go">/etc/init.d  : Contains startup and shut down scripts when using System V initialization.</span>
</pre></div>
</div>
</section>
<section id="boot">
<h4>/boot<a class="headerlink" href="#boot" title="Link to this heading"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">/boot</span></code> directory contains the few essential files needed to boot
the system. For every alternative kernel installed on the system, there
are four files:</p>
<ul class="simple">
<li><p>vmlinuz : The compressed Linux kernel required for booting.</p></li>
<li><p>initramfs : The initial ram filesystem, required for booting,
sometimes called <code class="docutils literal notranslate"><span class="pre">initrd</span></code>, not <code class="docutils literal notranslate"><span class="pre">initramfs</span></code>.</p></li>
<li><p>config : The kernel configuration file, only used for debugging and
bookkeeping.</p></li>
<li><p>System.map : Kernel symbol table, only used for debugging.</p></li>
</ul>
<p>Each of these files has a kernel version appended to its name.</p>
<p>The Grand Unified Bootloader (GRUB) files such as
<code class="docutils literal notranslate"><span class="pre">/boot/grub/grub.conf</span></code> or <code class="docutils literal notranslate"><span class="pre">/boot/grub2/grub2.cfg</span></code> are also found
under the <code class="docutils literal notranslate"><span class="pre">/boot</span></code> directory.</p>
</section>
<section id="lib">
<h4>/lib<a class="headerlink" href="#lib" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">/lib</span></code> contains libraries (common code-shared by applications and
needed for them to run) for the essential programs in <code class="docutils literal notranslate"><span class="pre">/bin</span></code> and
<code class="docutils literal notranslate"><span class="pre">/sbin</span></code>. These library filenames either start with <code class="docutils literal notranslate"><span class="pre">ld</span></code> or <code class="docutils literal notranslate"><span class="pre">lib</span></code>.
For example, <code class="docutils literal notranslate"><span class="pre">/lib/libncurses.so.5.9</span></code>.</p>
<p>These are dynamically loaded libraries (also known as shared libraries
or Shared Objects (SO)). On some Linux distributions, there exists a
<code class="docutils literal notranslate"><span class="pre">/lib64</span></code> directory containing 64-bit libraries, while <code class="docutils literal notranslate"><span class="pre">/lib</span></code>
contains 32-bit versions.</p>
<p>Kernel modules (kernel code, often device drivers, that can be loaded
and unloaded without restarting the system) is located in
<code class="docutils literal notranslate"><span class="pre">/lib/modules/&lt;kernel-version-number&gt;</span></code>. PAM (Pluggable Authentication
Modules) files are stored in <code class="docutils literal notranslate"><span class="pre">/lib/security</span></code>.</p>
</section>
<section id="others">
<h4>Others<a class="headerlink" href="#others" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">/opt</span></code>: Optional application software packages</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/sys</span></code>: Virtual pseudo-filesystem giving information about the
system and the hardware. It can be used to alter system parameters
and for debugging purposes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/srv</span></code>: Site-specific data served up by the system</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/tmp</span></code>: Temporary files; on some distributions erased across a
reboot and/or may be a ramdisk in memory</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/usr</span></code>: Multi-user applications, utilities, and data</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">/usr/include</span></code> : Header files used to compile applications.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/usr/lib</span></code> : Libraries for programs in /usr/bin and /usr/sbin.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/usr/lib64</span></code> : 64-bit libraries for 64-bit programs in /usr/bin
and /usr/sbin.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/usr/sbin</span></code> : Non-essential system binaries, such as system
daemons.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/usr/share</span></code> : Shared data used by applications, generally
architecture-independent.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/usr/src</span></code> : Source code, usually for the Linux kernel.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/usr/local</span></code> : Data and programs specific to the local machine.
Subdirectories include bin, sbin, lib, share, include, etc.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/usr/bin</span></code> : This is the primary directory of executable
commands on the system</p></li>
</ul>
</li>
</ul>
<p>In Linux, a file’s extension often does not categorize it the way it
might in other OSs. One cannot assume that a file named <code class="docutils literal notranslate"><span class="pre">file.txt</span></code> is
a text file and not an executable program.</p>
<p>The real nature of a file can be ascertained by using the <code class="docutils literal notranslate"><span class="pre">file</span></code>
utility. For the file names given as arguments, it examines the contents
and certain characteristics to determine whether the files are plain
text, shared libraries, executable programs, scripts, or something else.</p>
</section>
</section>
<section id="other-information">
<h3>Other Information<a class="headerlink" href="#other-information" title="Link to this heading"></a></h3>
<section id="file-system-superblock">
<h4>File System Superblock<a class="headerlink" href="#file-system-superblock" title="Link to this heading"></a></h4>
<p>The superblock stores the metadata of the file system, such as</p>
<ul class="simple">
<li><p>Blocks in the file system</p></li>
<li><p>No of free blocks in the file system</p></li>
<li><p>Inodes per block group</p></li>
<li><p>Blocks per block group</p></li>
<li><p>No of times the file system was mounted since last fsck.</p></li>
<li><p>Mount time</p></li>
<li><p>UUID of the file system</p></li>
<li><p>Write time</p></li>
<li><p>File System State (i.e., was it cleanly unmounted, errors detected)</p></li>
<li><p>The file system type (i.e., whether it is ext2,3 or 4).</p></li>
<li><p>The OS in which the file system was formatted</p></li>
</ul>
</section>
<section id="view-superblock-information">
<h4>View superblock information<a class="headerlink" href="#view-superblock-information" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">dumpe2fs -h /dev/sda4</span>
<span class="go">dumpe2fs 1.42.9 (4-Feb-2014)</span>
<span class="go">Filesystem volume name:   cloudimg-rootfs</span>
<span class="go">Last mounted on:          /</span>
<span class="go">Filesystem UUID:          f75f9307-27dc-xxxx-87b7-xxxxxxxxx</span>
<span class="go">Filesystem magic number:  0xEF53</span>
<span class="go">Filesystem revision #:    1 (dynamic)</span>
<span class="go">Filesystem features:      has_journal ext_attr resize_inode dir_index filetype needs_recovery extent flex_bg sparse_super large_file huge_file uninit_bg dir_nlink extra_isize</span>
<span class="go">Filesystem flags:         signed_directory_hash</span>
<span class="go">Default mount options:    (none)</span>
<span class="go">Filesystem state:         clean</span>
<span class="go">Errors behavior:          Continue</span>
<span class="go">Filesystem OS type:       Linux</span>
<span class="go">.....sniped.......</span>
</pre></div>
</div>
</section>
<section id="du">
<h4>du<a class="headerlink" href="#du" title="Link to this heading"></a></h4>
<section id="estimate-file-space-usage">
<h5>Estimate file space usage<a class="headerlink" href="#estimate-file-space-usage" title="Link to this heading"></a></h5>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">du</span>
<span class="go">  -h                : human readable</span>
<span class="go">  -x                : skip directories on different file system</span>
<span class="go">  -c                : show the totals</span>
<span class="go">  --exclude=PATTERN : exclude files that match PATTERN</span>
</pre></div>
</div>
</section>
<section id="show-disk-usage">
<h5>Show disk usage<a class="headerlink" href="#show-disk-usage" title="Link to this heading"></a></h5>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">du -xhcx --exclude=proc * : provide the disk usage while excluding proc directory</span>
</pre></div>
</div>
</section>
</section>
<section id="mkfs">
<h4>mkfs<a class="headerlink" href="#mkfs" title="Link to this heading"></a></h4>
<p>MaKe FileSystem handle formatting. It requires as a parameter, a device file representing the partition to be formatted (for instance, <code class="docutils literal notranslate"><span class="pre">/dev/sdb1</span></code>). The operation is destructive and will format the partition and create a filesystem.</p>
</section>
</section>
</section>
<section id="gui-and-terminal">
<h2>GUI and Terminal<a class="headerlink" href="#gui-and-terminal" title="Link to this heading"></a></h2>
<section id="id1">
<h3>X Window System<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<p>The X Window System (X) is loaded as one of the final steps in the boot
process.</p>
<ul class="simple">
<li><p>A service called the Display Manager keeps track of the displays
being provided and loads the X server (so-called, because it provides
graphical services to applications, sometimes called X clients). The
display manager also handles graphical logins and starts the
appropriate desktop environment after a user logs in.</p></li>
<li><p>A desktop environment consists of a session manager, which starts and
maintains the components of the graphical session, and the window
manager, which controls the placement and movement of windows, window
title bars, and controls. Although these can be mixed, generally, a
set of utilities, session manager, and window manager are used
together as a unit and provide a seamless desktop environment.</p></li>
<li><p>If the display manager is not started by default in the default run
level. The graphical desktop can be started differently, such as
logging on to a text-mode console by running <code class="docutils literal notranslate"><span class="pre">startx</span></code> from the
command line. Or, start the display manager (<code class="docutils literal notranslate"><span class="pre">gdm</span></code>, <code class="docutils literal notranslate"><span class="pre">lightdm</span></code>,
<code class="docutils literal notranslate"><span class="pre">kdm</span></code>, <code class="docutils literal notranslate"><span class="pre">xdm</span></code>, etc.) manually from the command line. This differs
from running <code class="docutils literal notranslate"><span class="pre">startx</span></code> as the display managers will project a
sign-in screen.</p></li>
<li><p>Logging out through the desktop environment kills all processes in
your current X session and returns to the display manager login
screen.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gnome-tweak-tool</span></code> exposes several setting options regarding
graphical display.</p></li>
</ul>
<section id="current-screen-resolution">
<h4>Current screen resolution<a class="headerlink" href="#current-screen-resolution" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">xdpyinfo | grep dim</span>
<span class="go">dimensions: 3200x1080 pixels (847x286 millimeters)</span>
</pre></div>
</div>
</section>
<section id="turn-off-the-graphical-desktop">
<h4>Turn off the graphical desktop<a class="headerlink" href="#turn-off-the-graphical-desktop" title="Link to this heading"></a></h4>
<p>Linux distributions can start and stop the graphical desktop in various
ways.</p>
<p>For the newer systemd-based distributions, the display manager is run as
a service. The GUI desktop can be stopped with the <code class="docutils literal notranslate"><span class="pre">systemctl</span></code>
utility, and most distributions will also work with the <code class="docutils literal notranslate"><span class="pre">telinit</span></code>
command. <code class="docutils literal notranslate"><span class="pre">telinit</span></code> can be used to change the SysV system runlevel.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sudo systemctl stop gdm (or sudo telinit 3)</span>
</pre></div>
</div>
<p>and restart it (after logging into the console) with:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sudo systemctl start gdm (or sudo telinit 5)</span>
</pre></div>
</div>
<p>On Ubuntu versions before 18.04 LTS, substitute <code class="docutils literal notranslate"><span class="pre">lightdm</span></code> for <code class="docutils literal notranslate"><span class="pre">gdm</span></code>.</p>
</section>
</section>
<section id="terminal-emulator">
<h3>Terminal Emulator<a class="headerlink" href="#terminal-emulator" title="Link to this heading"></a></h3>
<p>A terminal emulator program emulates (simulates) a standalone terminal
within a window on the desktop. It is equivalent to logging into the
machine at a pure text terminal with no running graphical interface. The
<code class="docutils literal notranslate"><span class="pre">gnome-terminal</span></code> application is used to emulate a text-mode terminal in a
window. Other available terminal programs include <code class="docutils literal notranslate"><span class="pre">xterm</span></code>, <code class="docutils literal notranslate"><span class="pre">rxvt</span></code>,
<code class="docutils literal notranslate"><span class="pre">konsole</span></code> (default on KDE), <code class="docutils literal notranslate"><span class="pre">terminator</span></code>.</p>
<section id="virtual-terminal">
<h4>Virtual Terminal<a class="headerlink" href="#virtual-terminal" title="Link to this heading"></a></h4>
<p>Virtual Terminals (VT) are console sessions that use the entire display
and keyboard outside of a graphical environment. Such terminals are
considered “virtual” because, although there can be multiple active
terminals, only one terminal remains visible at a time.</p>
<p>To switch between VTs, press the <code class="docutils literal notranslate"><span class="pre">CTRL-ALT-function</span></code> key for the VT.
For example, press <code class="docutils literal notranslate"><span class="pre">CTRL-ALT-F6</span></code> for VT 6.</p>
</section>
<section id="screen-multiplexer">
<h4>Screen Multiplexer<a class="headerlink" href="#screen-multiplexer" title="Link to this heading"></a></h4>
<section id="tmux">
<h5>tmux<a class="headerlink" href="#tmux" title="Link to this heading"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">tmux</span></code> is a terminal multiplexer: it enables a number of terminals to
be created, accessed, and controlled from a single screen.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">tmux new -s myname            : start new with session name</span>
<span class="go">tmux list-sessions            : show sessions</span>
<span class="go">tmux ls                       : show sessions</span>
<span class="go">tmux list-windows             : show windows</span>
<span class="go">tmux attach-session -t myname : Attach to session named &quot;myname&quot;</span>
<span class="go">tmux a -t myname              : Attach to session named &quot;myname&quot;</span>
<span class="gp gp-VirtualEnv">(Prefix)</span> <span class="go">+ d                  : detach. By default, tmux uses Ctrl b as the prefix key</span>
</pre></div>
</div>
<section id="windows-tabs">
<h6>Windows (Tabs)<a class="headerlink" href="#windows-tabs" title="Link to this heading"></a></h6>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(Prefix Key)</span> <span class="go">+</span>
<span class="go">c  create window</span>
<span class="go">w  list windows</span>
<span class="go">n  next window</span>
<span class="go">p  previous window</span>
<span class="go">f  find window</span>
<span class="go">,  name window</span>
<span class="go">&amp;  kill window</span>
<span class="go">&quot;  split pane horizontally.</span>
<span class="gp">%  </span>split<span class="w"> </span>pane<span class="w"> </span>vertically.
<span class="go">arrow key — switch the pane.</span>
<span class="go">Hold Ctrl+b, don&#39;t release it, and hold one of the arrow keys — resize the pane.</span>
</pre></div>
</div>
</section>
<section id="tmux-conf">
<h6>tmux.conf<a class="headerlink" href="#tmux-conf" title="Link to this heading"></a></h6>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>Enable<span class="w"> </span>mouse<span class="w"> </span>mode
<span class="go">set -g mouse on</span>
</pre></div>
</div>
</section>
<section id="reloading-tmux-config">
<h6>Reloading tmux config<a class="headerlink" href="#reloading-tmux-config" title="Link to this heading"></a></h6>
<p>Suppose we have made changes to the tmux configuration file in the
<code class="docutils literal notranslate"><span class="pre">~/.tmux.conf</span></code> file, it shouldn’t be necessary to start the server up
again from scratch with kill-server. Instead, the current tmux session
can reload the configuration with the <code class="docutils literal notranslate"><span class="pre">source-file</span></code> command. This can
be done either from within tmux, by pressing <code class="docutils literal notranslate"><span class="pre">Ctrl+B</span></code> or
<code class="docutils literal notranslate"><span class="pre">Prefix</span> <span class="pre">key</span></code> and then <code class="docutils literal notranslate"><span class="pre">:</span></code> to bring up a command prompt, and typing:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">:source-file ~/.tmux.conf</span>
</pre></div>
</div>
<p>Or simply from a shell:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">tmux source-file ~/.tmux.conf</span>
</pre></div>
</div>
<p>This should apply your changes to the running <code class="docutils literal notranslate"><span class="pre">tmux</span></code> server without
affecting the sessions or windows within them.</p>
</section>
<section id="tmux-copy-paste">
<h6>Tmux Copy Paste<a class="headerlink" href="#tmux-copy-paste" title="Link to this heading"></a></h6>
<p>For copying,</p>
<ul class="simple">
<li><p>Press the <code class="docutils literal notranslate"><span class="pre">Shift</span></code> key; i.e., <code class="docutils literal notranslate"><span class="pre">Shift-MouseHighlight</span></code> properly selects text and - still holding down the shift key; right-click and get the standard bash context menu with Copy, Paste, etc.</p></li>
<li><p>or <code class="docutils literal notranslate"><span class="pre">Ctrl-Shift-C</span></code> and <code class="docutils literal notranslate"><span class="pre">Ctrl-Shift-V</span></code> do work to copy and paste the text.</p></li>
</ul>
</section>
</section>
</section>
</section>
</section>
<section id="basic-utilities-and-operations">
<h2>Basic Utilities and Operations<a class="headerlink" href="#basic-utilities-and-operations" title="Link to this heading"></a></h2>
<section id="binary-locations">
<h3>Binary Locations<a class="headerlink" href="#binary-locations" title="Link to this heading"></a></h3>
<p>Depending on the specifics of a particular distribution policy, programs
and software packages are installed in various directories. In general,
executable programs and scripts should live in the <code class="docutils literal notranslate"><span class="pre">/bin</span></code>,
<code class="docutils literal notranslate"><span class="pre">/usr/bin</span></code>, <code class="docutils literal notranslate"><span class="pre">/sbin</span></code>, <code class="docutils literal notranslate"><span class="pre">/usr/sbin</span></code> directories, or somewhere under
<code class="docutils literal notranslate"><span class="pre">/opt</span></code>. They can also appear in <code class="docutils literal notranslate"><span class="pre">/usr/local/bin</span></code> and
<code class="docutils literal notranslate"><span class="pre">/usr/local/sbin</span></code>.</p>
<section id="command-line-parameters">
<h4>Command-line Parameters<a class="headerlink" href="#command-line-parameters" title="Link to this heading"></a></h4>
<p>Most input lines entered at the shell prompt have three essential
elements:</p>
<ul class="simple">
<li><p>Command</p></li>
<li><p>Options</p></li>
<li><p>Arguments</p></li>
</ul>
<p>The command is the name of the program you are executing. It may be
followed by one or more options (or switches) that modify what the
command may do. Options usually start with one or two dashes, such as
<code class="docutils literal notranslate"><span class="pre">-p</span></code> or <code class="docutils literal notranslate"><span class="pre">--print</span></code>, to differentiate them from arguments,
representing what the command operates on.</p>
<figure class="align-default">
<img alt="Command line arguments" src="../_images/command_line_arguments.jfif" />
</figure>
</section>
</section>
<section id="getting-help">
<h3>Getting Help<a class="headerlink" href="#getting-help" title="Link to this heading"></a></h3>
<p>The primary sources of Linux documentation are the <code class="docutils literal notranslate"><span class="pre">man</span></code> pages, GNU
<code class="docutils literal notranslate"><span class="pre">info</span></code>, the <code class="docutils literal notranslate"><span class="pre">help</span></code> options and commands, and a wide variety of
online documentation sources. Further, Eric Raymond’s guidelines on <a class="reference external" href="http://catb.org/~esr/faqs/smart-questions.html">How To Ask Questions The Smart Way</a> is a good way to avoid the most common mistakes and get useful answers.</p>
<section id="man">
<h4>man<a class="headerlink" href="#man" title="Link to this heading"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">man</span></code> program searches, formats, and displays the information
contained in the man page system. The <code class="docutils literal notranslate"><span class="pre">man</span></code> pages are divided into
chapters numbered 1 through 9.</p>
<ol class="arabic simple">
<li><p>Commands that can be executed from the command line</p></li>
<li><p>System calls (functions provided by the kernel)</p></li>
<li><p>Library functions (provided by system libraries)</p></li>
<li><p>Devices (on Unix-like systems, these are special files, usually placed in the /dev/ directory)</p></li>
<li><p>Configuration files (formats and conventions)</p></li>
<li><p>Games</p></li>
<li><p>Sets of macros and standards</p></li>
<li><p>System administration commands</p></li>
<li><p>Kernel routines</p></li>
</ol>
<p>With the <code class="docutils literal notranslate"><span class="pre">-a</span></code> parameter, <code class="docutils literal notranslate"><span class="pre">man</span></code> will display all pages with the given
name in all chapters, one after the other, as in:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">man -a socket</span>
</pre></div>
</div>
<p>The chapter number can be used to force <code class="docutils literal notranslate"><span class="pre">man</span></code> to display the page from
a particular chapter.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">man 7 socket</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">whatis    : Provides a one-line description of the commands.</span>
<span class="go">man -f    : generates the same result as typing whatis.</span>
<span class="go">man -k    : generates the same result as typing apropos.</span>
</pre></div>
</div>
<ul class="simple">
<li><p>If we do not know the names of the commands. We can use <code class="docutils literal notranslate"><span class="pre">apropos</span></code> command, which searches manual pages (or more specifically their short descriptions) for any keywords provided.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">apropos</span></code> command then returns a list of manual pages whose summary mentions the requested keywords along with the one-line summary from the manual page.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>apropos<span class="w"> </span><span class="s2">&quot;copy file&quot;</span>
<span class="go">cp (1)               - copy files and directories</span>
<span class="go">cpio (1)             - copy files to and from archives</span>
<span class="go">git-checkout-index (1) - Copy files from the index to the working tree</span>
<span class="go">install (1)          - copy files and set attributes</span>
<span class="go">ntfscp (8)           - copy file to an NTFS volume.</span>
</pre></div>
</div>
</section>
<section id="gnu-info">
<h4>GNU Info<a class="headerlink" href="#gnu-info" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Typing <code class="docutils literal notranslate"><span class="pre">info</span></code> with no arguments in a terminal window displays an index of available topics. The user can browse through the topic list using the regular movement keys: arrows, Page Up, and Page Down.</p></li>
<li><p>Help for a particular topic can be viewed by typing <code class="docutils literal notranslate"><span class="pre">info</span> <span class="pre">&lt;topic</span> <span class="pre">name&gt;</span></code>. The system then searches for the topic in all available info files.</p></li>
<li><p>The topic currently viewed on an info page is called a node. Basic keystrokes for moving between nodes are</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code> (Go to the next node),</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">p</span></code> (Go to the previous node),</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">u</span></code> (move one node up in the index).</p></li>
</ul>
</li>
<li><p>Nodes are essentially sections and subsections in the documentation. The user can move between nodes or view each node sequentially. Each node may contain menus and linked subtopics or items.</p></li>
<li><p>We can also use <code class="docutils literal notranslate"><span class="pre">pinfo</span></code> to reach the documentation.</p></li>
</ul>
</section>
<section id="help">
<h4>help<a class="headerlink" href="#help" title="Link to this heading"></a></h4>
<p>Most commands have an available short description which can be viewed
using the <code class="docutils literal notranslate"><span class="pre">--help</span></code> or the <code class="docutils literal notranslate"><span class="pre">-h</span></code> option along with the command or
application.</p>
<p>To view a synopsis of these built-in commands, the user can type
<code class="docutils literal notranslate"><span class="pre">help</span></code></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">help</span>
<span class="go">help dirs</span>
</pre></div>
</div>
</section>
<section id="graphical-help-system">
<h4>Graphical Help System<a class="headerlink" href="#graphical-help-system" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>GNOME: <code class="docutils literal notranslate"><span class="pre">gnome-help</span></code> or <code class="docutils literal notranslate"><span class="pre">yelp</span></code></p></li>
<li><p>KDE: <code class="docutils literal notranslate"><span class="pre">khelpcenter</span></code></p></li>
</ul>
</section>
<section id="package-documentation">
<h4>Package Documentation<a class="headerlink" href="#package-documentation" title="Link to this heading"></a></h4>
<p>Linux documentation is also available as part of the package management
system. Usually, this documentation is directly pulled from the upstream
source code, but it can also contain information about how the
distribution packaged and set up the software.</p>
<p>Such information is placed under the <code class="docutils literal notranslate"><span class="pre">/usr/share/doc</span></code> directory,
grouped in subdirectories named after each package, perhaps including
the version number in the name.</p>
<p>If the filename extension is of <code class="docutils literal notranslate"><span class="pre">.txt.gz</span></code>, it can be read using
<code class="docutils literal notranslate"><span class="pre">zcat</span> <span class="pre">filename.txt.gz</span></code></p>
</section>
</section>
<section id="locating-applications">
<h3>Locating Applications<a class="headerlink" href="#locating-applications" title="Link to this heading"></a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">which     : find out exactly where the program resides on the filesystem.</span>
<span class="go">whereis   : locate the binary, source, and manual page files for a command.</span>
</pre></div>
</div>
</section>
<section id="exploring-filesystem-and-directories">
<h3>Exploring Filesystem and Directories<a class="headerlink" href="#exploring-filesystem-and-directories" title="Link to this heading"></a></h3>
<section id="cd">
<h4>cd<a class="headerlink" href="#cd" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pwd        : Displays the present working directory</span>
<span class="go">cd ~ or cd : Change to your home directory (shortcut name is ~ (tilde))</span>
<span class="go">cd ..      : Change to parent directory (..)</span>
<span class="go">cd -       : Change to previous directory (- (minus))</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">cd</span></code> command remembers the last directory and allows it to reach
there with <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">-</span></code>. For remembering more than just the previous
directory visited,</p>
<ul class="simple">
<li><p>use <code class="docutils literal notranslate"><span class="pre">pushd</span></code> to change the directory instead of <code class="docutils literal notranslate"><span class="pre">cd</span></code>; this pushes
the starting directory onto a list.</p></li>
<li><p>using <code class="docutils literal notranslate"><span class="pre">popd</span></code> will then send back to those directories, walking in
reverse order (the most recent directory will be the first one
retrieved with <code class="docutils literal notranslate"><span class="pre">popd</span></code>).</p></li>
<li><p>The list of directories is displayed with the <code class="docutils literal notranslate"><span class="pre">dirs</span></code> command.</p></li>
</ul>
</section>
<section id="tree">
<h4>tree<a class="headerlink" href="#tree" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">tree      : get a bird&#39;s-eye view of the filesystem tree.</span>
<span class="go">  -d      : Use tree -d to view just the directories and to suppress listing file names.</span>
</pre></div>
</div>
</section>
<section id="ls">
<h4>ls<a class="headerlink" href="#ls" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ls     : list files</span>
<span class="go">  -F   : append indicator (one of */=&gt;@|) to entries</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">find</span> <span class="pre">.</span></code> can also be used to list the files in the current directory if <code class="docutils literal notranslate"><span class="pre">ls</span></code> is somehow blocked in restricted shells.</p></li>
</ul>
<section id="ls-showing-full-path">
<h5>ls showing full path<a class="headerlink" href="#ls-showing-full-path" title="Link to this heading"></a></h5>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ls -R /path | awk &#39;/:$/&amp;&amp;f{s=$0;f=0} /:$/&amp;&amp;!f{sub(/:$/,&quot;&quot;);s=$0;f=1;next} NF&amp;&amp;f{ print s&quot;/&quot;$0 }&#39;</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="creating-and-deleting-files-and-directories">
<h3>Creating and deleting files and directories<a class="headerlink" href="#creating-and-deleting-files-and-directories" title="Link to this heading"></a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">mv      : Rename a file, directory.</span>
<span class="go">rm      : Remove a file.</span>
<span class="go">rm -f   : Forcefully remove a file.</span>
<span class="go">rm -i   : Interactively remove a file.</span>
<span class="go">rm -rf  : Remove a directory and all of its contents recursively.</span>
<span class="go">mkdir   : mkdir is used to create a directory</span>
<span class="go">rmdir   : Removing a directory. The directory must be empty or the command will fail.</span>
</pre></div>
</div>
<section id="creating-a-simple-file">
<h4>Creating a simple file<a class="headerlink" href="#creating-a-simple-file" title="Link to this heading"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">editor</span></code> command starts a text editor (such as Vi or Nano) and allows creating, modifying, and reading text files.</p>
<section id="echo">
<h5>echo<a class="headerlink" href="#echo" title="Link to this heading"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">echo</span></code> can be used to display a string on standard output (i.e. the
terminal) or to place in a new file (using the <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> operator) or append
to an already existing file (using the <code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code> operator).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">echo string</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">-e</span></code> option, along with the following switches, is used to enable
special character sequences, such as the newline character or horizontal
tab.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">\n  represents newline</span>
<span class="go">\t  represents a horizontal tab.</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">echo</span></code> is handy for viewing the values of environment variables
(built-in shell variables). For example, <code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">$USER</span></code> will print
the name of the user who has logged into the current terminal.</p>
<p>If a file needs to be created without using an editor, there are two
standard ways to create one from the command line and fill it with
content.</p>
<p>The first is to use <code class="docutils literal notranslate"><span class="pre">echo</span></code> repeatedly:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">echo line one &gt; myfile</span>
<span class="go">echo line two &gt;&gt; myfile</span>
<span class="go">echo line three &gt;&gt; myfile</span>
</pre></div>
</div>
</section>
<section id="cat">
<h5>cat<a class="headerlink" href="#cat" title="Link to this heading"></a></h5>
<p>The second way is to use <code class="docutils literal notranslate"><span class="pre">cat</span></code> combined with redirection:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cat &lt;&lt; EOF &gt; myfile</span>
<span class="go">&gt; line one</span>
<span class="go">&gt; line two</span>
<span class="go">&gt; line three</span>
<span class="go">&gt; EOF</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="editing-text-files-using-vi">
<h3>Editing text files using Vi<a class="headerlink" href="#editing-text-files-using-vi" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Typing <code class="docutils literal notranslate"><span class="pre">vimtutor</span></code> launches a short but very comprehensive tutorial for those who want to learn their first <code class="docutils literal notranslate"><span class="pre">vi</span></code> commands.</p></li>
<li><p>A binary visual editor (<a class="reference external" href="https://linux.die.net/man/1/bvi">bvi</a>) can be used to binary files.</p></li>
</ul>
<section id="open-file-with-vi">
<h4>Open file with vi<a class="headerlink" href="#open-file-with-vi" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">vi &lt;filename&gt;               - Open a file to edit in Vi editor.</span>
</pre></div>
</div>
</section>
<section id="vi-modes">
<h4>Vi Modes<a class="headerlink" href="#vi-modes" title="Link to this heading"></a></h4>
<p>Three modes</p>
<ul class="simple">
<li><p>Command,</p></li>
<li><p>Insert, and</p></li>
<li><p>line.</p></li>
</ul>
<section id="command-mode">
<h5>Command Mode<a class="headerlink" href="#command-mode" title="Link to this heading"></a></h5>
<p>By default, <code class="docutils literal notranslate"><span class="pre">vi</span></code> starts in command mode. Each key is an editor
command. Keyboard strokes are interpreted as commands that can modify
file contents.</p>
<section id="cursor-positions">
<h6>Cursor Positions<a class="headerlink" href="#cursor-positions" title="Link to this heading"></a></h6>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">h,l,j,k        - Move left, right, down, up</span>
<span class="go">w              - Move to the start of the next word.</span>
<span class="go">e              - Move to the end of the word.</span>
<span class="go">b              - Move to the beginning of the word.</span>
<span class="go">3w             - 3w is similar to pressing w 3 times, moves to the start of the third word.</span>
<span class="go">30i-&#39;EscKey&#39;   - 30(insert&gt;-(EscapeKey&gt; : Inserts 30 - at once.</span>
<span class="go">f              - find and move to the next (or previous) occurrence of a character. fo find next o.</span>
<span class="go">3fo            - find the third occurrence of o</span>
<span class="gp">%              </span>-<span class="w"> </span>In<span class="w"> </span>the<span class="w"> </span>text<span class="w"> </span>that<span class="w"> </span>is<span class="w"> </span>structured<span class="w"> </span>with<span class="w"> </span>parentheses<span class="w"> </span>or<span class="w"> </span>brackets,<span class="w"> </span><span class="o">(</span><span class="w"> </span>or<span class="w"> </span><span class="o">{</span><span class="w"> </span>or<span class="w"> </span><span class="o">[</span>,<span class="w"> </span>use<span class="w"> </span>%<span class="w"> </span>to<span class="w"> </span>jump<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>matching<span class="w"> </span>parenthesis<span class="w"> </span>or<span class="w"> </span>bracket.
<span class="go">0 (Zero)       - Reach beginning of the line</span>
<span class="gp">$              </span>-<span class="w"> </span>Reach<span class="w"> </span>end<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>line.
<span class="go">-              - Find the next occurrence of the word under the cursor</span>
<span class="gp">#              </span>-<span class="w"> </span>Find<span class="w"> </span>the<span class="w"> </span>previous<span class="w"> </span>occurrence<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>word<span class="w"> </span>under<span class="w"> </span>the<span class="w"> </span>cursor
<span class="go">gg             - Reach the beginning of the file</span>
<span class="go">H              - Reach the beginning of the file</span>
<span class="go">L              - Reach the end of the file</span>
<span class="go">G              - Reach the end of the file</span>
<span class="go">30G            - Reach the 30th line in the file</span>
<span class="go">.              - Repeat the last command</span>
<span class="go">z=             - If the cursor is on the word (highlighted with spell check), vim will suggest a list of alternatives that it thinks may be correct.</span>
</pre></div>
</div>
</section>
<section id="searching-text-in-vi">
<h6>Searching text in vi<a class="headerlink" href="#searching-text-in-vi" title="Link to this heading"></a></h6>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">/text          - Search for the text. Utilize n, N for next and previous occurrences.</span>
<span class="go">?text          - Search backward for pattern</span>
</pre></div>
</div>
</section>
<section id="working-with-text-in-vi">
<h6>Working with text in vi<a class="headerlink" href="#working-with-text-in-vi" title="Link to this heading"></a></h6>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">o              - Insert a new line below the cursor</span>
<span class="go">O              - Insert a new line above the cursor</span>
<span class="go">x              - Delete the character</span>
<span class="go">r              - replace the character with the next key pressed.</span>
<span class="go">cw             - change the current word (puts the vi in insert mode)</span>
<span class="go">dw             - Delete the current word.</span>
<span class="go">dd             - Delete the current line.</span>
<span class="go">d$             - Delete the text from where your cursor is to the end of the line.</span>
<span class="go">dnd            - Delete n lines.</span>
<span class="go">yy             - Yank or copy the current line.</span>
<span class="go">y$, yny        - Similar to delete lines.</span>
<span class="go">p              - Paste the line in the buffer into text after the currentline.</span>
<span class="go">u              -</span>
</pre></div>
</div>
</section>
</section>
<section id="insert-mode">
<h5>Insert Mode<a class="headerlink" href="#insert-mode" title="Link to this heading"></a></h5>
<p>Type <code class="docutils literal notranslate"><span class="pre">i</span></code> or <code class="docutils literal notranslate"><span class="pre">a</span></code> to switch to Insert mode from Command mode. Insert
mode is used to enter (insert) text into a file. Insert mode is
indicated by an <code class="docutils literal notranslate"><span class="pre">?</span> <span class="pre">INSERT</span> <span class="pre">?</span></code> indicator at the bottom of the screen.
Press <code class="docutils literal notranslate"><span class="pre">Esc</span></code> to exit Insert mode and return to Command mode.</p>
</section>
<section id="line-mode">
<h5>Line Mode<a class="headerlink" href="#line-mode" title="Link to this heading"></a></h5>
<p>Type <code class="docutils literal notranslate"><span class="pre">:</span></code> to switch to the Line mode from Command mode. Each key is an
external command, including writing the file contents to disk or
exiting.</p>
<p>Press <code class="docutils literal notranslate"><span class="pre">Esc</span></code> to exit Line mode and return to Command mode.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">:q                          - Quit.</span>
<span class="go">:q!                         - Quit even modifications have not been saved</span>
<span class="go">:w                          - write to the file</span>
<span class="go">:w filename                 - write out to the filename</span>
<span class="go">:w! filename                - overwrite filename</span>
<span class="go">:x or :wq                   - Save and close.</span>
<span class="go">:syntax on                  - Turn on Syntax highlighting for C programming and other languages.</span>
<span class="go">:history                    - Shows the history of the commands executed</span>
<span class="go">:set number                 - Turn on the line numbers.</span>
<span class="go">:set nonumber               - Turn off the line numbers.</span>
<span class="go">:set spell spelllang=en_us  - Turn spell checking on with spell language as &quot;en_us&quot;</span>
<span class="go">:set nospell                - Turn spell checking off</span>
<span class="go">:set list                   - If &#39;list&#39; is on, whitespace characters are made visible. The default displays &quot;^I&quot; for each tab, and &quot;$&quot; at each EOL (end of line, so trailing whitespace can be seen)</span>
<span class="go">:u                          - Undo one change.</span>
<span class="go">:%!xxd                      - to turn it into a hex-editor.</span>
<span class="go">:%!xxd -r                   - to go back to normal mode (from hexedit mode)</span>
<span class="go">:%!fmt                      - format the text using the fmt command</span>
</pre></div>
</div>
<section id="using-external-commands-in-vi">
<h6>Using external commands in vi<a class="headerlink" href="#using-external-commands-in-vi" title="Link to this heading"></a></h6>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">:!{cmd}                     - Run the command without exiting the vim. {cmd} can be whoami without external brackets.</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="vi-configuration-files">
<h4>Vi Configuration Files<a class="headerlink" href="#vi-configuration-files" title="Link to this heading"></a></h4>
<p>Two configurations files which are important:</p>
<section id="vimrc">
<h5>.vimrc<a class="headerlink" href="#vimrc" title="Link to this heading"></a></h5>
<p>It contains optional runtime configuration settings to initialize
<code class="docutils literal notranslate"><span class="pre">vim</span></code> when it starts. Example: If you want <code class="docutils literal notranslate"><span class="pre">vim</span></code> to have syntax on
and line numbers on, whenever you open <code class="docutils literal notranslate"><span class="pre">vi</span></code>, enter <code class="docutils literal notranslate"><span class="pre">syntax</span> <span class="pre">on</span></code> and
<code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">number</span></code> in this file.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span><span class="c1">#Sample contents of .vimrc</span>

<span class="go">syntax on</span>
<span class="go">set number</span>
</pre></div>
</div>
<p>A good details about various options which can be set in vimrc can be
found at <a class="reference external" href="https://dougblack.io/words/a-good-vimrc.html">A Good Vimrc</a></p>
</section>
<section id="viminfo">
<h5>.viminfo<a class="headerlink" href="#viminfo" title="Link to this heading"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">viminfo</span></code> file stores command-line, search string, input-line history,
and other stuff. Useful if you want to find out what the user has been
doing in <code class="docutils literal notranslate"><span class="pre">vi</span></code>.</p>
<p>Both files are present in the user home directory.</p>
</section>
</section>
<section id="replace-text-in-vi">
<h4>Replace text in Vi<a class="headerlink" href="#replace-text-in-vi" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">:s/test/learn     - would replace test to learn in current line but only first instance.</span>
<span class="go">:s/test/learn/g   - would replace test to learn in current line all the instance.</span>
<span class="go">:s/test/learn/gi  - would replace test (all cases) to learn in current line all the instance.</span>
<span class="go">:%s/test/learn/gi - would replace test to learn in the file (all lines)</span>
</pre></div>
</div>
</section>
<section id="other-info">
<h4>Other Info<a class="headerlink" href="#other-info" title="Link to this heading"></a></h4>
<ul>
<li><p><a class="reference external" href="https://vimawesome.com/">Vim Awesome</a> provides Awesome VIM
plugins from across the universe. A few good one are</p>
<ul>
<li><p>The NERD tree : Tree explorer plugin for vim</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">:NERDTreeToggle : Toggle the NERD Tree</span>
<span class="go">:NERDTreeFocus  : Set the focus to NerdTree</span>
</pre></div>
</div>
</li>
<li><p>Syntastic : Syntax checking hacks for vim</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">SyntasticCheck - Check for the possible syntax issues</span>
</pre></div>
</div>
</li>
<li><p>Youcompleteme : Code-completion engine for Vim</p></li>
<li><p><a class="reference external" href="https://github.com/junegunn/fzf.vim">fzf</a> : Bundle of
fzf-based commands and mappings</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">GFiles [OPTS] :    Git files (git ls-files)</span>
<span class="go">GFiles?       :    Git files (git status)</span>
<span class="go">History       :    v:oldfiles and open buffers</span>
<span class="go">History:      :    Command history</span>
<span class="go">History/      :    Search history</span>
<span class="go">Snippets      :    Snippets (UltiSnips)</span>
<span class="go">Commits       :    Git commits (requires fugitive. vim)</span>
<span class="go">BCommits      :    Git commits for the current buffer</span>
<span class="go">Commands      :    Commands</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://github.com/SirVer/ultisnips">UltiSnips</a> The ultimate
snippet solution for Vim</p></li>
<li><p><a class="reference external" href="https://github.com/godlygeek/tabular">Tabular</a> : Vim script
for text filtering and alignment</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Select the text which you want to align in the visual mode (Do make sure that the cursor is also at the same position as visual)</span>
<span class="go">:Tabularize /{pattern to be aligned}</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p>Utilize <a class="reference external" href="http://github.com/VundleVim/Vundle.Vim">Vundle, the plugin manager for
vim</a></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">:PluginList       - lists configured plugins</span>
<span class="go">:PluginInstall    - installs plugins; append `!` to update or  just:PluginUpdate</span>
<span class="go">:PluginSearch foo - searches for foo; append `!` to refresh local cache</span>
<span class="go">:PluginClean      - confirms removal of unused plugins; append `!` to    auto-approve removal</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="manipulating-text">
<h3>Manipulating Text<a class="headerlink" href="#manipulating-text" title="Link to this heading"></a></h3>
<section id="cut-remove-sections-from-each-line-of-files">
<h4>cut - remove sections from each line of files<a class="headerlink" href="#cut-remove-sections-from-each-line-of-files" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cut OPTION... [FILE]...</span>
<span class="go"> -d        : use DELIM instead of TAB for field delimiter.</span>
<span class="go"> -f        : select only these fields.</span>
</pre></div>
</div>
</section>
<section id="sed">
<h4>sed<a class="headerlink" href="#sed" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">sed</span></code> (stream editor) is used to modify the contents of a file or
input stream, usually placing the contents into a new file or output
stream.</p>
<p>Data from an input source/file (or stream) is taken and moved to a
working space. The entire list of operations/modifications is applied
over the data in the working space, and the final contents are moved to
the standard output space (or stream).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sed -e command &lt;filename&gt;</span>
</pre></div>
</div>
<p>Specify editing commands at the command line, operate on file and put
the output on standard out (e.g. the terminal)</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sed -f scriptfile &lt;filename&gt;           : Specify a scriptfile containing sed commands, operate on file, and put output on standard out</span>
<span class="go">sed s/pattern/replace_string/ file     : Substitute first string occurrence in every line</span>
<span class="go">sed s/pattern/replace_string/g file    : Substitute all string occurrences in every line</span>
<span class="go">sed 1,3s/pattern/replace_string/g file : Substitute all string occurrences in a range of lines</span>
<span class="go">sed -i s/pattern/replace_string/g file : Save changes for string substitution in the same file</span>
</pre></div>
</div>
<p>Example: To convert 01/02/… to JAN/FEB/…</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sed -e &#39;s/01/JAN/&#39; -e &#39;s/02/FEB/&#39; -e &#39;s/03/MAR/&#39; -e &#39;s/04/APR/&#39; -e &#39;s/05/MAY/&#39; \</span>
<span class="go">    -e &#39;s/06/JUN/&#39; -e &#39;s/07/JUL/&#39; -e &#39;s/08/AUG/&#39; -e &#39;s/09/SEP/&#39; -e &#39;s/10/OCT/&#39; \</span>
<span class="go">    -e &#39;s/11/NOV/&#39; -e &#39;s/12/DEC/&#39;</span>
</pre></div>
</div>
<p>Example: Search for all instances of the user command interpreter
(shell) equal to <code class="docutils literal notranslate"><span class="pre">/sbin/nologin</span></code> in <code class="docutils literal notranslate"><span class="pre">/etc/passwd</span></code> and replace them
with <code class="docutils literal notranslate"><span class="pre">/bin/bash</span></code>.</p>
<p>To get output on standard out (terminal screen):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sed s/&#39;\/sbin\/nologin&#39;/&#39;\/bin\/bash&#39;/g /etc/passwd</span>
</pre></div>
</div>
<p>or to direct to a file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sed s/&#39;\/sbin\/nologin&#39;/&#39;\/bin\/bash&#39;/g /etc/passwd &gt; passwd_new</span>
</pre></div>
</div>
<p>Note that this is painful and obscure because we are trying to use the
forward-slash ( / ) as both a string and a delimiter between fields. One
can do instead:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sed s:&#39;/sbin/nologin&#39;:&#39;/bin/bash&#39;:g /etc/passwd</span>
</pre></div>
</div>
<p>where we have used the colon ( <code class="docutils literal notranslate"><span class="pre">:</span></code> ) as the delimiter instead. (You
are free to choose your delimiting character!) In fact, when doing this,
we do not even need the single quotes:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">bitvijays/tmp&gt; sed s:/sbin/nologin:/bin/bash:g /etc/passwd</span>
</pre></div>
</div>
<section id="example">
<h5>Example<a class="headerlink" href="#example" title="Link to this heading"></a></h5>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sed -i &#39;/^$/d&#39; : is used to delete empty lines in a file using the -i option to edit the file in-place.</span>
</pre></div>
</div>
</section>
</section>
<section id="awk">
<h4>awk<a class="headerlink" href="#awk" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">awk</span></code> is an interpreted programming language, typically used as a data
extraction and reporting tool. awk is used to extract and then print
specific contents of a file and is often used to construct reports.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">awk `command&#39;  file      : Specify a command directly at the command line</span>
<span class="go">awk -f scriptfile file   : Specify a file that contains the script to be executed</span>
</pre></div>
</div>
<p>The input file is read one line at a time, and, for each line, <code class="docutils literal notranslate"><span class="pre">awk</span></code>
matches the given pattern in the given order and performs the requested
action. The <code class="docutils literal notranslate"><span class="pre">-F</span></code> option allows specifying a particular field separator
character. For example, the <code class="docutils literal notranslate"><span class="pre">/etc/passwd</span></code> file uses <code class="docutils literal notranslate"><span class="pre">:</span></code> to separate
the fields, so the <code class="docutils literal notranslate"><span class="pre">-F:</span></code> option is used with the <code class="docutils literal notranslate"><span class="pre">/etc/passwd</span></code> file.</p>
<p>The command/action in awk needs to be surrounded with apostrophes (or
single-quote (‘)). <code class="docutils literal notranslate"><span class="pre">awk</span></code> can be used as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">awk &#39;{ print $0 }&#39; /etc/passwd        : Print entire file</span>
<span class="go">awk -F: &#39;{ print $1 }&#39; /etc/passwd    : Print first field (column) of every line, separated by a space</span>
<span class="go">awk -F: &#39;{ print $1 $7 }&#39; /etc/passwd : Print first and seventh field of every line</span>
</pre></div>
</div>
<section id="awk-converting-to-normal-output-to-csv">
<h5>Awk converting to normal output to csv<a class="headerlink" href="#awk-converting-to-normal-output-to-csv" title="Link to this heading"></a></h5>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">A B --&gt; &quot;A&quot;,&quot;B&quot;</span>
<span class="go">awk &#39;{print &quot;\&quot;&quot; $1 &quot;\&quot;,\&quot;&quot; $2&quot;\&quot;&quot;}&#39;</span>
</pre></div>
</div>
</section>
</section>
<section id="sort">
<h4>sort<a class="headerlink" href="#sort" title="Link to this heading"></a></h4>
<p>According to a sort key, <code class="docutils literal notranslate"><span class="pre">sort</span></code> is used to rearrange the lines of a
text file, in either ascending or descending order. It can also sort
with respect to particular fields (columns) in a file. The default sort
key is the order of the ASCII characters (i.e., essentially
alphabetically).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sort &lt;filename&gt;        : Sort the lines in the specified file according to the characters at the beginning of each line</span>
<span class="go">cat file1 file2 | sort : Combine the two files, then sort the lines and display the output on the terminal</span>
<span class="go">sort -r &lt;filename&gt;     : Sort the lines in reverse order</span>
<span class="go">sort -k 3 &lt;filename&gt;   : Sort the lines by the 3rd field on each line instead of the beginning</span>
</pre></div>
</div>
<p>When used with the <code class="docutils literal notranslate"><span class="pre">-u</span></code> option, sort checks for unique values after
sorting the records (lines). It is equivalent to running uniq on the
output of sort.</p>
</section>
<section id="uniq">
<h4>uniq<a class="headerlink" href="#uniq" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">uniq</span></code> removes duplicate consecutive lines in a text file and helps
simplify the text display.</p>
<p>Because <code class="docutils literal notranslate"><span class="pre">uniq</span></code> requires that the duplicate entries must be
consecutive, one often runs <code class="docutils literal notranslate"><span class="pre">sort</span></code> first and then pipes the output
into <code class="docutils literal notranslate"><span class="pre">uniq</span></code>; if <code class="docutils literal notranslate"><span class="pre">sort</span></code> is used with the <code class="docutils literal notranslate"><span class="pre">-u</span></code> option, it can do all
this in one step.</p>
<p>To remove duplicate entries from multiple files at once, use the
following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sort file1 file2 | uniq &gt; file3</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sort -u file1 file2 &gt; file3</span>
</pre></div>
</div>
<p>To count the number of duplicate entries, use the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">uniq -c filename</span>
</pre></div>
</div>
</section>
<section id="paste">
<h4>paste<a class="headerlink" href="#paste" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">paste</span></code> can combine fields (such as name or phone number) from
different files and combine lines from multiple files. For example,
<code class="docutils literal notranslate"><span class="pre">paste</span></code> can combine line 1 from file1 with line 1 of file2, line 2
from file1 with line two of file2, and so on.</p>
<p>Let’s assume there are two files; one contains the full name of all
employees, and another contains their phone numbers and Employee IDs. We
want to create a new file that contains all the data listed in three
columns: name, employee ID, and phone number.</p>
<p><code class="docutils literal notranslate"><span class="pre">paste</span></code> can be used to create a single file containing all three
columns. The different columns are identified based on delimiters
(spacing used to separate two fields). For example, delimiters can be a
blank space, a tab, or an Enter.</p>
<p><code class="docutils literal notranslate"><span class="pre">paste</span></code> accepts the following options:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">-d delimiters : specify a list of delimiters to be used instead of tabs for separating consecutive values on a single line. Each delimiter is used in turn; when the list has been exhausted, paste begins again at the first delimiter.</span>
<span class="go">-s            :  causes paste to append the data in series rather than in parallel; that is, in a horizontal rather than vertical fashion.</span>
</pre></div>
</div>
<p>To paste contents from two files:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">paste file1 file2</span>
</pre></div>
</div>
<p>The syntax to use a different delimiter is as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">paste -d, file1 file2</span>
</pre></div>
</div>
<p>Common delimiters are <code class="docutils literal notranslate"><span class="pre">space</span></code>, <code class="docutils literal notranslate"><span class="pre">tab</span></code>, <code class="docutils literal notranslate"><span class="pre">|</span></code>, <code class="docutils literal notranslate"><span class="pre">comma</span></code>, etc.</p>
</section>
<section id="join">
<h4>join<a class="headerlink" href="#join" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">join</span></code> combines lines from two files based on a common field. It works
only if files share a common field.</p>
<p>Suppose we have two files with some similar columns. We have saved
employees’ phone numbers in two files, one with their first name and the
other with their last name. We want to combine the files without
repeating the data of common columns. How do we achieve this?</p>
<p>The above task can be achieved using <code class="docutils literal notranslate"><span class="pre">join</span></code>, which is essentially an
enhanced version of <code class="docutils literal notranslate"><span class="pre">paste</span></code>. It first checks whether the files share
common fields, such as names or phone numbers, and then joins the lines
in two files based on a common field.</p>
<p>To combine two files on a common field,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">join file1 file2</span>
</pre></div>
</div>
</section>
<section id="split">
<h4>split<a class="headerlink" href="#split" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">split</span></code> is used to break up (or split) a file into equal-sized
segments for easier viewing and manipulation and is generally used only
on relatively large files. By default, <code class="docutils literal notranslate"><span class="pre">split</span></code> breaks up a file into
1000-line parts. The original file remains unchanged, and a set of new
files with the same name plus an added prefix is created. By default,
the x prefix is added.</p>
<p><code class="docutils literal notranslate"><span class="pre">split</span></code> a file into segments:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">split infile</span>
</pre></div>
</div>
<p>split a file into segments using a different prefix</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">split infile &lt;Prefix&gt;</span>
</pre></div>
</div>
<p>We will apply split to an American-English dictionary file of over
99,000 lines:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">wc -l american-english</span>
<span class="go">99171 american-english</span>
</pre></div>
</div>
<p>We have used <code class="docutils literal notranslate"><span class="pre">wc</span></code> (word count) to report the number of lines in the
file. Then, typing:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">split american-english dictionary</span>
</pre></div>
</div>
<p>will split the American-English file into 100 equal-sized segments named
dictionaryxx.</p>
</section>
<section id="strings">
<h4>strings<a class="headerlink" href="#strings" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">strings</span></code> is used to extract all printable character strings found in
the file or files given as arguments. It is useful in locating
human-readable content embedded in binary files.</p>
<p>For example, to search for the string my_string in a spreadsheet:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">strings book1.xls | grep my_string</span>
</pre></div>
</div>
</section>
<section id="tr">
<h4>tr<a class="headerlink" href="#tr" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">tr</span></code> translates characters, copies standard input to standard output,
and handles special characters. The <code class="docutils literal notranslate"><span class="pre">tr</span></code> utility is used to translate
specified characters into other characters or to delete them. The
general syntax is as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">tr [options] set1 [set2]</span>
<span class="go">The items in the square brackets are optional.</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">tr abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZ : Convert lower case to upper case</span>
<span class="go">tr &#39;{}&#39; &#39;()&#39; &lt; inputfile &gt; outputfile                    : Translate braces into parenthesis</span>
<span class="go">echo &quot;This is for testing&quot; | tr [:space:] &#39;\t&#39;           : Translate white-space to tabs</span>
<span class="go">echo &quot;This   is   for    testing&quot; | tr -s [:space:]      : squeeze repetition of characters using -s</span>
<span class="go">echo &quot;the geek stuff&quot; | tr -d &#39;t&#39;                        : Delete specified characters using -d option</span>
<span class="go">echo &quot;my username is 432234&quot; | tr -cd [:digit:]          : Complement the sets using -c option</span>
<span class="go">tr -cd [:print:] &lt; file.txt                              : Remove all non-printable character from a file</span>
<span class="go">tr -s &#39;\n&#39; &#39; &#39; &lt; file.txt                                : Join all the lines in a file into a single line</span>
</pre></div>
</div>
</section>
<section id="tee">
<h4>tee<a class="headerlink" href="#tee" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">tee</span></code> takes the output from the command, and one stream is displayed
on the standard output, and the other is saved to a file.</p>
<p>For example, to list the contents of a directory on the screen and save
the output to a file.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ls -l | tee newfile</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">newfile</span></code> will then display the output of <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">–l</span></code>.</p>
</section>
<section id="wc">
<h4>wc<a class="headerlink" href="#wc" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">wc</span></code> (word count) counts the number of lines, words, and characters in
a file or list of files.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">wc</span>
<span class="go">-l : Displays the number of lines</span>
<span class="go">-c : Displays the number of bytes</span>
<span class="go">-w : Displays the number of words</span>
</pre></div>
</div>
</section>
<section id="cut">
<h4>cut<a class="headerlink" href="#cut" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">cut</span></code> is used for manipulating column-based files and is designed to
extract specific columns. The default column separator is the tab
character. A different delimiter can be given as a command option.</p>
<p>For example, to display the third column delimited by a blank space.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ls -l | cut -d &quot; &quot; -f3</span>
</pre></div>
</div>
</section>
<section id="alias">
<h4>alias<a class="headerlink" href="#alias" title="Link to this heading"></a></h4>
<p>We can create customized commands or modify the behavior of already
existing ones by creating aliases. These aliases are placed in
<code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code> file, so they are available to any command shells.
<code class="docutils literal notranslate"><span class="pre">unalias</span></code> removes an <code class="docutils literal notranslate"><span class="pre">alias</span></code>.</p>
<p>Typing <code class="docutils literal notranslate"><span class="pre">alias</span></code> with no arguments will list currently defined aliases.</p>
</section>
</section>
<section id="viewing-files">
<h3>Viewing Files<a class="headerlink" href="#viewing-files" title="Link to this heading"></a></h3>
<section id="id2">
<h4>echo<a class="headerlink" href="#id2" title="Link to this heading"></a></h4>
<p>echo can be used to read files.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">*</span></code> : List the current folder files.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">*/*</span></code> : List all the files in the next sub-folders level.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">.*</span></code> : List hidden files.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">echo</span></code> can also be used to read files</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span><span class="w"> </span>&lt;<span class="w"> </span>filename.txt<span class="w"> </span><span class="k">)</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="id3">
<h4>cat<a class="headerlink" href="#id3" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">cat</span></code>, short for concatenate, is used to read, print, and combine
files.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cat       : Used for viewing files that are not very long; it does not provide any scroll-back.</span>
</pre></div>
</div>
<ul>
<li><p>When <code class="docutils literal notranslate"><span class="pre">cat</span></code> sees the string <code class="docutils literal notranslate"><span class="pre">-</span></code> as a filename, it treats it as a synonym for <code class="docutils literal notranslate"><span class="pre">stdin</span></code>.</p>
<ul class="simple">
<li><p>To get around this, we need to alter the string that <code class="docutils literal notranslate"><span class="pre">cat</span></code> sees in such a way that it still refers to a file called <code class="docutils literal notranslate"><span class="pre">-</span></code>.</p></li>
<li><p>The usual way of doing this is to prefix the filename with a path <code class="docutils literal notranslate"><span class="pre">-</span></code> <code class="docutils literal notranslate"><span class="pre">./-</span></code>, or <code class="docutils literal notranslate"><span class="pre">/home/username/-</span></code>.</p></li>
<li><p>This technique is also used to get around similar issues where command-line options clash with filenames, so a file referred to as <code class="docutils literal notranslate"><span class="pre">./-e</span></code> does not appear as the <code class="docutils literal notranslate"><span class="pre">-e</span></code> command-line option to a program.</p></li>
</ul>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">tac</span></code> command (<code class="docutils literal notranslate"><span class="pre">cat</span></code> spelled backward) prints the lines of a file in reverse order. Each line remains the same, but the order of lines is inverted. The syntax of <code class="docutils literal notranslate"><span class="pre">tac</span></code> is the same as for the <code class="docutils literal notranslate"><span class="pre">cat</span></code>, as in:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">tac file</span>
<span class="go">tac file1 file2 &gt; newfile</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="xxd">
<h4>xxd<a class="headerlink" href="#xxd" title="Link to this heading"></a></h4>
<p>Make a hexdump or do the reverse.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">-g bytes      : number of octets per group in normal output. Default 2</span>
<span class="go">-l len        : stop after len octets.</span>
<span class="go">-s [+][-]seek : start at seek bytes abs. (or +: rel.) infile offset.</span>
</pre></div>
</div>
</section>
<section id="hexdump">
<h4>hexdump<a class="headerlink" href="#hexdump" title="Link to this heading"></a></h4>
<p>Display file contents in hexadecimal, decimal, octal, or ascii.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">-s, --skip &lt;offset&gt;       skip offset bytes from the beginning</span>
</pre></div>
</div>
</section>
<section id="view-large-files">
<h4>View large files<a class="headerlink" href="#view-large-files" title="Link to this heading"></a></h4>
<section id="less">
<h5>less<a class="headerlink" href="#less" title="Link to this heading"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">less</span></code> can be used to view the contents of a large file requiring
scrolling up and down page by page, without the system having to place
the entire file in memory before starting. This is much faster than
using a text editor.</p>
</section>
<section id="head">
<h5>head<a class="headerlink" href="#head" title="Link to this heading"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">head</span></code> reads the first few lines of each named file (10 by default)
and displays it on standard output. The number of lines to read can be
provided in an option.</p>
<p>For example, if we need to print the first 5 lines from <code class="docutils literal notranslate"><span class="pre">grub.cfg</span></code>,
use the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">head -n 5 grub.cfg</span>
<span class="go">head -5 grub.cfg</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">tac       : used to look at a file backward, starting with the last line.</span>
<span class="go">less      : print information one per page.</span>
<span class="go">more      : prints information one per page.</span>
<span class="go">head      : prints first 10 lines</span>
<span class="go">tail      : prints last 10 lines.</span>
</pre></div>
</div>
</section>
<section id="tail">
<h5>tail<a class="headerlink" href="#tail" title="Link to this heading"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">tail</span></code> prints the last few lines of each named file and displays it on
standard output. By default, it shows the last 10 lines. The number of
lines can be provided in an option. <code class="docutils literal notranslate"><span class="pre">tail</span></code> is handy when
troubleshooting any issue using log files as the user probably wants to
see the most recent output lines.</p>
<p>For example, to display the last 15 lines of somefile.log, use the
following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">tail -n 15 somefile.log</span>
<span class="go">tail -15 somefile.log</span>
</pre></div>
</div>
<p>To continually monitor new output in a growing log file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">tail -f somefile.log</span>
</pre></div>
</div>
</section>
</section>
<section id="viewing-compressed-files">
<h4>Viewing compressed files<a class="headerlink" href="#viewing-compressed-files" title="Link to this heading"></a></h4>
<p>Reading compressed files for many commonly-used file and text
manipulation programs requires different associated utilities having the
letter “z” prefixed to their name. For example, we have utility programs
such as <code class="docutils literal notranslate"><span class="pre">zcat</span></code>, <code class="docutils literal notranslate"><span class="pre">zless</span></code>, <code class="docutils literal notranslate"><span class="pre">zdiff</span></code> and <code class="docutils literal notranslate"><span class="pre">zgrep</span></code>.</p>
<p>Here is a table listing some <code class="docutils literal notranslate"><span class="pre">z</span></code> family commands for <code class="docutils literal notranslate"><span class="pre">gzip</span></code>
compression method:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">zcat compressed-file.txt.gz</span>
<span class="go">zless somefile.gz</span>
<span class="go">zmore somefile.gz               : To page through a compressed file</span>
<span class="go">zgrep -i less somefile.gz       : To search inside a compressed file</span>
<span class="go">zdiff file1.txt.gz file2.txt.gz : To compare two compressed files</span>
</pre></div>
</div>
<p>There is <code class="docutils literal notranslate"><span class="pre">bzcat</span></code> and <code class="docutils literal notranslate"><span class="pre">bzless</span></code> associated with <code class="docutils literal notranslate"><span class="pre">bzip2</span></code> compression
method, and <code class="docutils literal notranslate"><span class="pre">xzcat</span></code> and <code class="docutils literal notranslate"><span class="pre">xzless</span></code> associated with <code class="docutils literal notranslate"><span class="pre">xz</span></code> compression
method.</p>
</section>
</section>
<section id="searching-files">
<h3>Searching Files<a class="headerlink" href="#searching-files" title="Link to this heading"></a></h3>
<section id="locate">
<h4>locate<a class="headerlink" href="#locate" title="Link to this heading"></a></h4>
<p>find files by name. <code class="docutils literal notranslate"><span class="pre">locate</span></code> utilizes a database created by
<code class="docutils literal notranslate"><span class="pre">updatedb</span></code>. The database is automatically once a day and can be
updated manually by running <code class="docutils literal notranslate"><span class="pre">updatedb</span></code>.</p>
<p>Examples:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">locate yum  : locate a file named yum</span>
<span class="go">locate .doc : locate files with .doc extension</span>
</pre></div>
</div>
</section>
<section id="find">
<h4>find<a class="headerlink" href="#find" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">find</span></code> recurses down the filesystem tree from any particular directory
(or set of directories) and locates files that match specified
conditions. The default pathname is always the present working
directory.</p>
<ul class="simple">
<li><p>When no arguments are provided, <code class="docutils literal notranslate"><span class="pre">find</span></code> lists all files in the
current directory and all of its subdirectories.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">find</span></code> is being able to run commands on the files that match your
search criteria using <code class="docutils literal notranslate"><span class="pre">-exec</span></code> option.</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">find / -name somename</span>

<span class="go">-user       : File is owned by user uname (numeric user ID allowed).</span>
<span class="go">-group      : File belongs to group gname (numeric group ID allowed).</span>
<span class="go">-size       : File uses n units of space. c/k/M/G: bytes/Kilobytes/Megabytes/Gigabytes.</span>
<span class="go">-name       : Base  of  filename</span>
<span class="go">-type       : d for directory, f for file</span>
<span class="go">-ctime X    : is when the inode metadata (i.e., file ownership, permissions, etc.) last changed; it is often, but not necessarily, when the file was first created.</span>
<span class="go">-atime X    : search for accessed/last read</span>
<span class="go">-mtime X    : modified/last written. The X is the number of days and can be expressed as either a number (n) that means exactly that value, +n, which means greater than that number, or -n, which means less than that number. Similar options for times in minutes (as in -cmin, -amin, and -mmin)</span>
<span class="go">-size Y     : find files based on size. Size is in 512-byte blocks, by default; We can also specify bytes (c), kilobytes (k), megabytes (M), gigabytes (G). Example +10M</span>
</pre></div>
</div>
<section id="example-remove-all-files-that-end-with-swp">
<h5>Example: Remove all files that end with <code class="docutils literal notranslate"><span class="pre">.swp</span></code><a class="headerlink" href="#example-remove-all-files-that-end-with-swp" title="Link to this heading"></a></h5>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">find -name &quot;*.swp&quot; -exec rm {} ;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">{}</span></code> (squiggly brackets) is a placeholder that will be filled with
all the file names that result from the <code class="docutils literal notranslate"><span class="pre">find</span></code> expression, and the
preceding command will be run on each one individually.</p>
<p>The command needs to be ended with either ‘;’ (including the single-quotes) or “;”.</p>
<p>We can also use the <code class="docutils literal notranslate"><span class="pre">-ok</span></code> option, which behaves the same as <code class="docutils literal notranslate"><span class="pre">-exec</span></code>,
except that <code class="docutils literal notranslate"><span class="pre">find</span></code> will prompt for permission before executing the
command (a good way to test your results before blindly executing any
potentially dangerous commands).</p>
</section>
<section id="example-delete-empty-file-and-directories">
<h5>Example: Delete empty file and directories<a class="headerlink" href="#example-delete-empty-file-and-directories" title="Link to this heading"></a></h5>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">find -empty -type d -delete</span>
<span class="go">find -empty -type f -delete</span>
</pre></div>
</div>
<p>Find each file in the current directory and tell its type and grep JPEG
files.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">find . -type f -exec file {} + | grep JPEG</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="searching-for-text-using-global-regular-expression-print-grep">
<h3>Searching for text using Global Regular Expression Print (grep)<a class="headerlink" href="#searching-for-text-using-global-regular-expression-print-grep" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">grep</span></code> searches text files and data streams for patterns and can be
used with regular expressions.</p>
<section id="ways-to-provide-input-to-grep">
<h4>Ways to provide input to grep<a class="headerlink" href="#ways-to-provide-input-to-grep" title="Link to this heading"></a></h4>
<ul>
<li><p>search a given file or files on a system (including a recursive
search through sub-folders).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">grep bitvijays /etc/passwd</span>
</pre></div>
</div>
</li>
<li><p>Grep also accepts inputs (usually via a pipe) from another command or
series of commands.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cat /etc/passwd | grep bitvijays</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="syntax">
<h4>Syntax<a class="headerlink" href="#syntax" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">grep [options] [regexp] [filename]</span>

<span class="go">    -i, --ignore-case        : &#39;it DoesNt MatTTer WhaT thE CAse Is&#39;</span>
<span class="go">    -v, --invert-match       : &#39;everything , BUT that text&#39;</span>
<span class="go">    -A NUM                   : Print NUM lines of trailing context after matching lines.</span>
<span class="go">    -B NUM                   : Print NUM lines of trailing context before matching lines.</span>
<span class="go">    -C NUM                   : Print additional (leading and trailing) context lines before and after the match.</span>
<span class="go">    -a, --text               : Process a binary file as if it were text; this is equivalent to the --binary-files=text option.</span>
<span class="go">    -w                       : Whole-word search</span>
<span class="go">    -L --files-without-match : which outputs the names of files that do NOT contain matches for your search pattern.</span>
<span class="go">    -l --files-with-matches  : which prints out (only) the names of files that do contain matches for your search pattern.</span>

<span class="go">    -H (pattern&gt; filename    : Print the filename for each match.</span>
<span class="go">     example: grep -H &#39;a&#39; testfile</span>
<span class="go">     testfile:carry out few cyber-crime investigations</span>

<span class="go">     Now, let&#39;s run the search a bit differently:</span>
<span class="go">     cat testfile | grep -H &#39;a&#39;</span>
<span class="go">    (standard input):carry out few cyber-crime investigations</span>
</pre></div>
</div>
</section>
<section id="using-regular-expressions">
<h4>Using regular expressions<a class="headerlink" href="#using-regular-expressions" title="Link to this heading"></a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Regular expression should be enclosed in single quotation marks or double quotes (allows environment variables to be used), to prevent the shell (Bash or others) from trying to interpret and expand the expression before launching the grep process.</p>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">grep &#39;v.r&#39; testfile</span>
<span class="go">thank you very much</span>
</pre></div>
</div>
<p>In the search above, <code class="docutils literal notranslate"><span class="pre">.</span></code> is used to match any single character -
matches “ver” in “very”.</p>
<p>A regular expression may be followed by one of several repetition
operators:</p>
<ul class="simple">
<li><p>The period (<code class="docutils literal notranslate"><span class="pre">.</span></code>) matches any single character.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">?</span></code> means that the preceding item is optional, and if found, will
be matched at the most, once.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-</span></code> means that grep will match the preceding item zero or more
times.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">+</span></code> means that grep will match the preceding item one or more
times.</p></li>
<li><p>Matching with times</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">{n}</span></code> means the preceding item is matched exactly n times,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{n,}</span></code> means the item is matched n or more times.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{n,m}</span></code> means that the preceding item is matched at least n
times, but not more than m times.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{,m}</span></code> means that the preceding item is matched, at the most, m
times.</p></li>
</ul>
</li>
</ul>
<div class="admonition-todo admonition" id="id4">
<p class="admonition-title">Todo</p>
<p>Examples of Matching with times</p>
</div>
</section>
<section id="grep-e-grep-e">
<h4>grep -e / grep -E<a class="headerlink" href="#grep-e-grep-e" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Matcher Selection</span>
<span class="go"> -E, --extended-regexp        :  Interpret PATTERN as an extended regular expression.</span>

<span class="go">Matching Control</span>
<span class="go"> -e PATTERN, --regexp=PATTERN :  Use  PATTERN  as the pattern. If this option is used multiple times or is combined with the -f (--file) option, search for all patterns given. This option can be used to protect a pattern beginning with “-”.</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">grep -E &#39;^[0-9a-zA-Z]{30,}&#39;</span>
</pre></div>
</div>
<p>Grep anything that starts with a string containing characters from
<code class="docutils literal notranslate"><span class="pre">0-9</span></code>,<code class="docutils literal notranslate"><span class="pre">a-z</span></code> or <code class="docutils literal notranslate"><span class="pre">A-Z</span></code> and has matched 30 or more times.</p>
</section>
<section id="search-a-specific-string">
<h4>Search a specific string<a class="headerlink" href="#search-a-specific-string" title="Link to this heading"></a></h4>
<p>Scan files for a text present in them.</p>
<p>Find a way to scan the entire Linux system for all files containing a
specific string of text. Just to clarify, we are looking for text within
the file, not in the file name.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">grep -rnw -e &quot;pattern&quot; --include={-.c,-.h} --exclude=-.o &#39;directory&#39;</span>
<span class="go">  -r                    : search recursively</span>
<span class="go">  -n                    : print line number</span>
<span class="go">  -w                    : match the whole word.</span>
<span class="go">  --include={-.c,-.h}   : Only search through the files which have .c or .h extensions.</span>
<span class="go">  --exclude=-.o         : Exclude searching in files with .o extensions.</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">--exclude</span></code> or <code class="docutils literal notranslate"><span class="pre">--include</span></code> parameter could be used for efficient searching.</p>
</div>
</section>
<section id="line-and-word-anchors">
<h4>Line and word anchors<a class="headerlink" href="#line-and-word-anchors" title="Link to this heading"></a></h4>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">^</span></code> anchor specifies that the pattern following it should be at the start of the line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">grep &#39;^th&#39; testfile</span>
<span class="go">this</span>
</pre></div>
</div>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">$</span></code> anchor specifies that the pattern before it should be at the end of the line.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">grep &#39;i$&#39; testfile</span>
<span class="go">Hi</span>
</pre></div>
</div>
</li>
<li><p>The operator <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> anchors the pattern to the start of a word.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">grep &#39;\&lt;fe&#39; testfile</span>
<span class="go">carry out few cyber-crime investigations</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&gt;</span></code> anchors the pattern to the end of a word.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">grep &#39;le\&gt;&#39; testfile</span>
<span class="go">is test file</span>
</pre></div>
</div>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">b</span></code> (word boundary) anchor can be used in place of <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> and
<code class="docutils literal notranslate"><span class="pre">&gt;</span></code> to signify the beginning or end of a word:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">grep -e &#39;\binve&#39; testfile</span>
<span class="go">carry out few cyber-crime investigations</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="shell-expansions-input-to-grep">
<h4>Shell expansions - input to Grep<a class="headerlink" href="#shell-expansions-input-to-grep" title="Link to this heading"></a></h4>
<p>If we don’t single-quote the pattern passed to Grep, the shell could
perform shell expansion on the pattern and feed a changed pattern to
<code class="docutils literal notranslate"><span class="pre">grep</span></code>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">grep &quot;$HOME&quot; /etc/passwd</span>
<span class="go">root:x:0:0:root:/root:/bin/bash</span>
</pre></div>
</div>
<p>We used double quotes to make the Bash shell replace the environment
variable <code class="docutils literal notranslate"><span class="pre">$HOME</span></code> with the variable’s actual value (in this case,
<code class="docutils literal notranslate"><span class="pre">/root</span></code>). Thus, <code class="docutils literal notranslate"><span class="pre">grep</span></code> searches the <code class="docutils literal notranslate"><span class="pre">/etc/passwd</span></code> file for the
text <code class="docutils literal notranslate"><span class="pre">/root</span></code>, yielding the two lines that match.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">grep `whoami` /etc/passwd</span>
<span class="go">root:x:0:0:root:/root:/bin/bash</span>
</pre></div>
</div>
<p>Here, back-tick expansion is done by the shell, replacing <code class="docutils literal notranslate"><span class="pre">whoami</span></code>
with the user name (root) that is returned by the <code class="docutils literal notranslate"><span class="pre">whoami</span></code> command.</p>
</section>
</section>
<section id="compressing-files">
<h3>Compressing Files<a class="headerlink" href="#compressing-files" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">gzip</span></code>, <code class="docutils literal notranslate"><span class="pre">bzip2</span></code>, <code class="docutils literal notranslate"><span class="pre">xz</span></code> and <code class="docutils literal notranslate"><span class="pre">zip</span></code> are used to compress files.
<code class="docutils literal notranslate"><span class="pre">tar</span></code> allows you to create or extract files from an archive file,
often called a tarball. <code class="docutils literal notranslate"><span class="pre">tar</span></code> can optionally compress while creating
the archive, and decompress while extracting its contents.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">gzip</span></code> : The most frequently used Linux compression utility.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzip2</span></code>: Produces files significantly smaller than those produced
by <code class="docutils literal notranslate"><span class="pre">gzip</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xz</span></code> : The most space-efficient compression utility used in Linux.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zip</span></code> : required to examine and decompress archives from other OSs.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tar</span></code> : the <code class="docutils literal notranslate"><span class="pre">tar</span></code> utility is often used to group files in an
archive and then compress the whole archive at once.</p></li>
</ul>
<section id="tar">
<h4>tar<a class="headerlink" href="#tar" title="Link to this heading"></a></h4>
<p>Archiving utility</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">tar</span>
<span class="go"> -c                          : create archive</span>
<span class="go"> -t                          : list the content of the file</span>
<span class="go"> -x                          : extract the files</span>
<span class="go"> -j                          : bzip2 format</span>
<span class="go"> -z                          : gzip format</span>
<span class="go">tar xvf mydir.tar            : Extract all the files in mydir.tar into the mydir directory</span>
<span class="go">tar xvf mydir.tar.gz         : Extract all the files in mydir.tar.gz into the mydir directory</span>
<span class="go">tar zcvf mydir.tar.gz mydir  : Create the archive and compress with gzip</span>
<span class="go">tar jcvf mydir.tar.bz2 mydir : Create the archive and compress with bz2</span>
<span class="go">tar Jcvf mydir.tar.xz mydir  : Create the archive and compress with xz</span>
</pre></div>
</div>
</section>
<section id="gzip">
<h4>gzip<a class="headerlink" href="#gzip" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">gzip *            : Compresses all files in the current directory; each file is compressed and renamed with a .gz extension</span>
<span class="go">gzip -r projectX  : Compresses all files in the projectX directory, along with all files in all of the directories under projectX</span>
<span class="go">gunzip foo        : De-compresses foo found in the file foo.gz. Under the hood, the gunzip command is the same as gzip –d</span>
</pre></div>
</div>
</section>
<section id="bzip">
<h4>bzip<a class="headerlink" href="#bzip" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">bzip2 *       : Compresses all of the files in the current directory and replaces each file with a file renamed with a .bz2 extension</span>
<span class="go">bunzip2 *.bz2 : Decompresses all of the files with an extension of .bz2 in the current directory. Under the hood, bunzip2 is the same as calling bzip2 -d</span>
</pre></div>
</div>
</section>
<section id="xz">
<h4>xz<a class="headerlink" href="#xz" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">xz *                              : Compresses all of the files in the current directory and replaces each file with a .xz extension</span>
<span class="go">xz foo                            : Compresses foo into foo.xz using the default compression level (-6), and removes foo if compression succeeds</span>
<span class="go">xz -dk bar.xz                     : Decompresses bar.xz into bar and does not remove bar.xz even if decompression is successful</span>
<span class="go">xz -dcf a.txt b.txt.xz &gt; abcd.txt : Decompresses a mix of compressed and uncompressed files to standard output, using a single command</span>
<span class="go">xz -d *.xz                        : Decompresses the files compressed using xz</span>
</pre></div>
</div>
</section>
<section id="zip">
<h4>zip<a class="headerlink" href="#zip" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">zip backup *        : Compresses all files in the current directory and places them in the backup.zip</span>
<span class="go">zip -r backup.zip ~ : Archives your login directory (~) and all files and directories under it in backup.zip</span>
<span class="go">unzip backup.zip    : Extracts all files in backup.zip and places them in the current directory</span>
</pre></div>
</div>
</section>
</section>
<section id="backing-up-data">
<h3>Backing up data<a class="headerlink" href="#backing-up-data" title="Link to this heading"></a></h3>
<p>Backing up the date can be done in multiple ways. A simple way is by
simply copying with <code class="docutils literal notranslate"><span class="pre">cp</span></code> or using more robust <code class="docutils literal notranslate"><span class="pre">rsync</span></code>. Both can be
used to synchronize entire directory trees. However, <code class="docutils literal notranslate"><span class="pre">rsync</span></code> is more
efficient, as it checks if the file being copied already exists. If the
file exists and there is no change in size or modification time,
<code class="docutils literal notranslate"><span class="pre">rsync</span></code> will avoid an unnecessary copy and save time. Furthermore,
because <code class="docutils literal notranslate"><span class="pre">rsync</span></code> copies only the parts of files that have changed, it
can be very fast.</p>
<section id="cp">
<h4>cp<a class="headerlink" href="#cp" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">cp</span></code> can only copy files to and from destinations on the local machine
(unless copying to or from a filesystem mounted using NFS).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cp (SOURCE&gt; (DIRECTORY&gt;</span>
<span class="go">  -r        : recursive.</span>
<span class="go">  -a        : similar to preserve,</span>
<span class="go">  -p        : preserve</span>
<span class="go">  -v        : verbose.</span>
</pre></div>
</div>
</section>
<section id="rsync">
<h4>rsync<a class="headerlink" href="#rsync" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">rsync</span></code> can be used to copy files from one machine to another.
Locations are designated in the <code class="docutils literal notranslate"><span class="pre">target:path</span></code> form, where target can
be in the form of <code class="docutils literal notranslate"><span class="pre">someone&#64;host</span></code>. The <code class="docutils literal notranslate"><span class="pre">someone&#64;</span></code> part is optional
and used if the remote user is different from the local user.</p>
<p><code class="docutils literal notranslate"><span class="pre">rsync</span></code> is very efficient when recursively copying one directory tree
to another, because only the differences are transmitted over the
network. One often synchronizes the destination directory tree with the
origin, using the <code class="docutils literal notranslate"><span class="pre">-r</span></code> option to recursively walk down the directory
tree copying all files and directories below the one listed as the
source.</p>
<p>For example, a useful way to back up a project directory might be to use
the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">rsync -r project-X someone@host:archives/project-X</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">rsync</span></code> can be very destructive! Accidental misuse can do a lot of harm to data and programs by inadvertently copying changes to where they are not wanted. Take care to specify the correct options and paths. It is recommended that first test the <code class="docutils literal notranslate"><span class="pre">rsync</span></code> command using the <code class="docutils literal notranslate"><span class="pre">-dry-run</span></code> option to ensure that it provides the desired results.</p>
</div>
<p>To use <code class="docutils literal notranslate"><span class="pre">rsync</span></code> at the command prompt, type <code class="docutils literal notranslate"><span class="pre">rsync</span> <span class="pre">sourcefile</span> <span class="pre">destinationfile</span></code>, where either file can be on the local machine or a networked machine; <code class="docutils literal notranslate"><span class="pre">rsync</span></code> will copy the contents of sourcefile to destinationfile.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">rsync --progress -avrxH  --delete sourcedir destdir</span>
</pre></div>
</div>
</section>
</section>
<section id="comparing-files-with-diff">
<h3>Comparing files with diff<a class="headerlink" href="#comparing-files-with-diff" title="Link to this heading"></a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">diff : compare files line by line.</span>
<span class="go">-c Provides a listing of differences that include three lines of context before and after the lines differing in content</span>
<span class="go">-r Used to recursively compare subdirectories, as well as the current directory</span>
<span class="go">-i Ignore the case of letters</span>
<span class="go">-w Ignore differences in spaces and tabs (white space)</span>
<span class="go">-q Be quiet: only report if files are different without listing the differences</span>
</pre></div>
</div>
<p>To compare two files, at the command prompt, type
<code class="docutils literal notranslate"><span class="pre">diff</span> <span class="pre">[options]</span> <span class="pre">&lt;filename1&gt;</span> <span class="pre">&lt;filename2&gt;</span></code>. diff is meant to be used for
text files; for binary files, one can use <code class="docutils literal notranslate"><span class="pre">cmp</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">patch</span></code> is a useful tool in Linux. Many modifications to source code
and configuration files are distributed with patch files. They contain
the deltas or changes from an old version of a file to the new version.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">patch</span></code> file contains the deltas (changes) required to update an
older version of a file to the new one. The <code class="docutils literal notranslate"><span class="pre">patch</span></code> files are actually
produced by running <code class="docutils literal notranslate"><span class="pre">diff</span></code> with the correct options:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">diff -Nur originalfile newfile &gt; patchfile</span>
</pre></div>
</div>
<p>To apply a patch, the user can just do either of the two methods below:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">patch -p1 &lt; patchfile</span>
<span class="go">patch originalfile patchfile</span>
</pre></div>
</div>
<p>The first usage is more common. It is often used to apply changes to an
entire directory tree, rather than just one file, as in the second
example. To understand the use of the <code class="docutils literal notranslate"><span class="pre">-p1</span></code> option and many others,
see the man page for the patch.</p>
</section>
<section id="identifying-users">
<h3>Identifying Users<a class="headerlink" href="#identifying-users" title="Link to this heading"></a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">whoami : Identify the current user</span>
<span class="go">who    : list the currently logged-on users</span>
<span class="go">who -a : provide more detailed information</span>
</pre></div>
</div>
</section>
<section id="builtins">
<h3>Builtins<a class="headerlink" href="#builtins" title="Link to this heading"></a></h3>
<figure class="align-default" id="id17">
<img alt="Builtins" src="../_images/builtins.png" />
<figcaption>
<p><span class="caption-text">Builtins</span><a class="headerlink" href="#id17" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="other-commands">
<h3>Other commands<a class="headerlink" href="#other-commands" title="Link to this heading"></a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nm-applet : a applet for the network manager.</span>
<span class="go">wc        : print newline, word, and byte counts for each file.</span>
<span class="go"> -c       : print the bytes count.</span>
<span class="go"> -l       : print the lines count.</span>
<span class="go"> -w       : print the word count.</span>
<span class="go">sort      : sort lines of text files.</span>
<span class="go">cal       : Display calendar</span>
<span class="go">date      : Display date. Date command provides multiples options for displaying day and time, very helpful in creating backups with name having time and date.</span>
<span class="go">tr        : Converts from smaller to uppercase. tr stands for translate.</span>
<span class="go"> -d       : delete characters in the text.</span>
<span class="go">tee       : saves output in file as well as forward it.</span>
<span class="go">touch     : Create zero byte files, mainly used for changing the timestamps of the file.</span>
<span class="go">make      : If your program source file name is test.c/cpp, then you can directly write make test, this would compile the test.c/cpp program. Remember this it&#39;s a faster way.</span>
<span class="go">stat      : View detailed information about a file, including its name, size, last modified date and permissions.</span>
<span class="go">uniq      : Report or omit repeated lines.</span>
<span class="go">  -c      : prefix lines by the number of occurrences. (--count)</span>
<span class="go">free      : displays information on memory</span>
<span class="go">df        : reports on the available disk space on each of the disks mounted in the file system</span>
<span class="go">id        : displays the identity of the user running the session along with the list of groups they belong to</span>
<span class="go">journalctl: Systemd&#39;s journal also stores multiple logs (stdout/stderr output of services, syslog messages, kernel logs)</span>
<span class="go">  -r      : reverse the order so that newer messages are shown first</span>
<span class="go">  -f      : continuously print new log entries as they are appended to its database</span>
<span class="go">  -u ssh.service: limit the messages to those emitted by a specific systemd unit</span>
</pre></div>
</div>
</section>
<section id="regular-expressions-and-search-patterns">
<h3>Regular Expressions and search patterns<a class="headerlink" href="#regular-expressions-and-search-patterns" title="Link to this heading"></a></h3>
<p>Regular expressions are text strings used for matching a specific
pattern, or to search for a particular location, such as the start or
end of a line or a word. Regular expressions can contain both normal
characters or so-called meta-characters, such as <code class="docutils literal notranslate"><span class="pre">*</span></code> and <code class="docutils literal notranslate"><span class="pre">$</span></code>.</p>
<p>Many text editors and utilities such as <code class="docutils literal notranslate"><span class="pre">vi</span></code>, <code class="docutils literal notranslate"><span class="pre">sed</span></code>, <code class="docutils literal notranslate"><span class="pre">awk</span></code>,
<code class="docutils literal notranslate"><span class="pre">find</span></code> and <code class="docutils literal notranslate"><span class="pre">grep</span></code> work extensively with regular expressions.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">.(dot) : Match any single character</span>
<span class="go">a|z    : Match a or z</span>
<span class="gp">$      </span>:<span class="w"> </span>Match<span class="w"> </span>end<span class="w"> </span>of<span class="w"> </span>string
<span class="go">^      : Match beginning of string</span>
<span class="go">*      : Match preceding item 0 or more times</span>
</pre></div>
</div>
<p>For example, consider the following sentence:
<code class="docutils literal notranslate"><span class="pre">the</span> <span class="pre">quick</span> <span class="pre">brown</span> <span class="pre">fox</span> <span class="pre">jumped</span> <span class="pre">over</span> <span class="pre">the</span> <span class="pre">lazy</span> <span class="pre">dog</span></code>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">a..   : matches azy</span>
<span class="go">b.|j. : matches both br and ju</span>
<span class="go">..$   : matches og</span>
<span class="go">l.*   : matches lazy dog</span>
<span class="go">l.*y  : matches lazy</span>
<span class="go">the.* : matches the whole sentence</span>
</pre></div>
</div>
</section>
<section id="environment-variables">
<h3>Environment Variables<a class="headerlink" href="#environment-variables" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>An environment variable is a character string that contains data used by one or more applications. The built-in shell variables can be customized to suit requirements.</p></li>
<li><p>Environment variables allow storage of global settings for the shell or various other programs. They are contextual but inheritable. For example,</p>
<ul>
<li><p>Each process has its own set of environment variables (contextual).</p></li>
<li><p>Shells, like login shells, can declare variables, which will be passed down to other programs they execute (inheritable).</p></li>
</ul>
</li>
<li><p>Variables can be defined system-wide in <code class="docutils literal notranslate"><span class="pre">/etc/profile</span></code> or per-user in <code class="docutils literal notranslate"><span class="pre">~/.profile</span></code> but variables that are not specific to command line interpreters can be put in <code class="docutils literal notranslate"><span class="pre">/etc/environment</span></code>, since those variables will be injected into all user sessions.</p></li>
</ul>
<figure class="align-default" id="id18">
<img alt="Bash Environment Variables" src="../_images/bash_environment_variables.jfif" />
<figcaption>
<p><span class="caption-text">Bash Environment Variables</span><a class="headerlink" href="#id18" title="Link to this image"></a></p>
</figcaption>
</figure>
<ul>
<li><p>Some environment variables are given preset values by the system (which can usually be overridden). In contrast, the user sets others directly, either at the command line or within the startup and other scripts.</p></li>
<li><p>There are several ways to view the values of currently set environment variables, such as <code class="docutils literal notranslate"><span class="pre">set</span></code>, <code class="docutils literal notranslate"><span class="pre">env</span></code>, or <code class="docutils literal notranslate"><span class="pre">export</span></code>.</p></li>
<li><p>By default, variables created within a script are only available to the current shell; child processes (sub-shells) will not have access to values that have been set or modified. Allowing child processes to see the values requires the use of the <code class="docutils literal notranslate"><span class="pre">export</span></code> command.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">echo $SHELL : Show the value of a specific variable</span>
<span class="go">export VARIABLE=value (or VARIABLE=value; export VARIABLE) : Export a new variable value</span>
</pre></div>
</div>
</li>
<li><p>For adding a variable permanently, Edit <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code> and add the line <code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">VARIABLE=value</span></code>. To use it, <code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">~/.bashrc</span></code> or just <code class="docutils literal notranslate"><span class="pre">.</span> <span class="pre">~/.bashrc</span></code> (dot <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code>); or just start a new shell <code class="docutils literal notranslate"><span class="pre">bash</span></code></p></li>
</ul>
<section id="home">
<h4>Home<a class="headerlink" href="#home" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">HOME</span></code> is an environment variable representing the home (or login)
directory of the user. <code class="docutils literal notranslate"><span class="pre">cd</span></code> without arguments will change the current
working directory to the value of <code class="docutils literal notranslate"><span class="pre">HOME</span></code>. Note the tilde character
(<code class="docutils literal notranslate"><span class="pre">~</span></code>) is often used as an abbreviation for <code class="docutils literal notranslate"><span class="pre">$HOME</span></code>. Thus,
<code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">$HOME</span></code> and <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">~</span></code> are completely equivalent statements.</p>
</section>
<section id="path">
<h4>Path<a class="headerlink" href="#path" title="Link to this heading"></a></h4>
<p>PATH is an ordered list of directories (the path) scanned when a command
is given to find the appropriate program or script to run. Each
directory in the path is separated by colons (<code class="docutils literal notranslate"><span class="pre">:</span></code>). A null (empty)
directory name (or <code class="docutils literal notranslate"><span class="pre">./</span></code>) indicates the current directory at any given
time.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">:path1:path2</span>
<span class="go">path1::path2</span>
</pre></div>
</div>
<p>In the example <code class="docutils literal notranslate"><span class="pre">:path1:path2</span></code>, there is a null directory before the
first colon (:). Similarly, for <code class="docutils literal notranslate"><span class="pre">path1::path2</span></code> there is a null
directory between path1 and path2.</p>
<p>To prefix a private <code class="docutils literal notranslate"><span class="pre">bin</span></code> directory to your path:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$HOME</span>/bin:<span class="nv">$PATH</span>
<span class="gp">$ </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$PATH</span>
<span class="go">/home/student/bin:/usr/local/bin:/usr/bin:/bin/usr</span>
</pre></div>
</div>
</section>
<section id="id5">
<h4>SHELL<a class="headerlink" href="#id5" title="Link to this heading"></a></h4>
<p>The environment variable <code class="docutils literal notranslate"><span class="pre">SHELL</span></code> points to the user’s default command
shell (the program that is handling whatever you type in a command
window, usually bash) and contains the full pathname to the shell:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">echo $SHELL</span>
<span class="go">/bin/bash</span>
</pre></div>
</div>
</section>
<section id="ps1-command-line-prompt">
<h4>PS1 &amp; Command Line Prompt<a class="headerlink" href="#ps1-command-line-prompt" title="Link to this heading"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">PS1</span></code> variable is the character string that is displayed as the
prompt on the command line.</p>
<p>The following special characters can be included in PS1:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">\u - User name</span>
<span class="go">\h - Hostname</span>
<span class="go">\w - Current working directory</span>
<span class="go">\! - History number of this command</span>
<span class="go">\d - Date</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">echo $PS1</span>
<span class="go">\[\e]0;\u@\h: \w\a\]${debian_chroot:+($debian_chroot)}\u@\h:\w\$</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="networking">
<h2>Networking<a class="headerlink" href="#networking" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>The IP (Internet Protocol) address is a unique logical network
address assigned to a device on a network.</p></li>
<li><p>IPv4 uses 32-bits for addresses, and IPv6 uses 128-bits for
addresses.</p></li>
<li><p>Every IP address contains both a network and a host address field.
There are five classes of network addresses available: A, B, C, D &amp;
E.</p></li>
<li><p>DNS (Domain Name System) is used for converting Internet domain and
hostnames to IP addresses.</p></li>
</ul>
<figure class="align-default" id="id19">
<img alt="Linux Networking" src="../_images/linux_networking_tool.jfif" />
<figcaption>
<p><span class="caption-text">Linux Networking</span><a class="headerlink" href="#id19" title="Link to this image"></a></p>
</figcaption>
</figure>
<section id="ip">
<h3>ip<a class="headerlink" href="#ip" title="Link to this heading"></a></h3>
<p>To view the IP address:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">/sbin/ip addr show</span>
</pre></div>
</div>
<p>To view the routing information:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">/sbin/ip route show</span>
</pre></div>
</div>
</section>
<section id="ping">
<h3>ping<a class="headerlink" href="#ping" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">ping</span></code> is used to check whether or not a machine attached to the
network can receive and send data; i.e. it confirms that the remote host
is online and is responding.</p>
<p>To check the status of the remote host:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ping &lt;hostname&gt;</span>
</pre></div>
</div>
</section>
<section id="route">
<h3>route<a class="headerlink" href="#route" title="Link to this heading"></a></h3>
<p>A network requires the connection of many nodes. Data moves from source
to destination by passing through a series of routers and potentially
across multiple networks. Servers maintain routing tables containing the
addresses of each node in the network. The IP routing protocols enable
routers to build up a forwarding table that correlates final
destinations with the next-hop addresses.</p>
<p><code class="docutils literal notranslate"><span class="pre">route</span></code>, <code class="docutils literal notranslate"><span class="pre">ip</span></code> can view or change the IP routing table to add,
delete, or modify specific (static) routes to particular hosts or
networks.</p>
<section id="show-current-routing-table">
<h4>Show current routing table<a class="headerlink" href="#show-current-routing-table" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">route -n</span>
<span class="go">ip route</span>
</pre></div>
</div>
</section>
<section id="add-static-route">
<h4>Add static route<a class="headerlink" href="#add-static-route" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">route add -net address</span>
<span class="go">ip route add</span>
</pre></div>
</div>
</section>
<section id="delete-static-route">
<h4>Delete static route<a class="headerlink" href="#delete-static-route" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">route del -net address</span>
<span class="go">ip route del</span>
</pre></div>
</div>
</section>
</section>
<section id="traceroute">
<h3>traceroute<a class="headerlink" href="#traceroute" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">traceroute</span></code> is used to inspect the route the data packet takes to
reach the destination host, making it quite useful for troubleshooting
network delays and errors.</p>
<p>To print the route taken by the packet to reach the network host.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">traceroute &lt;address&gt;</span>
</pre></div>
</div>
</section>
<section id="wget">
<h3>wget<a class="headerlink" href="#wget" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">wget</span></code> is a command-line utility that can capably handle the following
types of downloads:</p>
<ul class="simple">
<li><p>Large file downloads</p></li>
<li><p>Recursive downloads, where a web page refers to other web pages and
all are downloaded at once</p></li>
<li><p>Password-required downloads</p></li>
<li><p>Multiple file downloads.</p></li>
</ul>
<p>To download a web page:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">wget &lt;url&gt;</span>
</pre></div>
</div>
</section>
<section id="curl">
<h3>curl<a class="headerlink" href="#curl" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">curl</span></code> allows saving the contents of a web page to a file, as does
<code class="docutils literal notranslate"><span class="pre">wget</span></code>.</p>
<p>Read a URL:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">curl &lt;URL&gt;</span>
<span class="go">curl http://bitvijays.github.io/</span>
</pre></div>
</div>
<p>Get the contents of a web page and store it in a file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">curl -o saved.html http://www.mysite.com</span>
</pre></div>
</div>
</section>
<section id="ftp">
<h3>ftp<a class="headerlink" href="#ftp" title="Link to this heading"></a></h3>
<p>Some command-line FTP clients are:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ftp</span>
<span class="go">sftp</span>
<span class="go">ncftp</span>
<span class="go">yafc (Yet Another FTP Client)</span>
</pre></div>
</div>
</section>
<section id="ssh">
<h3>ssh<a class="headerlink" href="#ssh" title="Link to this heading"></a></h3>
<p>Secure Shell (SSH) is a cryptographic network protocol used for secure
data communication. It is also used for remote services and other secure
services between two devices on the network. It is beneficial for
administering systems that are not readily available to work on
physically but to which remote access is available.</p>
<p>To login to a remote system using the same user name (currently logged
in), we can <code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">remote_system</span></code>. <code class="docutils literal notranslate"><span class="pre">ssh</span></code> then prompts for the remote
password. Users can configure the <code class="docutils literal notranslate"><span class="pre">ssh</span></code> to allow remote access without
typing a password each time securely.</p>
<p>If we want to run as another user, we can do either
<code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">-l</span> <span class="pre">someone</span> <span class="pre">some_system</span></code> or <code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">someone&#64;some_system</span></code>.</p>
<p>To run a command on a remote system via SSH, we can type
<code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">some_system</span> <span class="pre">my_command</span></code></p>
<section id="generating-new-ssh-host-keys">
<h4>Generating new SSH host keys<a class="headerlink" href="#generating-new-ssh-host-keys" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Each SSH server has its own cryptographic keys; they are named “SSH host keys” and are stored in <code class="docutils literal notranslate"><span class="pre">/etc/ssh/ssh_host_*</span></code>.</p></li>
<li><p>They must be kept private to ensure confidentiality and must not be shared by multiple machines.</p></li>
</ul>
<p>If we install the system by copying a full disk image (instead of using debian-installer such as ARM images), the image might contain pre-generated SSH host keys, we should replace with newly-generated keys. The image probably also comes with a default user password that might need to reset.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>passwd
<span class="go">[...]</span>
<span class="gp"># </span>rm<span class="w"> </span>/etc/ssh/ssh_host_*
<span class="gp"># </span>dpkg-reconfigure<span class="w"> </span>openssh-server
<span class="gp"># </span>systemctl<span class="w"> </span>restart<span class="w"> </span>ssh
</pre></div>
</div>
</section>
</section>
<section id="scp">
<h3>scp<a class="headerlink" href="#scp" title="Link to this heading"></a></h3>
<p>Move files securely using Secure Copy (scp) between two networked hosts.
<code class="docutils literal notranslate"><span class="pre">scp</span></code> uses the SSH protocol for transferring data.</p>
<p>To copy a local file to a remote system.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">scp &lt;localfile&gt; &lt;user@remotesystem&gt;:/home/user/</span>
</pre></div>
</div>
</section>
<section id="other-tools">
<h3>Other tools<a class="headerlink" href="#other-tools" title="Link to this heading"></a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ethtool : Queries network interfaces and can also set various parameters such as the speed</span>
<span class="go">netstat : Displays all active connections and routing tables. Useful for monitoring performance and troubleshooting</span>
<span class="go">nmap    : Scans open ports on a network. Important for security analysis</span>
<span class="go">tcpdump : Dumps network traffic for analysis</span>
<span class="go">iptraf  : Monitors network traffic in text mode</span>
<span class="go">mtr     : Combines the functionality of ping and traceroute and gives a continuously updated display</span>
<span class="go">dig     : Tests DNS workings. A good replacement for host and nslookup</span>
</pre></div>
</div>
</section>
<section id="setting-up-ip-address">
<h3>Setting up IP address<a class="headerlink" href="#setting-up-ip-address" title="Link to this heading"></a></h3>
<section id="ifupdown">
<h4>ifupdown<a class="headerlink" href="#ifupdown" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>We can configure the network <code class="docutils literal notranslate"><span class="pre">ifupdown</span></code> package, which includes the <code class="docutils literal notranslate"><span class="pre">ifup</span></code> and <code class="docutils literal notranslate"><span class="pre">ifdown</span></code> tools.</p></li>
<li><p>The tools read definitions from the <code class="docutils literal notranslate"><span class="pre">/etc/network/interfaces</span></code> configuration file and are at the heart of the <code class="docutils literal notranslate"><span class="pre">/etc/init.d/networking</span></code> init script that configures the network at boot time.</p></li>
<li><p>Each network device managed by <code class="docutils literal notranslate"><span class="pre">ifupdown</span></code> can be deconfigured at any time with <code class="docutils literal notranslate"><span class="pre">ifdown</span></code> network-device. We can then modify <code class="docutils literal notranslate"><span class="pre">/etc/network/interfaces</span></code> and bring the network back up (with the new configuration) with <code class="docutils literal notranslate"><span class="pre">ifup</span> <span class="pre">network-device</span></code>.</p></li>
</ul>
<section id="ifupdown-s-configuration-file">
<h5>ifupdown’s configuration file<a class="headerlink" href="#ifupdown-s-configuration-file" title="Link to this heading"></a></h5>
<p>There are two main directives:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">auto</span> <span class="pre">network-device</span></code>, which tells ifupdown to automatically configure the network interface once it is available, and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">iface</span> <span class="pre">network-device</span> <span class="pre">inet/inet6</span> <span class="pre">type</span></code> to configure a given interface.</p></li>
</ul>
<p>For example, For example, a plain DHCP configuration looks like this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">auto lo</span>
<span class="go">iface lo inet loopback</span>

<span class="go">auto eth0</span>
<span class="go">iface eth0 inet dhcp</span>
</pre></div>
</div>
<p>Note that the special configuration for the loopback device should always be present in this file. For a fixed IP address configuration, we have to provide more details such as the IP address, the network, and the IP of the gateway:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">auto eth0</span>
<span class="go">iface eth0 inet static</span>
<span class="go">address 192.168.0.3</span>
<span class="go">netmask 255.255.255.0</span>
<span class="go">broadcast 192.168.0.255</span>
<span class="go">network 192.168.0.0</span>
<span class="go">gateway 192.168.0.1</span>
</pre></div>
</div>
<p>For wireless interfaces, we must have the <code class="docutils literal notranslate"><span class="pre">wpasupplicant</span></code> package, which provides many wpa-* options that can be used in <code class="docutils literal notranslate"><span class="pre">/etc/network/interfaces</span></code>. Have a look at <code class="docutils literal notranslate"><span class="pre">/usr/share/doc/wpasupplicant/README.Debian.gz</span></code> for examples and explanations.</p>
<p>The most common options are</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">wpa-ssid</span></code> (which defines the name of the wireless network to join) and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">wpa-psk</span></code> (which defines the passphrase or the key protecting the network).</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">iface wlan0 inet dhcp</span>
<span class="go">wpa-ssid HomeNetworkSSID</span>
<span class="go">wpa-psk HomeNetworkPassword</span>
</pre></div>
</div>
</section>
</section>
<section id="systemd-networkd">
<h4>systemd-networkd<a class="headerlink" href="#systemd-networkd" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>We can configure <code class="docutils literal notranslate"><span class="pre">systemd-networkd</span></code> by placing <code class="docutils literal notranslate"><span class="pre">.network</span></code> files into the <code class="docutils literal notranslate"><span class="pre">/etc/systemd/network/</span></code> directory.</p></li>
<li><p>Alternatively, we can use <code class="docutils literal notranslate"><span class="pre">/lib/systemd/network/</span></code> for packaged files or <code class="docutils literal notranslate"><span class="pre">/run/systemd/network/</span></code> for files generated at run-time.</p></li>
<li><p>The format of those files is documented in systemd.network(5).</p>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">[Match]</span></code> section indicates the network interfaces the configuration applies to. We can specify the interface in many ways, including by media access control (MAC) address or device type.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">[Network]</span></code> section defines the network configuration.</p></li>
</ul>
</li>
</ul>
<p>Static Configuration in <code class="docutils literal notranslate"><span class="pre">/etc/systemd/network/50-static.network</span></code></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">[Match]</span>
<span class="go">Name=enp2s0</span>

<span class="go">[Network]</span>
<span class="go">Address=192.168.0.15/24</span>
<span class="go">Gateway=192.168.0.1</span>
<span class="go">DNS=8.8.8.8</span>
</pre></div>
</div>
<p>DHCP-based Configuration in <code class="docutils literal notranslate"><span class="pre">/etc/systemd/network/80-dhcp.network</span></code></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">[Match]</span>
<span class="go">Name=en*</span>

<span class="go">[Network]</span>
<span class="go">DHCP=yes</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">System-networkd</span></code> is disabled by default. We should enable it. It also depends on systemd-resolved for proper integration of DNS resolution, which in turn requires to replace <code class="docutils literal notranslate"><span class="pre">/etc/resolv.conf</span></code> with a symlink to <code class="docutils literal notranslate"><span class="pre">/run/systemd/resolve/resolv.conf</span></code>, which is managed by <code class="docutils literal notranslate"><span class="pre">systemd-resolved</span></code>.</p>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">systemctl enable systemd-networkd</span>
<span class="go">systemctl enable systemd-resolved</span>
<span class="go">systemctl start systemd-networkd</span>
<span class="go">systemctl start systemd-resolved</span>
<span class="go">ln -sf /run/systemd/resolve/resolv.conf /etc/resolv.conf</span>
</pre></div>
</div>
</section>
<section id="id6">
<h4>ip<a class="headerlink" href="#id6" title="Link to this heading"></a></h4>
</section>
<section id="netplan">
<h4>netplan<a class="headerlink" href="#netplan" title="Link to this heading"></a></h4>
</section>
<section id="ifconfig">
<h4>ifconfig<a class="headerlink" href="#ifconfig" title="Link to this heading"></a></h4>
</section>
</section>
<section id="ping-ip-address">
<h3>Ping IP Address<a class="headerlink" href="#ping-ip-address" title="Link to this heading"></a></h3>
<p>Sometimes, we might be in strange situations where we need to ping some IP address</p>
<section id="windows">
<h4>Windows<a class="headerlink" href="#windows" title="Link to this heading"></a></h4>
<section id="powershell">
<h5>Powershell<a class="headerlink" href="#powershell" title="Link to this heading"></a></h5>
</section>
<section id="cmd">
<h5>CMD<a class="headerlink" href="#cmd" title="Link to this heading"></a></h5>
</section>
</section>
</section>
</section>
<section id="important-concepts">
<h2>Important concepts<a class="headerlink" href="#important-concepts" title="Link to this heading"></a></h2>
<section id="pipes">
<h3>Pipes<a class="headerlink" href="#pipes" title="Link to this heading"></a></h3>
<p>When commands are executed, by default, there are three standard file
streams (or descriptors) always open for use:</p>
<ul class="simple">
<li><p>standard input (standard in/stdin/file descriptor 0): stdin is
supplied by directing input to come from a file or the output of a
previous command through a pipe or from the keyboard.</p></li>
<li><p>standard output (standard out/stdout/file descriptor 1) and</p></li>
<li><p>standard error (or stderr/file descriptor 2). stderr is often
redirected to an error logging file.</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&lt;         : direct input to the command.</span>
<span class="go">&gt;         : direct normal output.</span>
<span class="go">2&gt;        : direct error output.</span>
<span class="go">&amp;&gt;        : direct all output.</span>
<span class="go">|         : forward the output of the command to another.</span>
</pre></div>
</div>
<figure class="align-default" id="id20">
<img alt="Redirects" src="../_images/linux_redirects.jfif" />
<figcaption>
<p><span class="caption-text">Redirects</span><a class="headerlink" href="#id20" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="special-characters">
<h3>Special Characters<a class="headerlink" href="#special-characters" title="Link to this heading"></a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">-(asterik)          : A wildcard used to represent zero or more characters in a filename. For example: ls -.txt will list all the names ending in &quot;.txt&quot; such as &quot;file1.txt&quot; and &quot;file23.txt&quot;.</span>
<span class="go">?(question mark)    : A wildcard used to represent a single character in a filename. For example ls pic?.jpg would match &quot;pic1.jpg&quot; and &quot;pic2.jpg&quot; but not &quot;pic24.jpg&quot; or &quot;pic.jpg&quot;.</span>
<span class="go">[](square brackets) : These are used to specify a range of values to match. For example, &quot;[0-9]&quot; and &quot;[a-z]&quot;.</span>
<span class="go">[!set]              : Matches any character not in the set of characters.</span>
<span class="go">;(semi colon)       : Command separator can be used to run multiple commands on a single line unconditionally.</span>
<span class="go">&amp;&amp;(double ampersand): Command separator will only run the second command if the first one is successful (does not return an error.)</span>
<span class="go">||(double pipe)     : Command separator, which will only run the second command if the first command failed (had errors). Commonly used to terminate the script if an important command fails.</span>
<span class="gp"># </span><span class="o">(</span>Comments<span class="o">)</span><span class="w">        </span>:<span class="w"> </span>Lines<span class="w"> </span>beginning<span class="w"> </span>with<span class="w"> </span>a<span class="w"> </span><span class="c1"># (except #!) are comments and will not be executed.</span>
</pre></div>
</div>
</section>
<section id="understanding-absolute-and-relative-paths">
<h3>Understanding Absolute and Relative Paths<a class="headerlink" href="#understanding-absolute-and-relative-paths" title="Link to this heading"></a></h3>
<p>There are two ways to identify paths:</p>
<section id="absolute-pathname">
<h4>Absolute pathname<a class="headerlink" href="#absolute-pathname" title="Link to this heading"></a></h4>
<p>An absolute pathname begins with the root directory and follows the
tree, branch by branch until it reaches the desired directory or file.
Absolute paths always start with <code class="docutils literal notranslate"><span class="pre">/</span></code>.</p>
</section>
<section id="relative-pathname">
<h4>Relative pathname<a class="headerlink" href="#relative-pathname" title="Link to this heading"></a></h4>
<p>A relative pathname starts from the present working directory. Relative
paths never start with <code class="docutils literal notranslate"><span class="pre">/</span></code>.</p>
<p>Multiple slashes (<code class="docutils literal notranslate"><span class="pre">/</span></code>) between directories and files are allowed, but
the system ignores all but one slash between elements in the pathname.
<code class="docutils literal notranslate"><span class="pre">////usr//bin</span></code> is valid, but seen as <code class="docutils literal notranslate"><span class="pre">/usr/bin</span></code> by the system.</p>
<p>Most of the time, it is most convenient to use relative paths, which
require less typing. Usually, we take advantage of the shortcuts
provided by: <code class="docutils literal notranslate"><span class="pre">.</span></code> (present directory), <code class="docutils literal notranslate"><span class="pre">..</span></code> (parent directory) and
<code class="docutils literal notranslate"><span class="pre">~</span></code> (your home directory).</p>
</section>
</section>
<section id="hard-and-soft-links">
<h3>Hard and Soft Links<a class="headerlink" href="#hard-and-soft-links" title="Link to this heading"></a></h3>
<section id="hard-links">
<h4>Hard Links<a class="headerlink" href="#hard-links" title="Link to this heading"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">ln</span></code> utility is used to create hard links and (with the <code class="docutils literal notranslate"><span class="pre">-s</span></code>
option) soft links, also known as symbolic links or symlinks.</p>
<p>Suppose that file hello1 already exists. A hard link, called hello2, is
created with the command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ln target newfile</span>
<span class="go">ln hello1 hello2</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ls<span class="w"> </span>-li<span class="w"> </span>hello*
<span class="go">3017 -rw-r--r-- 2 root root 6 Jun  3 14:40 hello1</span>
<span class="go">3017 -rw-r--r-- 2 root root 6 Jun  3 14:40 hello2</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">-i</span></code> option to <code class="docutils literal notranslate"><span class="pre">ls</span></code> prints out in the first column the inode
number. This field is the same for both of these files.</p>
<ul class="simple">
<li><p>Editing one of the files will change both of the files.</p></li>
<li><p>Deleting one of the files will only delete that particular file.</p></li>
</ul>
</section>
<section id="soft-links">
<h4>Soft Links<a class="headerlink" href="#soft-links" title="Link to this heading"></a></h4>
<p>Soft (or Symbolic) links are created with the <code class="docutils literal notranslate"><span class="pre">-s</span></code> option, as in:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ln -s hello hello2</span>

<span class="go">ls -lahi hello*</span>
<span class="go">3017 -rw-r--r-- 1 root root 6 Jun  3 14:40 hello</span>
<span class="go">4995 lrwxrwxrwx 1 root root 5 Jun  3 16:13 hello2 -&gt; hello</span>
</pre></div>
</div>
<p>Notice <code class="docutils literal notranslate"><span class="pre">hello2</span></code> no longer appears to be a regular file. It points to
hello and has a different inode number.</p>
</section>
</section>
<section id="information">
<h3>Information<a class="headerlink" href="#information" title="Link to this heading"></a></h3>
<section id="confidentiality-integrity-availability">
<h4>Confidentiality, Integrity, Availability<a class="headerlink" href="#confidentiality-integrity-availability" title="Link to this heading"></a></h4>
<p>We want our information to</p>
<ul class="simple">
<li><p>be read by only the right people (confidentiality).</p></li>
<li><p>only be changed by authorized people or processes (integrity)</p></li>
<li><p>be available to read and use whenever we want (availability).</p></li>
</ul>
</section>
<section id="non-repudiation">
<h4>Non-repudiation<a class="headerlink" href="#non-repudiation" title="Link to this heading"></a></h4>
<p>Non-repudiation is about ensuring that users cannot deny knowledge of
sending a message or performing some online activity at some later point
in time. For example, in an online banking system, the user cannot claim
that they did not send a payment to a recipient after the bank has
transferred the funds to the recipient’s account.</p>
</section>
</section>
<section id="important-file-formats">
<h3>Important File Formats<a class="headerlink" href="#important-file-formats" title="Link to this heading"></a></h3>
<section id="etc-passwd">
<h4>/etc/passwd<a class="headerlink" href="#etc-passwd" title="Link to this heading"></a></h4>
<p>Linux uses groups for organizing users. Groups are collections of
accounts with certain shared permissions. Control of group membership is
administered through the <code class="docutils literal notranslate"><span class="pre">/etc/group</span></code> file, which shows a list of
groups and their members. By default, every user belongs to a default or
primary group.</p>
<p>Users also have one or more group IDs (<code class="docutils literal notranslate"><span class="pre">gid</span></code>), including a default one
which is the same as the user ID. These numbers are associated with
names through the files <code class="docutils literal notranslate"><span class="pre">/etc/passwd</span></code> and <code class="docutils literal notranslate"><span class="pre">/etc/group</span></code>. Groups are
used to establish a set of users who have common interests for the
purposes of access rights, privileges, and security considerations.
Access rights to files (and devices) are granted on the basis of the
user and the group they belong to.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">/etc/passwd</span></code> file is a colon-separated file that contains the
following information:</p>
<ul class="simple">
<li><p>User name</p></li>
<li><p>Encrypted password</p></li>
<li><p>User ID number (UID)</p></li>
<li><p>User’s group ID number (GID)</p></li>
<li><p>Full name of the user (GECOS)</p></li>
<li><p>User home directory</p></li>
<li><p>Login shell</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">root:!:0:0::/:/usr/bin/ksh</span>
<span class="go">daemon:!:1:1::/etc:</span>
<span class="go">bin:!:2:2::/bin:</span>
<span class="go">sys:!:3:3::/usr/sys:</span>
<span class="go">adm:!:4:4::/var/adm:</span>
<span class="go">uucp:!:5:5::/usr/lib/uucp:</span>
<span class="go">guest:!:100:100::/home/guest:</span>
<span class="go">nobody:!:4294967294:4294967294::/:</span>
<span class="go">lpd:!:9:4294967294::/:</span>
<span class="go">lp:-:11:11::/var/spool/lp:/bin/false</span>
<span class="go">invscout:-:200:1::/var/adm/invscout:/usr/bin/ksh</span>
<span class="go">nuucp:-:6:5:uucp login user:/var/spool/uucppublic:/usr/sbin/uucp/uucico</span>
<span class="go">paul:!:201:1::/home/paul:/usr/bin/ksh</span>
<span class="go">jdoe:-:202:1:John Doe:/home/jdoe:/usr/bin/ksh</span>
</pre></div>
</div>
</section>
<section id="etc-shadow">
<h4>/etc/shadow<a class="headerlink" href="#etc-shadow" title="Link to this heading"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">/etc/shadow</span></code> file contains password and account expiration
information for users, and looks like this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">smithj:Ep6mckrOLChF.:10063:0:99999:7:xx:</span>
</pre></div>
</div>
<p>As with the <code class="docutils literal notranslate"><span class="pre">/etc/passwd</span></code> file, each field in the <code class="docutils literal notranslate"><span class="pre">shadow</span></code> file is
also separated with “:” colon characters, and are as follows:</p>
<ul class="simple">
<li><p>Username, up to 8 characters. Case-sensitive, usually all lowercase.
A direct match to the username in the <code class="docutils literal notranslate"><span class="pre">/etc/passwd</span></code> file.</p></li>
<li><p>Password, 13 character encrypted. A blank entry (eg. <code class="docutils literal notranslate"><span class="pre">::</span></code>)
indicates a password is not required to log in (usually a bad idea),
and a - entry (eg. :-:) indicates the account has been disabled.</p></li>
<li><p>The number of days (since January 1, 1970) since the password was
last changed.</p></li>
<li><p>The number of days before password may be changed (0 indicates it may
be changed at any time)</p></li>
<li><p>The number of days after which password must be changed (99999
indicates user can keep his or her password unchanged for many, many
years)</p></li>
<li><p>The number of days to warn user of an expiring password (7 for a full
week)</p></li>
<li><p>The number of days after password expires that account is disabled</p></li>
<li><p>The number of days since January 1, 1970 that an account has been
disabled</p></li>
<li><p>A reserved field for possible future use</p></li>
</ul>
</section>
<section id="etc-group">
<h4>/etc/group<a class="headerlink" href="#etc-group" title="Link to this heading"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">/etc/group</span></code> file stores group information or defines the user
groups. There is one entry per line, and each line has the following
format (all fields are separated by a colon (<code class="docutils literal notranslate"><span class="pre">:</span></code>)</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cdrom:x:24:john,mike,yummy</span>
</pre></div>
</div>
<p>Where,</p>
<ul class="simple">
<li><p>group_name: Name of group.</p></li>
<li><p>Password: Generally password is not used, hence it is empty/blank. It
can store encrypted password. This is useful to implement privileged
groups.</p></li>
<li><p>Group ID (GID): Each user must be assigned a group ID. You can see
this number in your /etc/passwd file.</p></li>
<li><p>Group List: It is a list of user names of users who are members of
the group. The user names, must be separated by commas.</p></li>
</ul>
</section>
<section id="read-passwd-shadow-file">
<h4>Read passwd/shadow file<a class="headerlink" href="#read-passwd-shadow-file" title="Link to this heading"></a></h4>
<p>The database of Unix users and groups consists of the textual files <code class="docutils literal notranslate"><span class="pre">/etc/passwd</span></code> (list of users), <code class="docutils literal notranslate"><span class="pre">/etc/shadow</span></code> (encrypted passwords of users), <code class="docutils literal notranslate"><span class="pre">/etc/group</span></code> (list of groups), and <code class="docutils literal notranslate"><span class="pre">/etc/gshadow</span></code> (encrypted passwords of groups).</p>
<ul class="simple">
<li><p>The files can be manually edited with tools like <code class="docutils literal notranslate"><span class="pre">vipw</span></code> and <code class="docutils literal notranslate"><span class="pre">vigr</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">getent</span></code> (get entries) command checks the system databases (including those of users and groups) using the appropriate library functions, which call the name service switch (NSS) modules configured in the <code class="docutils literal notranslate"><span class="pre">/etc/nsswitch.conf</span></code> file. The command takes one or two arguments:</p>
<ul>
<li><p>the name of the database to check, and</p></li>
<li><p>a possible search key.</p></li>
</ul>
</li>
<li><p>The command <code class="docutils literal notranslate"><span class="pre">getent</span> <span class="pre">passwd</span> <span class="pre">ubuntu</span></code> will return the information from the user database regarding the user ubuntu.</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">getent passwd ubuntu</span>
<span class="go">ubuntu:x:1000:1000:Ubuntu:/home/ubuntu:/bin/bash</span>

<span class="go">getent shadow ubuntu</span>
<span class="gp">ubuntu:$6$Ki4ovKaqYeqICQJT$</span>jCXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXlFm.:18622:0:99999:7:::

<span class="go">getent group ubuntu</span>
<span class="go">ubuntu:x:1000:</span>
</pre></div>
</div>
</section>
</section>
<section id="gathering-information">
<h3>Gathering Information<a class="headerlink" href="#gathering-information" title="Link to this heading"></a></h3>
<section id="from-files">
<h4>From Files<a class="headerlink" href="#from-files" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">/etc/issue     : Contains the message which is displayed on terminal before login.</span>
<span class="go">/etc/motd      : Contains the message which is displayed on terminal after login.</span>
<span class="go">/proc/cpuinfo  : provides information about CPU.</span>
<span class="go">/proc/meminfo  : provides information about memory/RAM.</span>
<span class="go">/proc/version  : provides information about the version of your system.</span>
</pre></div>
</div>
</section>
<section id="from-commands">
<h4>From Commands<a class="headerlink" href="#from-commands" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">last      : shows all the login attempts and the reboot occurred.</span>
<span class="go">lastb     : shows all the bad login attempts.</span>
<span class="go">lastlog   : shows the list of all the users and when did they login.</span>
<span class="go">id        : print real and effective user and group IDs.</span>
<span class="go">whoami    : whoami - print effective userid.</span>
<span class="go">uname     : print system information.</span>
<span class="go">  -a      : print all the information (Kernel name, nodename, kernel-release, kernel-version, machine, processor, hardware-platform)</span>
<span class="go">pstree    : display a tree of processes.</span>
<span class="go">hostname  : prints out the hostname of the machine which is stored in /etc/hostname.</span>
</pre></div>
</div>
</section>
</section>
<section id="keyboard-shortcuts">
<h3>Keyboard shortcuts<a class="headerlink" href="#keyboard-shortcuts" title="Link to this heading"></a></h3>
<p>In Linux, various keyboard shortcuts can be used at the command prompt
instead of actual long commands.</p>
<section id="moving">
<h4>Moving<a class="headerlink" href="#moving" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Ctrl + a : Move to the start of line.</span>
<span class="go">Ctrl + e : Move to the end of line.</span>
<span class="go">Alt  + b : Move to the start of the current word</span>
<span class="go">Alft + f : Move to the end of the current word</span>
</pre></div>
</div>
</section>
<section id="erasing">
<h4>Erasing<a class="headerlink" href="#erasing" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Ctrl + w : Cut from cursor to the previous whitespace.</span>
<span class="go">Ctrl + u : Cut from cursor to the start of the line.</span>
<span class="go">Ctrl + k : Cut from cursor to the end of the line.</span>
<span class="go">Ctrl + y : Paste the last cut text.</span>
</pre></div>
</div>
</section>
<section id="window">
<h4>Window<a class="headerlink" href="#window" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">WinKey + H              : Minimize/Hide the Window</span>
<span class="go">WinKey + Up Arrow Key   : Maximize the current windows</span>
<span class="go">WinKey + Down Arrow Key : Return to original</span>
</pre></div>
</div>
</section>
<section id="other-shortcuts">
<h4>Other shortcuts<a class="headerlink" href="#other-shortcuts" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">CTRL-L : Clears the screen</span>
<span class="go">CTRL-D : Exits the current shell</span>
<span class="go">CTRL-Z : Puts the current process into a suspended background</span>
<span class="go">CTRL-C : Kills the current process</span>
<span class="go">CTRL-H : Works the same as backspace</span>
</pre></div>
</div>
</section>
</section>
<section id="searching-history">
<h3>Searching History<a class="headerlink" href="#searching-history" title="Link to this heading"></a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Search as you type. Ctrl + r and type the search term;</span>
</pre></div>
</div>
<p>Read <a class="reference external" href="http://www.gnu.org/software/bash/manual/bashref.html#Command-Line-Editing">Command Line
Editing</a>
for more information.</p>
</section>
<section id="difference-between-su-and-sudo">
<h3>Difference between su and sudo<a class="headerlink" href="#difference-between-su-and-sudo" title="Link to this heading"></a></h3>
<p>The difference between <code class="docutils literal notranslate"><span class="pre">su</span></code> and <code class="docutils literal notranslate"><span class="pre">sudo</span></code> is <code class="docutils literal notranslate"><span class="pre">su</span></code> forces the
administrator to share the root password to other users, whereas
<code class="docutils literal notranslate"><span class="pre">sudo</span></code> makes it possible to execute system commands without a root
password. <code class="docutils literal notranslate"><span class="pre">sudo</span></code> lets the user use their own password to execute
system commands, i.e., delegates system responsibility without root
password.</p>
<p>To temporarily become the superuser for a series of commands, we can
type <code class="docutils literal notranslate"><span class="pre">su</span></code> and then be prompted for the root password.</p>
<p>To execute just one command with root privilege <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">&lt;command&gt;</span></code>. When
the command is complete, it will return to being a normal unprivileged
user.</p>
<section id="su">
<h4>su<a class="headerlink" href="#su" title="Link to this heading"></a></h4>
<p>Change users or become superuser. The difference between <code class="docutils literal notranslate"><span class="pre">su</span> <span class="pre">-</span></code> and
<code class="docutils literal notranslate"><span class="pre">su</span></code> is that former <code class="docutils literal notranslate"><span class="pre">su</span> <span class="pre">-</span></code> would switch to the new user directory.
It would also change the environment variable according to the changed
user. Whereas <code class="docutils literal notranslate"><span class="pre">su</span></code> would only change the user but will stay in the
same directory.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">su</span> <span class="pre">-</span></code></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">root@Kali-Home:~# </span>su<span class="w"> </span>-<span class="w"> </span>bitvijays
<span class="gp">bitvijays@Kali-Home:~$ </span><span class="nb">pwd</span>
<span class="go">/home/bitvijays</span>
</pre></div>
</div>
<p>Example: <code class="docutils literal notranslate"><span class="pre">su</span></code></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">root@Kali-Home:~# </span>su<span class="w"> </span>bitvijays
<span class="gp">bitvijays@Kali-Home:/root$ </span><span class="nb">pwd</span>
<span class="go">/root</span>
</pre></div>
</div>
</section>
<section id="su-c">
<h4>su -c<a class="headerlink" href="#su-c" title="Link to this heading"></a></h4>
<p>Executing command as another user</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">su -c &quot;command&quot; : Specify a command that will be invoked by the shell using its -c.</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">su bitvijays -c id</span>
<span class="go">uid=1000(bitvijays) gid=1001(bitvijays) groups=1001(bitvijays)</span>
</pre></div>
</div>
</section>
<section id="sudo">
<h4>sudo<a class="headerlink" href="#sudo" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Execute a command as another user.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sudo</span></code> allows users to run programs using the security privileges
of another user, generally root (superuser).</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">sudo</span></code> has the ability to keep track of unsuccessful attempts at
gaining root access. Users’ authorization for using <code class="docutils literal notranslate"><span class="pre">sudo</span></code> is based on
configuration information stored in the <code class="docutils literal notranslate"><span class="pre">/etc/sudoers</span></code> file and in the
<code class="docutils literal notranslate"><span class="pre">/etc/sudoers.d</span></code> directory.</p>
<p>A message such as the following would appear in a system log file
(usually <code class="docutils literal notranslate"><span class="pre">/var/log/secure</span></code>) when trying to execute sudo bash without
successfully authenticating the user:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">authentication failure; logname=op uid=0 euid=0 tty=/dev/pts/6 ruser=op rhost= user=op</span>
<span class="go">conversation failed</span>
<span class="go">auth could not identify password for [op]</span>
<span class="go">op : 1 incorrect password attempt ;</span>
<span class="go">TTY=pts/6 ; PWD=/var/log ; USER=root ; COMMAND=/bin/bash</span>
</pre></div>
</div>
<section id="command-logging">
<h5>Command logging<a class="headerlink" href="#command-logging" title="Link to this heading"></a></h5>
<p>By default, <code class="docutils literal notranslate"><span class="pre">sudo</span></code> commands and any failures are logged in
<code class="docutils literal notranslate"><span class="pre">/var/log/auth.log</span></code> under the Debian distribution family, and in
<code class="docutils literal notranslate"><span class="pre">/var/log/messages</span></code> and/or <code class="docutils literal notranslate"><span class="pre">/var/log/secure</span></code> on other systems. This
is an important safeguard to allow for tracking and accountability of
<code class="docutils literal notranslate"><span class="pre">sudo</span></code> use. A typical entry of the message contains:</p>
<ul class="simple">
<li><p>Calling username</p></li>
<li><p>Terminal info</p></li>
<li><p>Working directory</p></li>
<li><p>User account invoked</p></li>
<li><p>Command with arguments.</p></li>
</ul>
<p>Running a command such as <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">whoami</span></code> results in a log file entry
such as:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Dec 8 14:20:47 server1 sudo: op : TTY=pts/6 PWD=/var/log USER=root COMMAND=/usr/bin/whoami</span>
</pre></div>
</div>
</section>
<section id="adding-user-to-sudoers-groups">
<h5>Adding user to sudoers groups<a class="headerlink" href="#adding-user-to-sudoers-groups" title="Link to this heading"></a></h5>
<p>Whenever <code class="docutils literal notranslate"><span class="pre">sudo</span></code> is invoked, a trigger will look at <code class="docutils literal notranslate"><span class="pre">/etc/sudoers</span></code>
and the files in <code class="docutils literal notranslate"><span class="pre">/etc/sudoers.d</span></code> to determine if the user has the
right to use <code class="docutils literal notranslate"><span class="pre">sudo</span></code> and what the scope of their privilege is. Unknown
user requests and requests to do operations not allowed to the user even
with <code class="docutils literal notranslate"><span class="pre">sudo</span></code> are reported. The basic structure of entries in these
files is:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">who where = (as_whom) what</span>
</pre></div>
</div>
<section id="method-1">
<h6>Method 1<a class="headerlink" href="#method-1" title="Link to this heading"></a></h6>
<p>Create a configuration file in the <code class="docutils literal notranslate"><span class="pre">/etc/sudoers.d/</span></code> directory with
the name of the file the same as the username. For example, if the
username is student.</p>
<p>Create the configuration file for student by doing this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;student ALL=(ALL) ALL&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>/etc/sudoers.d/student
</pre></div>
</div>
<p>Also change permissions on the file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>chmod<span class="w"> </span><span class="m">440</span><span class="w"> </span>/etc/sudoers.d/student
</pre></div>
</div>
</section>
<section id="method-2">
<h6>Method 2<a class="headerlink" href="#method-2" title="Link to this heading"></a></h6>
<p>visudo</p>
</section>
</section>
</section>
</section>
<section id="disk-to-disk-copying-dd">
<h3>Disk-to-Disk Copying (dd)<a class="headerlink" href="#disk-to-disk-copying-dd" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">dd</span></code> can be used to make large exact copies, even of entire disk
partitions, efficiently.</p>
<p>For example, to back up the Master Boot Record (MBR) (the first 512-byte
sector on the disk that contains a table describing the partitions on
that disk)</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">dd if=/dev/sda of=sda.mbr bs=512 count=1</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Typing: <code class="docutils literal notranslate"><span class="pre">dd</span> <span class="pre">if=/dev/sda</span> <span class="pre">of=/dev/sdb</span></code> to make a copy of one disk onto another, it will delete everything that previously existed on the second disk.</p>
</div>
</section>
</section>
<section id="process-and-process-attributes">
<h2>Process and Process attributes<a class="headerlink" href="#process-and-process-attributes" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>A program is a set of instructions to execute a task. For instance,
ls, cat or a python program to print “Hello World”.</p></li>
<li><p>A process is an instance of a program in execution.</p></li>
<li><p>A process is identified by the user who started it and is only permitted to take actions permitted for its owner.</p></li>
</ul>
<p>Processes are used to perform various tasks on the system. They can be
single-threaded or multi-threaded and of different types, such as
interactive and non-interactive. Every process has a unique identifier
(PID) to enable the OS to keep track of it. The nice value, or niceness,
can set priority. <code class="docutils literal notranslate"><span class="pre">ps</span></code> provides information about the currently
running processes.</p>
<p>Processes can be of different types according to the task being
performed.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Pro
cess
Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>E
xample</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Int
erac
tive
P
roce
sses</p></td>
<td><p>Started by user either using command line or GUI</p></td>
<td><p>bash,
firef
ox,top</p></td>
</tr>
<tr class="row-odd"><td><p>B
atch
P
roce
sses</p></td>
<td><p>Automatic processes that are scheduled and queued
and work on FIFO basic</p></td>
<td><p>upd
atedb,
ld
config</p></td>
</tr>
<tr class="row-even"><td><p>Dae
mons</p></td>
<td><p>Server processes that run continuously.</p></td>
<td><p>httpd,
sshd,
li
bvirtd</p></td>
</tr>
<tr class="row-odd"><td><p>Thr
eads</p></td>
<td><p>Lightweight processes. Task that runs under the main
process, sharing memory and other resources.</p></td>
<td><p>fi
refox,
gno
me-ter
minal-
server</p></td>
</tr>
<tr class="row-even"><td><p>Ke
rnel
Thr
eads</p></td>
<td><p>Kernel tasks that users neither start nor terminate.
Such task perform actions like moving a thread from
one CPU to another or making sure I/O operations to
disk are completed.</p></td>
<td><p>kth
readd,
migr
ation,
kso
ftirqd</p></td>
</tr>
</tbody>
</table>
<p>All processes have certain attributes:</p>
<ul class="simple">
<li><p>The program being executed</p></li>
<li><p>Context (state): Context of the process is a snapshot of itself by
trapping the state of its CPU registers, where it is executing in the
program, what is in the process memory, and other information.</p></li>
<li><p>Permissions: Every process has permissions based on which user has
called it to execute. It may also have permissions based on who owns
its program file. Programs which are marked with an ”s” execute bit
have a different ”effective” user id than their ”real” user id.</p></li>
<li><p>Associated resources such as allocated memory, file handles, etc.</p></li>
</ul>
<section id="static-and-shared-libraries">
<h3>Static and Shared Libraries<a class="headerlink" href="#static-and-shared-libraries" title="Link to this heading"></a></h3>
<p>Programs are built using libraries of code, developed for multiple
purposes and used and reused in many contexts.</p>
<ul class="simple">
<li><p>Static : The code for the library functions is inserted in the
program at compile time, and does not change thereafter, even if the
library is updated.</p></li>
<li><p>Dynamic : The code for the library functions is loaded into the
program at run time, and if the library is changed later, the running
program runs with the new library modifications.</p></li>
</ul>
<p>Using shared libraries is more efficient because they can be used by
many applications at once; memory usage, executable sizes, and
application load time are reduced. Shared Libraries are also called
Dynamic Link Libraries (DLLs).</p>
<p>Shared libraries need to be carefully versioned. Programs can request a
specific major library version, rather than the latest one on the
system. Shared libraries have the extension <code class="docutils literal notranslate"><span class="pre">.so</span></code>. The full name is of
format <code class="docutils literal notranslate"><span class="pre">libc.so.N</span></code>, where N is a major version number.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">root@node-0001:/usr/lib# </span>ls<span class="w"> </span>-l<span class="w"> </span>libdmmp*
<span class="go">lrwxrwxrwx 1 root root    16 Apr  6  2020 libdmmp.so -&gt; libdmmp.so.0.2.0</span>
<span class="go">-rw-r--r-- 1 root root 34664 Apr  6  2020 libdmmp.so.0.2.0</span>
</pre></div>
</div>
<section id="finding-shared-libraries">
<h4>Finding Shared Libraries<a class="headerlink" href="#finding-shared-libraries" title="Link to this heading"></a></h4>
<p>A program which uses shared libraries has to be able to find them at
runtime.</p>
<p><code class="docutils literal notranslate"><span class="pre">ldd</span></code> can be used to ascertain what shared libraries an executable
requires. It shows the soname of the library and what file it actually
points to.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ldd /usr/bin/vi</span>
<span class="go">        linux-vdso.so.1 (0x0000ffffb3bda000)</span>
<span class="go">        libm.so.6 =&gt; /lib/aarch64-linux-gnu/libm.so.6 (0x0000ffffb3813000)</span>
<span class="go">        libtinfo.so.6 =&gt; /lib/aarch64-linux-gnu/libtinfo.so.6 (0x0000ffffb37d5000)</span>
<span class="go">        libselinux.so.1 =&gt; /lib/aarch64-linux-gnu/libselinux.so.1 (0x0000ffffb379d000)</span>
<span class="go">        libcanberra.so.0 =&gt; /lib/aarch64-linux-gnu/libcanberra.so.0 (0x0000ffffb377b000)</span>
<span class="go">        libacl.so.1 =&gt; /lib/aarch64-linux-gnu/libacl.so.1 (0x0000ffffb3762000)</span>
<span class="go">        libgpm.so.2 =&gt; /lib/aarch64-linux-gnu/libgpm.so.2 (0x0000ffffb374c000)</span>
<span class="go">        libdl.so.2 =&gt; /lib/aarch64-linux-gnu/libdl.so.2 (0x0000ffffb3738000)</span>
<span class="go">        libpython3.8.so.1.0 =&gt; /lib/aarch64-linux-gnu/libpython3.8.so.1.0 (0x0000ffffb31e2000)</span>
<span class="go">        libpthread.so.0 =&gt; /lib/aarch64-linux-gnu/libpthread.so.0 (0x0000ffffb31b2000)</span>
<span class="go">        libc.so.6 =&gt; /lib/aarch64-linux-gnu/libc.so.6 (0x0000ffffb303f000)</span>
<span class="go">        /lib/ld-linux-aarch64.so.1 (0x0000ffffb3baa000)</span>
<span class="go">        libpcre2-8.so.0 =&gt; /lib/aarch64-linux-gnu/libpcre2-8.so.0 (0x0000ffffb2fb1000)</span>
<span class="go">        libvorbisfile.so.3 =&gt; /lib/aarch64-linux-gnu/libvorbisfile.so.3 (0x0000ffffb2f98000)</span>
<span class="go">        libtdb.so.1 =&gt; /lib/aarch64-linux-gnu/libtdb.so.1 (0x0000ffffb2f70000)</span>
<span class="go">        libltdl.so.7 =&gt; /lib/aarch64-linux-gnu/libltdl.so.7 (0x0000ffffb2f56000)</span>
<span class="go">        libexpat.so.1 =&gt; /lib/aarch64-linux-gnu/libexpat.so.1 (0x0000ffffb2f1f000)</span>
<span class="go">        libz.so.1 =&gt; /lib/aarch64-linux-gnu/libz.so.1 (0x0000ffffb2ef5000)</span>
<span class="go">        libutil.so.1 =&gt; /lib/aarch64-linux-gnu/libutil.so.1 (0x0000ffffb2ee1000)</span>
<span class="go">        libvorbis.so.0 =&gt; /lib/aarch64-linux-gnu/libvorbis.so.0 (0x0000ffffb2ea6000)</span>
<span class="go">        libogg.so.0 =&gt; /lib/aarch64-linux-gnu/libogg.so.0 (0x0000ffffb2e8c000)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">ldconfig</span></code> is generally run at boot time (but can be run anytime), and
uses <code class="docutils literal notranslate"><span class="pre">/etc/ld.so.conf</span></code>, which lists the directories that will be
searched for shared libraries. <code class="docutils literal notranslate"><span class="pre">ldconfig</span></code> must be run as root, and
shared libraries should only be stored in system directories when they
are stable and useful.</p>
<p>Besides searching the database built up by <code class="docutils literal notranslate"><span class="pre">ldconfig</span></code>, the linker will
first search any directories specified in the environment variable
<code class="docutils literal notranslate"><span class="pre">LD_LIBRARY_PATH</span></code>, a colon separated list of directories, as in the
PATH variable.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ldconfig -p</span>
<span class="go">323 libs found in cache `/etc/ld.so.cache&#39;</span>
<span class="go">        libzstd.so.1 (libc6,AArch64) =&gt; /lib/aarch64-linux-gnu/libzstd.so.1</span>
<span class="go">        libz.so.1 (libc6,AArch64) =&gt; /lib/aarch64-linux-gnu/libz.so.1</span>
<span class="go">        libyaml-0.so.2 (libc6,AArch64) =&gt; /lib/aarch64-linux-gnu/libyaml-0.so.2</span>
</pre></div>
</div>
</section>
</section>
<section id="controlling-processes-with-ulimit">
<h3>Controlling processes with ulimit<a class="headerlink" href="#controlling-processes-with-ulimit" title="Link to this heading"></a></h3>
<p>ulimit is a built-in bash command that displays or resets a number of resource limits associated with processes running under a shell. A system administrator can change the values:</p>
<ul class="simple">
<li><p>To restrict capabilities so an individual user and/or process cannot exhaust system resources, such as memory, cpu time or the maximum number of processes on the system.</p></li>
<li><p>To expand capabilities so a process does not run into resource limits; for example, a server handling many clients may find that the default of 1024 open files makes its work impossible to perform.</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ulimit -a</span>
<span class="go">core file size          (blocks, -c) 0</span>
<span class="go">data seg size           (kbytes, -d) unlimited</span>
<span class="go">scheduling priority             (-e) 0</span>
<span class="go">file size               (blocks, -f) unlimited</span>
<span class="go">pending signals                 (-i) 30857</span>
<span class="go">max locked memory       (kbytes, -l) 65536</span>
<span class="go">max memory size         (kbytes, -m) unlimited</span>
<span class="go">open files                      (-n) 1024</span>
<span class="go">pipe size            (512 bytes, -p) 8</span>
<span class="go">POSIX message queues     (bytes, -q) 819200</span>
<span class="go">real-time priority              (-r) 0</span>
<span class="go">stack size              (kbytes, -s) 8192</span>
<span class="go">cpu time               (seconds, -t) unlimited</span>
<span class="go">max user processes              (-u) 30857</span>
<span class="go">virtual memory          (kbytes, -v) unlimited</span>
<span class="go">file locks                      (-x) unlimited</span>
</pre></div>
</div>
<p>There are two kinds of limits:</p>
<section id="hard-limit">
<h4>Hard Limit<a class="headerlink" href="#hard-limit" title="Link to this heading"></a></h4>
<p>The maximum value, set only by the root user, that a user can raise the resource limit to.</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ulimit -H -n</span>
<span class="go">4096</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="soft-limit">
<h4>Soft Limit<a class="headerlink" href="#soft-limit" title="Link to this heading"></a></h4>
<p>The current limiting value, which a user can modify, but cannot exceed the hard limit.</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ulimit -S -n</span>
<span class="go">1024</span>
</pre></div>
</div>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">ulimit</span> <span class="pre">[options]</span> <span class="pre">[limit]</span></code> can set a particular limit. However, the
changes only affect the current shell. To make changes that are
effective for all logged-in users, modify <code class="docutils literal notranslate"><span class="pre">/etc/security/limits.conf</span></code>.</p>
</section>
</section>
<section id="process-scheduling-and-states">
<h3>Process Scheduling and states<a class="headerlink" href="#process-scheduling-and-states" title="Link to this heading"></a></h3>
<p>A critical kernel function called the scheduler constantly shifts
processes on and off the CPU, sharing time according to relative
priority, how much time is needed and how much has already been granted
to a task.</p>
<p>Process can be in different states</p>
<ul class="simple">
<li><p>Running: The process is either currently executing on a CPU or CPU core or sitting in the run queue, eagerly awaiting a new time slice.</p></li>
<li><p>Sleeping (Waiting): The process is waiting on a request (usually I/O) that it has made and cannot proceed further until the request is completed.</p></li>
<li><p>Stopped: The process has been suspended. This state is commonly experienced when a programmer wants to examine the executing program’s memory, CPU registers, flags, or other attributes.</p></li>
<li><p>Zombie: The process enters this state when it terminates, and no other process (usually the parent) has inquired about its exit state; i.e., reaped it. Such a process is also called a defunct process. A zombie process has released all of its resources, except its exit state and its entry in the process table.</p></li>
</ul>
<section id="execution-modes">
<h4>Execution modes<a class="headerlink" href="#execution-modes" title="Link to this heading"></a></h4>
<p>At any given time, a process (or any particular thread of a multi-threaded process) may be executing in either user mode or system (kernel) mode.</p>
<section id="user-mode">
<h5>User Mode<a class="headerlink" href="#user-mode" title="Link to this heading"></a></h5>
<p>Except when executing a system call, processes execute in user mode,
where they have lesser privileges than in the kernel mode. When a
process is started, it is isolated in its own user space to protect it
from other processes for security and stability (also known as process
resource isolation).</p>
<p>Each process executing in user mode has its own memory space, parts of
which may be shared with other processes; except for the shared memory
segments, a user process is not able to read or write into or from the
memory space of any other process.</p>
</section>
<section id="kernel-mode">
<h5>Kernel Mode<a class="headerlink" href="#kernel-mode" title="Link to this heading"></a></h5>
<p>In kernel (system) mode, the CPU has full access to all hardware on the
system, including peripherals, memory, disks, etc. If an application
needs access to these resources, it must issue a system call, which
causes a context switch from user mode to kernel mode. This procedure
must be followed when reading and writing from files, creating a new
process, etc.</p>
</section>
</section>
</section>
<section id="process-and-thread-ids">
<h3>Process and Thread IDs<a class="headerlink" href="#process-and-thread-ids" title="Link to this heading"></a></h3>
<p>The OS keeps track of them by assigning each a unique process ID
(<code class="docutils literal notranslate"><span class="pre">PID</span></code>) number. The <code class="docutils literal notranslate"><span class="pre">PID</span></code> is used to track process state, CPU usage,
memory use, precisely where resources are located in memory, and other
characteristics.</p>
<ul class="simple">
<li><p>Process ID (PID) : Unique Process ID number</p></li>
<li><p>Parent Process ID (PPID) : Process (Parent) that started this
process.</p></li>
<li><p>Process Group ID (PGID) :</p></li>
<li><p>Thread ID (TID) : Thread ID number.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">/proc/sys/kernel/pid_max</span></code> hold the largest PID number that can be
assigned to a process.</p>
<section id="creating-processes-in-command-shell">
<h4>Creating processes in command shell<a class="headerlink" href="#creating-processes-in-command-shell" title="Link to this heading"></a></h4>
<p>What happens when a user executes a command in a command shell interpreter, such as bash?</p>
<ul class="simple">
<li><p>A new process is created (forked from the user’s login shell).</p></li>
<li><p>A wait system call puts the parent shell process to sleep.</p></li>
<li><p>The command is loaded onto the child process’s space via the exec
system call.</p></li>
<li><p>The command completes executing, and the child process dies via the
exit system call.</p></li>
<li><p>The parent shell is re-awakened by the death of the child process and
proceeds to issue a new shell prompt.</p></li>
<li><p>The parent shell then waits for the next command request from the
user, at which time the cycle will be repeated.</p></li>
</ul>
</section>
<section id="signals">
<h4>Signals<a class="headerlink" href="#signals" title="Link to this heading"></a></h4>
<p>Signals are used to emit notifications for processes to take action in
response to often unpredictable events. It is possible to send signals
from the command line using <code class="docutils literal notranslate"><span class="pre">kill</span></code>, <code class="docutils literal notranslate"><span class="pre">killall</span></code> and <code class="docutils literal notranslate"><span class="pre">pkill</span></code>. Signals
are used to notify processes about asynchronous events (or exceptions).
There are two paths by which signals are sent to a process:</p>
<ul class="simple">
<li><p>From the kernel to a user process, as a result of an exception or
programming error.</p></li>
<li><p>From a user process (using a system call) to the kernel which will
then send it to a user process. The process sending the signal can
actually be the same as the one receiving it.</p></li>
</ul>
<p>When a process receives a signal, what it does will depend on the way
the program is written. It can take specific actions, coded into the
program, to handle the signal or it can just respond according to system
defaults. Two signals <code class="docutils literal notranslate"><span class="pre">SIGKILL</span></code>, <code class="docutils literal notranslate"><span class="pre">SIGSTOP</span></code> cannot be handled and
will always terminate the program.</p>
<p>Generally, signals are used to handle two things:</p>
<ul class="simple">
<li><p>Exceptions detected by hardware (such as an illegal memory reference)</p></li>
<li><p>Exceptions generated by the environment (such as the premature death
of a process from the user’s terminal).</p></li>
</ul>
<p>list of the signals in Linux, along with their numbers:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">kill -l</span>
<span class="go"> 1) SIGHUP       2) SIGINT       3) SIGQUIT      4) SIGILL       5) SIGTRAP</span>
<span class="go"> 2) SIGABRT      7) SIGBUS       8) SIGFPE       9) SIGKILL     10) SIGUSR1</span>
<span class="go">1)  SIGSEGV     12) SIGUSR2     13) SIGPIPE     14) SIGALRM     15) SIGTERM</span>
<span class="go">2)  SIGSTKFLT   17) SIGCHLD     18) SIGCONT     19) SIGSTOP     20) SIGTSTP</span>
<span class="go">3)  SIGTTIN     22) SIGTTOU     23) SIGURG      24) SIGXCPU     25) SIGXFSZ</span>
<span class="go">4)  SIGVTALRM   27) SIGPROF     28) SIGWINCH    29) SIGIO       30) SIGPWR</span>
<span class="go">5)  SIGSYS      34) SIGRTMIN    35) SIGRTMIN+1  36) SIGRTMIN+2  37) SIGRTMIN+3</span>
<span class="go">6)  SIGRTMIN+4  39) SIGRTMIN+5  40) SIGRTMIN+6  41) SIGRTMIN+7  42) SIGRTMIN+8</span>
<span class="go">7)  SIGRTMIN+9  44) SIGRTMIN+10 45) SIGRTMIN+11 46) SIGRTMIN+12 47) SIGRTMIN+13</span>
<span class="go">8)  SIGRTMIN+14 49) SIGRTMIN+15 50) SIGRTMAX-14 51) SIGRTMAX-13 52) SIGRTMAX-12</span>
<span class="go">9)  SIGRTMAX-11 54) SIGRTMAX-10 55) SIGRTMAX-9  56) SIGRTMAX-8  57) SIGRTMAX-7</span>
<span class="go">10) SIGRTMAX-6  59) SIGRTMAX-5  60) SIGRTMAX-4  61) SIGRTMAX-3  62) SIGRTMAX-2</span>
<span class="go">11) SIGRTMAX-1  64) SIGRTMAX</span>
</pre></div>
</div>
<p>Refer <code class="docutils literal notranslate"><span class="pre">man</span> <span class="pre">7</span> <span class="pre">signal</span></code></p>
<ul class="simple">
<li><p>Ctrl+Z suspends the process with SIGTSTP, and can be resumed later.</p></li>
<li><p>Ctrl+C kills the process with SIGINT that terminates the process
unless it is handled/ignored by the target.</p></li>
</ul>
<section id="kill-the-process">
<h5>Kill the process<a class="headerlink" href="#kill-the-process" title="Link to this heading"></a></h5>
<p>Users (including the superuser) can send signals to other processes
(programs) by using <code class="docutils literal notranslate"><span class="pre">kill</span></code>. The default signal sent is <code class="docutils literal notranslate"><span class="pre">SIGTERM</span></code>
which can be handled, or ignored by the receiving process to prevent its
death. It is preferable to use this signal to give the process a chance
to clean up after itself. If this signal is ignored, the user can
usually send a <code class="docutils literal notranslate"><span class="pre">SIGKILL</span></code> signal, which cannot be ignored, to kill the
process.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">kill -SIGKILL &lt;pid&gt; or kill -9 &lt;pid&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">killall</span></code> kills all processes with a given name, assuming the user has
sufficient privilege.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">killall bash or killall -9 bash or killall -SIGKILL bash</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">pkill</span></code> sends a signal to a process using selection criteria:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pkill<span class="w"> </span><span class="o">[</span>-signal<span class="o">]</span><span class="w"> </span><span class="o">[</span>options<span class="o">]</span><span class="w"> </span><span class="o">[</span>pattern<span class="o">]</span>
<span class="go">-P: ppid</span>
<span class="go">-G: gid</span>
<span class="go">-U: uid</span>
</pre></div>
</div>
</section>
</section>
<section id="user-and-group-ids">
<h4>User and Group IDs<a class="headerlink" href="#user-and-group-ids" title="Link to this heading"></a></h4>
<p>Users can be categorized into various groups. Each group is identified
by the Real Group ID (<code class="docutils literal notranslate"><span class="pre">RGID</span></code>). The access rights of the group are
determined by the Effective Group ID (<code class="docutils literal notranslate"><span class="pre">EGID</span></code>). Each user can be a
member of one or more groups.</p>
</section>
<section id="priorities">
<h4>Priorities<a class="headerlink" href="#priorities" title="Link to this heading"></a></h4>
<p>The priority for a process can be set by specifying a nice value, or
niceness, for the process. The lower the nice value, the higher the
priority. Low values are assigned to important processes, while high
values are assigned to processes that can wait longer. A process with a
high nice value allows other processes to be executed first.</p>
<p>In Linux, a nice value of <code class="docutils literal notranslate"><span class="pre">-20</span></code> represents the highest priority, and
<code class="docutils literal notranslate"><span class="pre">+19</span></code> represents the lowest.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ps lf                    : List the process. NI column represent nice priority</span>
</pre></div>
</div>
<section id="nice">
<h5>nice<a class="headerlink" href="#nice" title="Link to this heading"></a></h5>
<p>Run a program with modified scheduling priority</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nice -n 5 command [ARGS] : set the niceness by 5. If nice value is not given, the default is to increase the niceness by 10. If no arguments are provided, it reports current niceness.</span>
</pre></div>
</div>
</section>
<section id="renice">
<h5>renice<a class="headerlink" href="#renice" title="Link to this heading"></a></h5>
<p>Alter priority of running processes</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">renice +5 process_id     : change the priority of the process.</span>
</pre></div>
</div>
<p>By default, only a superuser can decrease the niceness; i.e., increase
the priority. However, it is possible to give normal users the ability
to decrease their niceness within a predetermined range, by editing
<code class="docutils literal notranslate"><span class="pre">/etc/security/limits.conf</span></code>. After a non-privileged user has increased
the nice value, only a superuser can lower it back.</p>
</section>
</section>
</section>
<section id="load-average">
<h3>Load average<a class="headerlink" href="#load-average" title="Link to this heading"></a></h3>
<p>The load average is the average of the load number for a given period.
It takes into account processes that are:</p>
<ul class="simple">
<li><p>Actively running on a CPU</p></li>
<li><p>Considered runnable, but waiting for a CPU to become available</p></li>
<li><p>Sleeping: i.e. waiting for some resource (typically, I/O) to become
available.</p></li>
</ul>
<p>The load average can be viewed by running <code class="docutils literal notranslate"><span class="pre">w</span></code>, <code class="docutils literal notranslate"><span class="pre">top</span></code> or <code class="docutils literal notranslate"><span class="pre">uptime</span></code></p>
<p>The load average is displayed using three numbers (X, Y, and Z) where
X,Y,Z are 0.35, 0.15, 0.10. Assuming the system is a single-CPU system,
the three load average numbers are interpreted as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">0.35: For the last minute, the system has been 35% utilized on average.</span>
<span class="go">0.15: For the last 5 minutes, utilization has been 15%.</span>
<span class="go">0.10: For the last 15 minutes, utilization has been 10%.</span>
</pre></div>
</div>
<ul class="simple">
<li><p>If we saw a value of <code class="docutils literal notranslate"><span class="pre">1.00</span></code> in the second position, that would
imply that the single-CPU system was 100% utilized, on average, over
the past 5 minutes; A value over 1.00 for a single-CPU system implies
that the system was over-utilized: more processes needing CPU than
CPU were available.</p></li>
<li><p>If we had a quad-CPU system, we would divide the load average numbers
by the number of CPUs. For example, in this case, seeing a 1-minute
load average of 4.00 implies that the system as a whole was 100%
(4.00/4) utilized during the last minute.</p></li>
</ul>
<section id="background-and-foreground-processes">
<h4>Background and Foreground Processes<a class="headerlink" href="#background-and-foreground-processes" title="Link to this heading"></a></h4>
<p>Linux supports background and foreground job processing.</p>
<p>Foreground jobs run directly from the shell. When one foreground job is
running, other jobs need to wait for shell access (at least in that
terminal window if using the GUI) until it is completed.</p>
<p>The background job will be executed at a lower priority, which, in turn,
will allow smooth execution of the interactive tasks, and you can type
other commands in the terminal window while the background job is
running.</p>
<p>By default, all jobs are executed in the foreground. A job can be put in
the background by suffixing <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> to the command, for example:
<code class="docutils literal notranslate"><span class="pre">updatedb</span> <span class="pre">&amp;</span></code>.</p>
<p>We can use <code class="docutils literal notranslate"><span class="pre">CTRL-Z</span></code> to suspend a foreground job or <code class="docutils literal notranslate"><span class="pre">CTRL-C</span></code> to
terminate a foreground job and can always use the <code class="docutils literal notranslate"><span class="pre">bg</span></code> and <code class="docutils literal notranslate"><span class="pre">fg</span></code>
commands to run a process in the background and foreground,
respectively.</p>
</section>
<section id="managing-jobs">
<h4>Managing Jobs<a class="headerlink" href="#managing-jobs" title="Link to this heading"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">jobs</span></code> utility displays all jobs running in the background. The
display shows the job ID, state, and command name.</p>
<p><code class="docutils literal notranslate"><span class="pre">jobs</span> <span class="pre">-l</span></code> provides the same information as <code class="docutils literal notranslate"><span class="pre">jobs</span></code>, and adds the PID
of the background jobs.</p>
</section>
<section id="system-v-ipc">
<h4>System V IPC<a class="headerlink" href="#system-v-ipc" title="Link to this heading"></a></h4>
<p>System V IPC is a rather old method of Inter Process Communication. It
involves three mechanisms: - Shared Memory Segments - Semaphores -
Message Queues</p>
<p>Overall summary of System V IPC activity on system</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ipcs</span>
<span class="go">ipcs -p</span>
</pre></div>
</div>
<p>Almost all of the currently running shared memory segments have a key of
0(also known as IPC_PRIVATE) which means they are only shared between
processes in a parent/child relationship. Furthermore, all but one are
marked for destructionwhen there are no further attachments</p>
</section>
</section>
<section id="ps-command">
<h3>PS Command<a class="headerlink" href="#ps-command" title="Link to this heading"></a></h3>
<section id="system-v-style">
<h4>System V style<a class="headerlink" href="#system-v-style" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">ps</span></code> provides information about currently running processes keyed by
<code class="docutils literal notranslate"><span class="pre">PID</span></code>. We can use <code class="docutils literal notranslate"><span class="pre">top</span></code> or <code class="docutils literal notranslate"><span class="pre">htop</span></code> or <code class="docutils literal notranslate"><span class="pre">atop</span></code> to get continuous
updates.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ps               : display all processes running under the current shell.</span>
<span class="go">ps -u            : display information of processes for a specified username.</span>
<span class="go">ps -ef           : display all the processes in the system in full detail.</span>
<span class="go">ps -eLf          : display one line of information for every thread (remember, a process can contain multiple threads).</span>
</pre></div>
</div>
</section>
<section id="bsd-style">
<h4>BSD Style<a class="headerlink" href="#bsd-style" title="Link to this heading"></a></h4>
<p>The command <code class="docutils literal notranslate"><span class="pre">ps</span> <span class="pre">aux</span></code> displays all processes of all users. The command
<code class="docutils literal notranslate"><span class="pre">ps</span> <span class="pre">axo</span></code> allows specifying which attributes to view.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ps aux</span>
<span class="go">ps axo stat, priority, pid</span>
</pre></div>
</div>
</section>
</section>
<section id="process-tree">
<h3>Process Tree<a class="headerlink" href="#process-tree" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">pstree</span></code> displays the processes running on the system in the form of a
tree diagram showing the relationship between a process and its parent
process and any other processes that it created.</p>
<p><code class="docutils literal notranslate"><span class="pre">top</span></code> to get constant real-time updates (every two seconds by
default), until you exit by typing <code class="docutils literal notranslate"><span class="pre">q</span></code>. <code class="docutils literal notranslate"><span class="pre">top</span></code> clearly highlights
which processes are consuming the most CPU cycles and memory.</p>
<ul class="simple">
<li><p>The third line of the top output indicates how the CPU time is being
divided between the users (us) and the kernel (sy) by displaying the
percentage of CPU time used for each.</p></li>
<li><p>The percentage of user jobs running at a lower priority (niceness -
ni) is then listed. Idle mode (id) should be low if the load average
is high and vice versa. The percentage of jobs waiting (wa) for I/O
is listed. Interrupts include the percentage of hardware (hi)
vs. software interrupts (si). Steal time (st) is generally used with
virtual machines, which has some idle CPU time taken for other uses.</p></li>
<li><p>The default sorting is based on the current amount of processor use and can be obtained with the <code class="docutils literal notranslate"><span class="pre">P</span></code> key.</p></li>
<li><p>Other sort orders include a sort by occupied memory (<code class="docutils literal notranslate"><span class="pre">M</span></code> key), by total processor time (<code class="docutils literal notranslate"><span class="pre">T</span></code> key), and by process identifier (<code class="docutils literal notranslate"><span class="pre">N</span></code> key).</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">t : Display or hide summary information (rows 2 and 3)</span>
<span class="go">m : Display or hide memory information (rows 4 and 5)</span>
<span class="go">A : Sort the process list by top resource consumers</span>
<span class="go">r : Renice (change the priority of) specific processes</span>
<span class="go">k : Kill a specific process by entering its process identifier</span>
<span class="go">f : Enter the top configuration screen</span>
<span class="go">o : Interactively select a new sort order in the process list</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">xfce4-taskmanager</span></code> graphical tool is similar to <code class="docutils literal notranslate"><span class="pre">top</span></code> and it provides roughly the same features. For GNOME users there is <code class="docutils literal notranslate"><span class="pre">gnome-system-monitor</span></code> and for KDE users there is <code class="docutils literal notranslate"><span class="pre">ksysguard</span></code> which are both similar as well.</p>
</section>
<section id="scheduling-process">
<h3>Scheduling process<a class="headerlink" href="#scheduling-process" title="Link to this heading"></a></h3>
<section id="at">
<h4>at<a class="headerlink" href="#at" title="Link to this heading"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">at</span></code> utility program to execute any non-interactive command at a
specified time</p>
<p>You can see if the job is queued up to run with <code class="docutils literal notranslate"><span class="pre">atq</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">atq</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">at now + 1 minute</span>
<span class="go">at&gt; date &gt; /tmp/datestamp</span>
<span class="go">CTRL-D</span>

<span class="go">atq</span>
</pre></div>
</div>
</section>
<section id="cron">
<h4>cron<a class="headerlink" href="#cron" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cron</span></code> is a time-based scheduling utility program. It can launch
routine background jobs at specific times and/or days on an ongoing
basis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cron</span></code> is driven by a configuration file called <code class="docutils literal notranslate"><span class="pre">/etc/crontab</span></code>
(cron table), which contains the various shell commands that need to
be run at the properly scheduled times.</p></li>
<li><p>There are both system-wide crontab files and individual user-based
ones. Each line of a crontab file represents a job and is composed of
a so-called CRON expression, followed by a shell command to execute.</p></li>
</ul>
<p>Typing <code class="docutils literal notranslate"><span class="pre">crontab</span> <span class="pre">-e</span></code> will open the crontab editor to edit existing jobs
or create new jobs. Each line of the crontab file will contain six
fields:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">MIN  : Minutes      : 0 to 59</span>
<span class="go">HOUR : Hour field   : 0 to 23</span>
<span class="go">DOM  : Day of Month : 1-31</span>
<span class="go">MON  : Month field  : 1-12</span>
<span class="go">DOW  : Day Of Week  : 0-6 (0 = Sunday)</span>
<span class="go">CMD  : Command      : Any command to be executed</span>
</pre></div>
</div>
<p>Examples:</p>
<p>The below entry</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">* * * * * /usr/local/bin/execute/this/script.sh</span>
</pre></div>
</div>
<p>will schedule a job to execute <code class="docutils literal notranslate"><span class="pre">script.sh</span></code> every minute of every hour
of every day of the month, and every month and every day in the week.</p>
<p>The below entry</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">30 08 10 06 * /home/sysadmin/full-backup</span>
</pre></div>
</div>
<p>will schedule a full-backup at 8.30 a.m., 10-June, irrespective of the
day of the week.</p>
</section>
<section id="sleep">
<h4>sleep<a class="headerlink" href="#sleep" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">sleep</span></code> suspends execution for at least the specified time, which can
be given as the number of seconds (the default), minutes, hours, or
days. After that time has passed (or an interrupting signal has been
received), execution will resume.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sleep NUMBER[SUFFIX]...</span>
</pre></div>
</div>
<p>where SUFFIX may be:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">s for seconds (the default)</span>
<span class="go">m for minutes</span>
<span class="go">h for hours</span>
<span class="go">d for days.</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">sleep</span></code> and <code class="docutils literal notranslate"><span class="pre">at</span></code> are quite different; <code class="docutils literal notranslate"><span class="pre">sleep</span></code> delays execution for a specific
period, while <code class="docutils literal notranslate"><span class="pre">at</span></code> starts execution at a later time.</p>
</section>
</section>
</section>
<section id="bash">
<h2>Bash<a class="headerlink" href="#bash" title="Link to this heading"></a></h2>
<section id="important-configuration-files-for-debian-ubuntu-based-systems">
<h3>Important configuration files - For Debian/Ubuntu based Systems<a class="headerlink" href="#important-configuration-files-for-debian-ubuntu-based-systems" title="Link to this heading"></a></h3>
<section id="user-startup-files">
<h4>User Startup files<a class="headerlink" href="#user-startup-files" title="Link to this heading"></a></h4>
<p>Files in the <code class="docutils literal notranslate"><span class="pre">/etc</span></code> directory define global settings for all users,
while initialization files in the user’s home directory can include
and/or override the global settings.</p>
<p>The startup files can do anything the user would like to do in every
command shell, such as:</p>
<ul class="simple">
<li><p>Customizing the prompt</p></li>
<li><p>Defining command line shortcuts and aliases</p></li>
<li><p>Setting the default text editor</p></li>
<li><p>Setting the path for where to find executable programs</p></li>
</ul>
<p>The standard prescription is that when the user first login to Linux,
<code class="docutils literal notranslate"><span class="pre">/etc/profile</span></code> is read and evaluated, after which the following files
are searched (if they exist) in the listed order:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">~/.bash_profile</span>
<span class="go">~/.bash_login</span>
<span class="go">~/.profile</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">~/.</span></code> denotes the user’s home directory. The Linux login shell
evaluates whatever startup file that it comes across first and ignores
the rest. This means that if it finds <code class="docutils literal notranslate"><span class="pre">~/.bash_profile</span></code>, it ignores
<code class="docutils literal notranslate"><span class="pre">~/.bash_login</span></code> and <code class="docutils literal notranslate"><span class="pre">~/.profile</span></code>.</p>
<p>However, every time the user creates a new shell, or terminal window,
etc., the user do not perform a full system login; only a file named
<code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code> file is read and evaluated.</p>
<p>Most commonly, users only fiddle with <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code>, as it is invoked
every time a new command-line shell initiates or another program is
launched from a terminal window, while the other files are read and
executed only when the user first logs onto the system.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">~/.bash_profile</span></code> - Stores user environment variables.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~/.bash_history</span></code> - contains all the history of the commands.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~/.bash_logout</span></code> - contains the commands which are executed when
bash is exited.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code> - setting of variables for bash.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/etc/profile</span></code> - Global system configuration for bash, which
controls the environmental variables and programs that are to be run
when bash is executed. The setting of PATH variable and PS1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/etc/bashrc</span></code> - Global system configuration for bash which controls
the aliases and functions to be run when bash is executed</p></li>
</ul>
</section>
</section>
<section id="command-history">
<h3>Command history<a class="headerlink" href="#command-history" title="Link to this heading"></a></h3>
<section id="recalling-previous-commands">
<h4>Recalling Previous commands<a class="headerlink" href="#recalling-previous-commands" title="Link to this heading"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">history</span></code> command recalls a list of previous commands, which can
be edited and recycled.</p>
<p><code class="docutils literal notranslate"><span class="pre">bash</span></code> keeps track of previously entered commands and statements in a
history buffer. We can recall previously used commands simply by using
the <code class="docutils literal notranslate"><span class="pre">Up</span></code> and <code class="docutils literal notranslate"><span class="pre">Down</span></code> cursor keys.</p>
<p>To view the list of previously executed commands:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">history</span>
</pre></div>
</div>
<p>The list of commands is displayed, with the most recent command
appearing last in the list. This information is stored in
<code class="docutils literal notranslate"><span class="pre">~/.bash_history</span></code>. If you have multiple terminals open, the commands
typed in each session are not saved until the session terminates.</p>
<p>The below variables can be set in the <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code> file to configure
the bash history.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">- HISTSIZE     - Controls the number of commands to remember in the history command. The default value is 500.</span>
<span class="go">- HISTFILE     - Defines the file to which all commands will be logged. Normally the value for this variable is set to ~/.bash_history. This means that whatever you type in bash will be stored into the value of HISTFILE. It is advisable to leave it undefined or pipe the output to /dev/null (For privacy reasons).</span>
<span class="go">- HISTFILESIZE - Defines the maximum number of commands in ~/.bash_history.</span>
<span class="go">- HISTCONTROL  - How commands are stored</span>
<span class="go">- HISTIGNORE   - which command lines can be unsaved</span>
</pre></div>
</div>
</section>
<section id="finding-and-using-previous-commands">
<h4>Finding and using previous commands<a class="headerlink" href="#finding-and-using-previous-commands" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Up/Down arrow keys            : Browse through the list of commands previously executed</span>
<span class="go">!! (Pronounced as bang-bang)  : Execute the previous command</span>
<span class="go">CTRL-R                        : Search previously used commands</span>
</pre></div>
</div>
</section>
<section id="executing-previous-command">
<h4>Executing previous command<a class="headerlink" href="#executing-previous-command" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">!       : Start a history substitution</span>
<span class="go">!$      : Refer to the last argument in a line</span>
<span class="go">!n      : Refer to the nth command line</span>
<span class="go">!string : Refer to the most recent command starting with the string</span>
</pre></div>
</div>
</section>
</section>
<section id="bash-command-substitution">
<h3>Bash Command Substitution<a class="headerlink" href="#bash-command-substitution" title="Link to this heading"></a></h3>
<p>Bash may need to substitute the result of a command as a portion of
another command. It can be done in two ways:</p>
<ul class="simple">
<li><p>By enclosing the inner command in <code class="docutils literal notranslate"><span class="pre">$(</span> <span class="pre">)</span></code></p></li>
<li><p>By enclosing the inner command with backticks (`)</p></li>
</ul>
<p>Command substitution allows the output of a command to replace the
command itself. Command substitution occurs when a command is enclosed
as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">$(</span><span class="nb">command</span><span class="k">)</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="sb">`</span><span class="nb">command</span><span class="sb">`</span>
</pre></div>
</div>
<p>Bash performs the expansion by executing the command and replacing the
command substitution with the standard output of the command, with any
trailing newlines deleted.</p>
</section>
<section id="bash-case-modification">
<h3>Bash Case Modification<a class="headerlink" href="#bash-case-modification" title="Link to this heading"></a></h3>
<p>The below expansion operators modify the case of the letters in the
expanded text.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span><span class="o">{</span>PARAMETER^<span class="o">}</span><span class="w">   </span>:<span class="w"> </span>^<span class="w"> </span>operator<span class="w"> </span>modifies<span class="w"> </span>the<span class="w"> </span>first<span class="w"> </span>character<span class="w"> </span>to<span class="w"> </span>uppercase
<span class="gp">$</span><span class="o">{</span>PARAMETER,<span class="o">}</span><span class="w">   </span>:<span class="w"> </span>,<span class="w"> </span>operator<span class="w"> </span>modifies<span class="w"> </span>the<span class="w"> </span>first<span class="w"> </span>character<span class="w"> </span>to<span class="w"> </span>lowercase
<span class="gp">$</span><span class="o">{</span>PARAMETER^^<span class="o">}</span><span class="w">  </span>:<span class="w"> </span>^^<span class="w"> </span>operator<span class="w"> </span>modified<span class="w"> </span>all<span class="w"> </span>the<span class="w"> </span>characters<span class="w"> </span>to<span class="w"> </span>uppercase
<span class="gp">$</span><span class="o">{</span>PARAMETER,,<span class="o">}</span><span class="w">  </span>:<span class="w"> </span>,,<span class="w"> </span>operator<span class="w"> </span>modified<span class="w"> </span>all<span class="w"> </span>the<span class="w"> </span>characters<span class="w"> </span>to<span class="w"> </span>lowercase
<span class="gp">$</span><span class="o">{</span>PARAMETER~<span class="o">}</span><span class="w">   </span>:<span class="w"> </span>~<span class="w"> </span>reverses<span class="w"> </span>the<span class="w"> </span><span class="k">case</span><span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>first<span class="w"> </span>letter<span class="w"> </span>of<span class="w"> </span>words<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>variable
<span class="gp">$</span><span class="o">{</span>PARAMETER~~<span class="o">}</span><span class="w">  </span>:<span class="w"> </span>~~<span class="w"> </span>reverses<span class="w"> </span>the<span class="w"> </span><span class="k">case</span><span class="w"> </span>of<span class="w"> </span>all<span class="w"> </span>letters<span class="w"> </span>of<span class="w"> </span>words<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>variable
</pre></div>
</div>
<section id="example-parameter">
<h4>Example: Parameter ^<a class="headerlink" href="#example-parameter" title="Link to this heading"></a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">VAR</span><span class="o">=</span><span class="s2">&quot;hack the PLANET&quot;</span>

<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">VAR</span><span class="p">^</span><span class="si">}</span>
Hack<span class="w"> </span>the<span class="w"> </span>PLANET

<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">VAR</span><span class="p">^^</span><span class="si">}</span>
HACK<span class="w"> </span>THE<span class="w"> </span>PLANET
</pre></div>
</div>
</section>
<section id="example-parameter-1">
<span id="id7"></span><h4>Example: Parameter ,<a class="headerlink" href="#example-parameter-1" title="Link to this heading"></a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">VAR</span><span class="o">=</span><span class="s2">&quot;HACK THE PLANET&quot;</span>

<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">VAR</span><span class="p">,</span><span class="si">}</span>
hACK<span class="w"> </span>THE<span class="w"> </span>PLANET

<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">VAR</span><span class="p">,,</span><span class="si">}</span>
hack<span class="w"> </span>the<span class="w"> </span>planet
</pre></div>
</div>
</section>
<section id="example-parameter-2">
<span id="id8"></span><h4>Example: Parameter ~<a class="headerlink" href="#example-parameter-2" title="Link to this heading"></a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">VAR</span><span class="o">=</span><span class="s2">&quot;hack the PLANET&quot;</span>

<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">VAR</span><span class="p">~</span><span class="si">}</span>
Hack<span class="w"> </span>The<span class="w"> </span>pLANET

<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">VAR</span><span class="p">~~</span><span class="si">}</span>
HACK<span class="w"> </span>THE<span class="w"> </span>planet
</pre></div>
</div>
</section>
</section>
<section id="bash-programming">
<h3>Bash Programming<a class="headerlink" href="#bash-programming" title="Link to this heading"></a></h3>
<p>Linux provides a wide choice of shells; exactly what is available on the
system is listed in <code class="docutils literal notranslate"><span class="pre">/etc/shells</span></code>. Typical choices are:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">/bin/sh</span>
<span class="go">/bin/bash</span>
<span class="go">/bin/tcsh</span>
<span class="go">/bin/csh</span>
<span class="go">/bin/ksh</span>
<span class="go">/bin/zsh</span>
</pre></div>
</div>
<p>A shell is a command-line interpreter which provides the user interface
for terminal windows. It can also be used to run scripts, even in
non-interactive sessions without a terminal window, as if the commands
were being directly typed in.</p>
<p>For example, typing <code class="docutils literal notranslate"><span class="pre">find</span> <span class="pre">.</span> <span class="pre">-name</span> <span class="pre">&quot;*.c&quot;</span> <span class="pre">-ls</span></code> at the command line
accomplishes the same thing as executing a script file containing the
lines:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
find<span class="w"> </span>.<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*.c&quot;</span><span class="w"> </span>-ls
</pre></div>
</div>
<p>The first line of the script, which starts with <code class="docutils literal notranslate"><span class="pre">#!</span></code>, contains the
full path of the command interpreter (in this case <code class="docutils literal notranslate"><span class="pre">/bin/bash</span></code>) that
is to be used on the file.</p>
<section id="conditional-statements">
<h4>Conditional statements<a class="headerlink" href="#conditional-statements" title="Link to this heading"></a></h4>
<section id="for-loop">
<h5>For Loop<a class="headerlink" href="#for-loop" title="Link to this heading"></a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">for</span></code> loop operates on each element of a list of items. The syntax
for the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop is:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="k">for</span><span class="w"> </span>variable-name<span class="w"> </span><span class="k">in</span><span class="w"> </span>list
<span class="k">do</span>
<span class="w">    </span>execute<span class="w"> </span>one<span class="w"> </span>iteration<span class="w"> </span><span class="k">for</span><span class="w"> </span>each<span class="w"> </span>item<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>list<span class="w"> </span><span class="k">until</span><span class="w"> </span>the<span class="w"> </span>list<span class="w"> </span>is<span class="w"> </span>finished
<span class="k">done</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span><span class="w"> </span>ls<span class="w"> </span><span class="k">)</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span>item:<span class="w"> </span><span class="nv">$i</span>
<span class="k">done</span>
</pre></div>
</div>
<section id="bash-loop-thru-array-of-strings">
<h6>Bash loop thru array of strings<a class="headerlink" href="#bash-loop-thru-array-of-strings" title="Link to this heading"></a></h6>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="c1">## declare an array variable</span>
<span class="nb">declare</span><span class="w"> </span>-a<span class="w"> </span><span class="nv">arr</span><span class="o">=(</span><span class="s2">&quot;element1&quot;</span><span class="w"> </span><span class="s2">&quot;element2&quot;</span><span class="w"> </span><span class="s2">&quot;element3&quot;</span><span class="o">)</span>

<span class="c1">## now loop through the above array</span>
<span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">arr</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">do</span>
<span class="w">       </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$i</span><span class="s2">&quot;</span>
<span class="w">       </span><span class="c1"># or do whatever with the individual element of the array</span>
<span class="w">    </span><span class="k">done</span>
</pre></div>
</div>
</section>
<section id="value-of-the-variable">
<h6>Value of the variable<a class="headerlink" href="#value-of-the-variable" title="Link to this heading"></a></h6>
<p>The value of the variable whose name is in this variable can be found by</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="p">!n</span><span class="si">}</span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nv">eth0</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>ip<span class="w"> </span>-o<span class="w"> </span>-4<span class="w"> </span>address<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>eth0<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{print $4}&#39;</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="nv">wlan0</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>ip<span class="w"> </span>-o<span class="w"> </span>-4<span class="w"> </span>address<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>wlan0<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{print $4}&#39;</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="c1">##eth0 and wlan0 contains the subnet of the eth0 and wlan0.</span>

<span class="k">for</span><span class="w"> </span>interfaces<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;eth0&quot;</span><span class="w"> </span><span class="s2">&quot;wlan0&quot;</span>
<span class="w">    </span><span class="k">do</span>
<span class="w">        </span><span class="c1">##var would actually get the value of that variable</span>
<span class="w">        </span><span class="nv">var</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="p">!interfaces</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">done</span>
</pre></div>
</div>
<p>Sample output with <code class="docutils literal notranslate"><span class="pre">${!interfaces}</span></code>:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="m">10</span>.233.113.136/23
</pre></div>
</div>
<p>Sample output with <code class="docutils literal notranslate"><span class="pre">${interfaces}</span></code>:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>eth0
wlan0
</pre></div>
</div>
</section>
</section>
<section id="while-loop">
<h5>While loop<a class="headerlink" href="#while-loop" title="Link to this heading"></a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">while</span></code> loop repeats a set of statements as long as the control
command returns <code class="docutils literal notranslate"><span class="pre">true</span></code>. The syntax is:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="k">while</span><span class="w"> </span>condition<span class="w"> </span>is<span class="w"> </span><span class="nb">true</span>
<span class="k">do</span>
<span class="w">    </span>Commands<span class="w"> </span><span class="k">for</span><span class="w"> </span>execution
<span class="w">    </span>----
<span class="k">done</span>
</pre></div>
</div>
</section>
<section id="until-loop">
<h5>Until loop<a class="headerlink" href="#until-loop" title="Link to this heading"></a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">until</span></code> loop repeats a set of statements as long as the control
command is <code class="docutils literal notranslate"><span class="pre">false</span></code>. Thus, it is essentially the opposite of the
<code class="docutils literal notranslate"><span class="pre">while</span></code> loop. The syntax is:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="k">until</span><span class="w"> </span>condition<span class="w"> </span>is<span class="w"> </span><span class="nb">false</span>
<span class="k">do</span>
<span class="w">    </span>Commands<span class="w"> </span><span class="k">for</span><span class="w"> </span>execution
<span class="w">    </span>----
<span class="k">done</span>
</pre></div>
</div>
</section>
<section id="if-statement">
<h5>If Statement<a class="headerlink" href="#if-statement" title="Link to this heading"></a></h5>
<p>Conditional decision making, using an if statement is a basic construct
that any useful programming or scripting language must-have.</p>
<figure class="align-default" id="id21">
<img alt="IF Function" src="../_images/bash_if_statements.jfif" />
<figcaption>
<p><span class="caption-text">IF Function</span><a class="headerlink" href="#id21" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>A more general definition is:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="w"> </span>condition
<span class="k">then</span>
<span class="w">       </span>statements
<span class="k">else</span>
<span class="w">       </span>statements
<span class="k">fi</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;foo&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;foo&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">       </span><span class="nb">echo</span><span class="w"> </span>expression<span class="w"> </span>evaluated<span class="w"> </span>as<span class="w"> </span><span class="nb">true</span>
<span class="k">else</span>
<span class="w">       </span><span class="nb">echo</span><span class="w"> </span>expression<span class="w"> </span>evaluated<span class="w"> </span>as<span class="w"> </span><span class="nb">false</span>
<span class="k">fi</span>
</pre></div>
</div>
</section>
<section id="elif-statement">
<h5>elif statement<a class="headerlink" href="#elif-statement" title="Link to this heading"></a></h5>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">elif</span></code> statement to perform more complicated tests and
take appropriate action. The basic syntax is:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>sometest<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span>Passed<span class="w"> </span>test1
<span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>somothertest<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span>Passed<span class="w"> </span>test2
<span class="k">fi</span>
</pre></div>
</div>
</section>
<section id="case-statement">
<h5>case statement<a class="headerlink" href="#case-statement" title="Link to this heading"></a></h5>
<p>Here is the basic structure of the case statement:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">case</span><span class="w"> </span>expression<span class="w"> </span><span class="k">in</span>
<span class="w">   </span>pattern1<span class="o">)</span><span class="w"> </span>execute<span class="w"> </span>commands<span class="p">;;</span>
<span class="w">   </span>pattern2<span class="o">)</span><span class="w"> </span>execute<span class="w"> </span>commands<span class="p">;;</span>
<span class="w">   </span>pattern3<span class="o">)</span><span class="w"> </span>execute<span class="w"> </span>commands<span class="p">;;</span>
<span class="w">   </span>pattern4<span class="o">)</span><span class="w"> </span>execute<span class="w"> </span>commands<span class="p">;;</span>
<span class="w">   </span>*<span class="w"> </span><span class="o">)</span><span class="w">       </span>execute<span class="w"> </span>some<span class="w"> </span>default<span class="w"> </span>commands<span class="w"> </span>or<span class="w"> </span>nothing<span class="w"> </span><span class="p">;;</span>
<span class="k">esac</span>
</pre></div>
</div>
</section>
</section>
<section id="bash-functions">
<h4>Bash functions<a class="headerlink" href="#bash-functions" title="Link to this heading"></a></h4>
<p>A function is a code block that implements a set of operations.</p>
<figure class="align-default" id="id22">
<img alt="Bash Functions" src="../_images/bash_functions.png" />
<figcaption>
<p><span class="caption-text">Bash Functions</span><a class="headerlink" href="#id22" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Functions are useful for executing procedures multiple times, perhaps
with varying input variables. Functions are also often called
subroutines. Using functions in scripts requires two steps:</p>
<ul class="simple">
<li><p>Declaring a function</p></li>
<li><p>Calling a function</p></li>
</ul>
<p>The function declaration requires a name that is used to invoke it. The
proper syntax is:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>function_name<span class="w"> </span><span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">   </span>command...
<span class="o">}</span>
</pre></div>
</div>
<p>For example, the following function is named display:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>display<span class="w"> </span><span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">   </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;This is a sample function&quot;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The function can be as long as desired and have many statements. Once
defined, the function can be called later as many times as necessary.</p>
</section>
<section id="shell-script">
<h4>Shell script<a class="headerlink" href="#shell-script" title="Link to this heading"></a></h4>
<section id="shell-script-arguments">
<h5>shell script arguments<a class="headerlink" href="#shell-script-arguments" title="Link to this heading"></a></h5>
<p>Users often need to pass parameter values to a script, such as a
filename, date, etc. Scripts will take different paths or arrive at
different values according to the parameters (command arguments) that
are passed to them.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span><span class="m">0</span><span class="w">           </span>:<span class="w"> </span>Script<span class="w"> </span>name
<span class="gp">$</span><span class="m">1</span><span class="w">           </span>:<span class="w"> </span>First<span class="w"> </span>parameter
<span class="gp">$</span><span class="m">2</span>,<span class="w"> </span><span class="nv">$3</span>,<span class="w"> </span>etc.<span class="w"> </span>:<span class="w"> </span>Second,<span class="w"> </span>third<span class="w"> </span>parameter,<span class="w"> </span>etc.
<span class="gp">$</span>*<span class="w">           </span>:<span class="w"> </span>All<span class="w"> </span>parameters
<span class="gp">$</span><span class="c1">#           : Number of arguments</span>
</pre></div>
</div>
<figure class="align-default" id="id23">
<img alt="shell script arguments" src="../_images/shell_scripts_args.jfif" />
<figcaption>
<p><span class="caption-text">shell script arguments</span><a class="headerlink" href="#id23" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="debugging-bash-scripts">
<h5>Debugging bash scripts<a class="headerlink" href="#debugging-bash-scripts" title="Link to this heading"></a></h5>
<p>Debugging helps to troubleshoot and resolve such errors and is one of
the most important tasks a system administrator performs.</p>
<p>We can run a bash script in debug mode either by doing
<code class="docutils literal notranslate"><span class="pre">bash</span> <span class="pre">-x</span> <span class="pre">./script_file</span></code>, or bracketing parts of the script with
<code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">-x</span></code> and <code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">+x</span></code>. The debug mode helps identify the error
because:</p>
<ul class="simple">
<li><p>It traces and prefixes each command with the + character.</p></li>
<li><p>It displays each command before executing it.</p></li>
<li><p>It can debug only selected parts of a script (if desired) with:</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">set -x    # turns on debugging</span>
<span class="go">set +x    # turns off debugging</span>
</pre></div>
</div>
</section>
<section id="return-values">
<h5>Return values<a class="headerlink" href="#return-values" title="Link to this heading"></a></h5>
<p>All shell scripts generate a return value upon finishing execution,
which can be explicitly set with the exit statement. Return values
permit a process to monitor the exit state of another process, often in
a parent-child relationship.</p>
<section id="viewing-return-values">
<h6>Viewing return values<a class="headerlink" href="#viewing-return-values" title="Link to this heading"></a></h6>
<p>As a script executes, one can check for a specific value or condition
and return success or failure as a result. By convention, success is
returned as <code class="docutils literal notranslate"><span class="pre">0</span></code>, and failure is returned as a non-zero value.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">echo $?</span>
<span class="go">0</span>
</pre></div>
</div>
<p>When run on a non-existing file, it returns <code class="docutils literal notranslate"><span class="pre">2</span></code>.</p>
</section>
</section>
<section id="script-syntax">
<h5>Script Syntax<a class="headerlink" href="#script-syntax" title="Link to this heading"></a></h5>
<p>Scripts require you to follow a standard language syntax. Rules
delineate how to define variables and how to construct and format
allowed statements, etc.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#  </span>:<span class="w"> </span>Used<span class="w"> </span>to<span class="w"> </span>add<span class="w"> </span>a<span class="w"> </span>comment,<span class="w"> </span>except<span class="w"> </span>when<span class="w"> </span>used<span class="w"> </span>as<span class="w"> </span><span class="se">\#</span>,<span class="w"> </span>or<span class="w"> </span>as<span class="w"> </span><span class="c1">#! when starting a script</span>
<span class="go">\  : Used at the end of a line to indicate continuation on to the next line</span>
<span class="go">;  : Used to interpret what follows as a new command to be executed next</span>
<span class="gp">$  </span>:<span class="w"> </span>Indicates<span class="w"> </span>what<span class="w"> </span>follows<span class="w"> </span>is<span class="w"> </span>an<span class="w"> </span>environment<span class="w"> </span>variable
<span class="go">&gt;  : Redirect output</span>
<span class="go">&gt;&gt; : Append output</span>
<span class="go">&lt;  : Redirect input</span>
<span class="go">|  : Used to pipe the result into the next command</span>
</pre></div>
</div>
</section>
<section id="shellcheck">
<h5>Shellcheck<a class="headerlink" href="#shellcheck" title="Link to this heading"></a></h5>
<p><a class="reference external" href="https://github.com/koalaman/shellcheck">ShellCheck</a> is a tool that gives warnings and suggestions for bash/sh shell scripts:</p>
<figure class="align-default" id="id24">
<img alt="Shellcheck" src="../_images/bash_shellcheck.png" />
<figcaption>
<p><span class="caption-text">Shellcheck</span><a class="headerlink" href="#id24" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
</section>
<section id="creating-temp-directory-and-files">
<h4>Creating Temp Directory and files<a class="headerlink" href="#creating-temp-directory-and-files" title="Link to this heading"></a></h4>
<p>Temporary files (and directories) are meant to store data for a short
time.</p>
<p>The best practice is to create random and unpredictable filenames for
temporary storage. One way to do this is with the <code class="docutils literal notranslate"><span class="pre">mktemp</span></code> utility, as
in the following examples.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">XXXXXXXX</span></code> is replaced by <code class="docutils literal notranslate"><span class="pre">mktemp</span></code> with random characters to
ensure the name of the temporary file cannot be easily predicted and is
only known within the program.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">TEMP</span><span class="o">=</span><span class="k">$(</span>mktemp<span class="w"> </span>/tmp/tempfile.XXXXXXXX<span class="k">)</span><span class="w">       </span>:<span class="w"> </span>To<span class="w"> </span>create<span class="w"> </span>a<span class="w"> </span>temporary<span class="w"> </span>file
<span class="nv">TEMPDIR</span><span class="o">=</span><span class="k">$(</span>mktemp<span class="w"> </span>-d<span class="w"> </span>/tmp/tempdir.XXXXXXXX<span class="k">)</span><span class="w">  </span>:<span class="w"> </span>To<span class="w"> </span>create<span class="w"> </span>a<span class="w"> </span>temporary<span class="w"> </span>directory
</pre></div>
</div>
</section>
<section id="discarding-output-with-dev-null">
<h4>Discarding output with /dev/null<a class="headerlink" href="#discarding-output-with-dev-null" title="Link to this heading"></a></h4>
<p>Certain commands (like <code class="docutils literal notranslate"><span class="pre">find</span></code>) will produce voluminous amounts of
output, which can overwhelm the console. To avoid this, we can redirect
the large output to a special file (a device node) called <code class="docutils literal notranslate"><span class="pre">/dev/null</span></code>.
This pseudofile is also called the bit bucket or black hole.</p>
<p>All data written to it is discarded, and write operations never return a
failure condition. Using the proper redirection operators, it can make
the output disappear from commands that would normally generate output
to stdout and/or stderr:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ls -lR /tmp &gt; /dev/null</span>
</pre></div>
</div>
<p>In the above command, the entire standard output stream is ignored, but
any errors will still appear on the console. However, if one does:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ls -lR /tmp &gt;&amp; /dev/null</span>
</pre></div>
</div>
<p>both stdout and stderr will be dumped into <code class="docutils literal notranslate"><span class="pre">/dev/null</span></code>.</p>
</section>
<section id="random-number">
<h4>Random number<a class="headerlink" href="#random-number" title="Link to this heading"></a></h4>
<p>It is often useful to generate random numbers and other random data when
performing tasks such as:</p>
<ul class="simple">
<li><p>Performing security-related tasks</p></li>
<li><p>Reinitializing storage devices</p></li>
<li><p>Erasing and/or obscuring existing data</p></li>
<li><p>Generating meaningless data to be used for tests.</p></li>
</ul>
<p>Such random numbers can be generated by using the <code class="docutils literal notranslate"><span class="pre">$RANDOM</span></code>
environment variable, which is derived from the Linux kernel’s built-in
random number generator.</p>
<p>The Linux kernel offers the <code class="docutils literal notranslate"><span class="pre">/dev/random</span></code> and <code class="docutils literal notranslate"><span class="pre">/dev/urandom</span></code> device
nodes, which draw on the entropy pool to provide random numbers which
are drawn from the estimated number of bits of noise in the entropy
pool.</p>
<p><code class="docutils literal notranslate"><span class="pre">/dev/random</span></code> is used where very high-quality randomness is required,
such as a one-time pad or key generation, but it is relatively slow to
provide values. <code class="docutils literal notranslate"><span class="pre">/dev/urandom</span></code> is faster and suitable (good enough)
for most cryptographic purposes.</p>
<section id="multiple-commands-on-a-single-line">
<h5>Multiple commands on a single line<a class="headerlink" href="#multiple-commands-on-a-single-line" title="Link to this heading"></a></h5>
<p>Thus, the three commands in the following example will all execute, even
if the ones preceding them fail:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">make ; make install ; make clean</span>
</pre></div>
</div>
<p>However, we may want to abort subsequent commands when an earlier one
fails. We can do this using the <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code> (and) operator as in:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">make &amp;&amp; make install &amp;&amp; make clean</span>
</pre></div>
</div>
<p>If the first command fails, the second one will never be executed. A
final refinement is to use the <code class="docutils literal notranslate"><span class="pre">||</span></code> (or) operator, as in:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cat file1 || cat file2 || cat file3</span>
</pre></div>
</div>
</section>
</section>
<section id="i-o-redirection">
<h4>I/O Redirection<a class="headerlink" href="#i-o-redirection" title="Link to this heading"></a></h4>
<section id="output-redirection">
<h5>Output redirection<a class="headerlink" href="#output-redirection" title="Link to this heading"></a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> character is used to write output to a file. For example, the
following command sends the output of <code class="docutils literal notranslate"><span class="pre">free</span></code> to <code class="docutils literal notranslate"><span class="pre">/tmp/free.out</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">free &gt; /tmp/free.out</span>
</pre></div>
</div>
<p>Two <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> characters (<code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code>) will append output to a file if it exists
and act just like <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> if the file does not already exist.</p>
</section>
<section id="input-redirection">
<h5>Input redirection<a class="headerlink" href="#input-redirection" title="Link to this heading"></a></h5>
<p>Just as the output can be redirected to a file, the input of a command
can be read from a file. The process of reading input from a file is
called input redirection and uses the <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> character.</p>
</section>
</section>
</section>
</section>
<section id="equality-tests">
<h2>Equality Tests<a class="headerlink" href="#equality-tests" title="Link to this heading"></a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">test      : checks file types and compare values</span>
<span class="go">  -d      : check if the file is a directory</span>
<span class="go">  -e      : check if the file exists</span>
<span class="go">  -f      : check if the file is a regular file</span>
<span class="go">  -g      : check if the file has SGID permissions</span>
<span class="go">  -r      : check if the file is readable</span>
<span class="go">  -s      : check if the file&#39;s size is not 0</span>
<span class="go">  -u      : check if the file has SUID permissions</span>
<span class="go">  -w      : check if the file is writeable</span>
<span class="go">  -x      : check if the file is executable</span>
</pre></div>
</div>
<p>Example</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="w"> </span><span class="nb">test</span><span class="w"> </span>-f<span class="w"> </span>/etc/foo.txt
<span class="k">then</span>
</pre></div>
</div>
<p>It can also be written as</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span>/etc/foo.txt<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>

--square<span class="w"> </span>brackets<span class="w"> </span><span class="o">[]</span><span class="w"> </span>form<span class="w"> </span>test.
--<span class="w"> </span>There<span class="w"> </span>has<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>white<span class="w"> </span>space<span class="w"> </span>surrounding<span class="w"> </span>both<span class="w"> </span>square<span class="w"> </span>brackets
</pre></div>
</div>
<section id="list-of-equality-tests">
<h3>List of equality tests<a class="headerlink" href="#list-of-equality-tests" title="Link to this heading"></a></h3>
<section id="checks-equality-between-numbers">
<h4>Checks equality between numbers<a class="headerlink" href="#checks-equality-between-numbers" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">x -eq y         : Check is x equals to y</span>
<span class="go">x -ne y         : Check if x does not equal to y</span>
<span class="go">x -gt y         : Check if x is greater than y</span>
<span class="go">x -lt y         : Check if x is less than y</span>
<span class="go">x -ge y         : Greater than or equal to</span>
<span class="go">x -le y         : Less than or equal to</span>
</pre></div>
</div>
</section>
<section id="checks-equality-between-strings">
<h4>Checks equality between strings<a class="headerlink" href="#checks-equality-between-strings" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">x = y           : Check if x is the same as y</span>
<span class="go">x != y          : Check if x is not the same as y</span>
<span class="go">-n x            : Evaluates to true if x is not null</span>
<span class="go">-z x            : Evaluates to true if x is null.</span>
<span class="gp">#</span><span class="c1">#Check in the following way --&gt; if [ -z &quot;$VAR&quot; ];</span>
</pre></div>
</div>
</section>
</section>
<section id="arithmetic-expressions">
<h3>Arithmetic expressions<a class="headerlink" href="#arithmetic-expressions" title="Link to this heading"></a></h3>
<p>Arithmetic expressions can be evaluated in the following three ways
(spaces are important!):</p>
<section id="using-the-expr">
<h4>Using the expr<a class="headerlink" href="#using-the-expr" title="Link to this heading"></a></h4>
<p>expr is a standard but somewhat deprecated program. The syntax is as
follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">expr 8 + 8</span>
<span class="go">echo $(expr 8 + 8)</span>
</pre></div>
</div>
</section>
<section id="using-the-syntax">
<h4>Using the $((…)) syntax<a class="headerlink" href="#using-the-syntax" title="Link to this heading"></a></h4>
<p>This is the built-in shell format. The syntax is as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">echo $((x+1))</span>
</pre></div>
</div>
</section>
<section id="using-the-built-in-shell-command-let">
<h4>Using the built-in shell command let<a class="headerlink" href="#using-the-built-in-shell-command-let" title="Link to this heading"></a></h4>
<p>The syntax is as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">let x=( 1 + 2 ); echo $x</span>
</pre></div>
</div>
<p>In modern shell scripts, the use of expr is better replaced with
var=$((…)).</p>
</section>
</section>
</section>
<section id="system-administration">
<h2>System Administration<a class="headerlink" href="#system-administration" title="Link to this heading"></a></h2>
<section id="package-management">
<h3>Package Management<a class="headerlink" href="#package-management" title="Link to this heading"></a></h3>
<p>Package management systems supply the tools that allow system
administrators to automate installing, upgrading, configuring and
removing software packages in a known, predictable and consistent
manner. It allows:</p>
<ul class="simple">
<li><p>Gather and compress associated software files into a single package
(archive), which may require other packages to be installed first.</p></li>
<li><p>Allow for easy software installation or removal.</p></li>
<li><p>Can verify file integrity via an internal database.</p></li>
<li><p>Can authenticate the origin of packages.</p></li>
<li><p>Facilitate upgrades.</p></li>
<li><p>Group packages by logical features.</p></li>
<li><p>Manage dependencies between packages.</p></li>
</ul>
<p>A given package may contain executable files, data files, documentation,
installation scripts and configuration files. Also included are metadata
attributes such as version numbers, checksums, vendor information,
dependencies, descriptions, etc. Upon installation, all that information
is stored locally into an internal database, which can be conveniently
queried for version status and update information.</p>
<section id="package-types">
<h4>Package Types<a class="headerlink" href="#package-types" title="Link to this heading"></a></h4>
<p>Packages come in several different types.</p>
<ul class="simple">
<li><p>Binary Packages: Binary packages contain files ready for deployment,
including executable files and libraries. These are architecture
dependent.</p></li>
<li><p>Source Packages: Source packages are used to generate binary
packages; you should always be able to rebuild a binary package from
the source package. One source package can be used for multiple
architectures.</p></li>
<li><p>Architecture-independent: Architecture-independent packages contain
files and scripts that run under script interpreters, as well as
documentation and configuration files.</p></li>
<li><p>Meta-packages: Meta-packages are groups of associated packages that
collect everything needed to install a relatively large subsystem,
such as a desktop environment, or an office suite, etc</p></li>
</ul>
<p>Package management systems operate on two distinct levels:</p>
<ul class="simple">
<li><p>a low-level tool (such as <code class="docutils literal notranslate"><span class="pre">dpkg</span></code> or <code class="docutils literal notranslate"><span class="pre">rpm</span></code>) takes care of the
details of unpacking individual packages, running scripts, getting
the software installed correctly.</p></li>
<li><p>a high-level tool (such as <code class="docutils literal notranslate"><span class="pre">apt</span></code>, <code class="docutils literal notranslate"><span class="pre">yum</span></code>, <code class="docutils literal notranslate"><span class="pre">dnf</span></code> or <code class="docutils literal notranslate"><span class="pre">zypper</span></code>)
works with groups of packages, downloads packages from the vendor,
and figures out dependencies.</p></li>
</ul>
<p>Advanced Packaging Tool (<code class="docutils literal notranslate"><span class="pre">apt</span></code>) is the underlying package management
system that manages software on Debian-based systems. <code class="docutils literal notranslate"><span class="pre">yum</span></code> is an
open-source command-line package-management utility for the
RPM-compatible Linux systems that belong to the Red Hat family. Fedora
and RHEL 8 have replaced <code class="docutils literal notranslate"><span class="pre">yum</span></code> with <code class="docutils literal notranslate"><span class="pre">dnf</span></code>. <code class="docutils literal notranslate"><span class="pre">zypper</span></code> is the package
management system for the SUSE/openSUSE family and is also based on RPM.</p>
</section>
</section>
<section id="updating-linux-system-using-a-low-level-tool">
<h3>Updating Linux System using a low-level tool<a class="headerlink" href="#updating-linux-system-using-a-low-level-tool" title="Link to this heading"></a></h3>
<section id="using-dpkg-debian-ubuntu">
<h4>Using dpkg (Debian/Ubuntu)<a class="headerlink" href="#using-dpkg-debian-ubuntu" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">dpkg</span></code> is the underlying package manager for Debian. It can install,
remove, and build packages. Unlike higher-level package management
systems, it does not automatically download and install packages and
satisfy their dependencies. Package files have a <code class="docutils literal notranslate"><span class="pre">.deb</span></code> suffix and the
DPKG database resides in the <code class="docutils literal notranslate"><span class="pre">/var/lib/dpkg</span></code> directory.</p>
<p>Debian package file names are based on fields that represent specific
information. The standard naming format for a binary package is:
<code class="docutils literal notranslate"><span class="pre">&lt;name&gt;_&lt;version&gt;-&lt;revision_number&gt;_&lt;architecture&gt;.deb</span></code></p>
<p>In the Debian packaging system, a source package consists of at least
three files:</p>
<ul class="simple">
<li><p>An upstream tarball, ending with <code class="docutils literal notranslate"><span class="pre">.tar.gz</span></code>. This is the unmodified
source as it comes from the package maintainers.</p></li>
<li><p>A description file, ending with <code class="docutils literal notranslate"><span class="pre">.dsc</span></code>, containing the package name
and other metadata, such as architecture and dependencies.</p></li>
<li><p>A second tarball that contains any patches to the upstream source,
and additional files created for the package, and ends with a name
<code class="docutils literal notranslate"><span class="pre">.debian.tar.gz</span></code> or <code class="docutils literal notranslate"><span class="pre">.diff.gz</span></code>, depending on distribution.</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">apt source bash</span>
</pre></div>
</div>
<p>For Debian-based systems, the higher-level package management system is
the Advanced Package Tool (APT) system of utilities. Generally, while
each distribution within the Debian family uses APT, it creates its own
user interface on top of it (for example, <code class="docutils literal notranslate"><span class="pre">apt</span></code>, <code class="docutils literal notranslate"><span class="pre">apt-get</span></code>,
<code class="docutils literal notranslate"><span class="pre">aptitude</span></code>, <code class="docutils literal notranslate"><span class="pre">synaptic</span></code>, Ubuntu Software Center, Update Manager,
etc). Although apt repositories are generally compatible with each
other, the software they contain generally is not. Therefore, most
repositories target a particular distribution (like Ubuntu), and often
software distributors ship with multiple repositories to support
multiple distributions.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">dpkg -i Package.deb             - Install package (performs two steps automatically: it unpacks the package and runs the configuration scripts.).</span>
<span class="go">       --unpack</span>
<span class="go">       --configure</span>
<span class="go">dpkg -r Package                 - Removes everything except configuration files.</span>
<span class="go">dpkg --remove Package           - Removes everything except configuration files.</span>
<span class="go">dpkg -P (Package&gt;               - Removes configurations files too.</span>
<span class="go">dpkg -l                         - Shows the list of all installed packages.</span>
<span class="go">dpkg -l b*                      - provide wildcards (such as b*) to search for packages that match a particular partial search string.</span>
<span class="go">dpkg -L &quot;Package name&quot;          - Shows a list of files installed by specific packages (configuration and documentation files).</span>
<span class="go">dpkg --listfiles &quot;Package name&quot; - Shows a list of files installed by specific packages.</span>
<span class="go">dpkg --search file (or -S)      - finds any packages containing the file or path passed in the argument</span>
<span class="go">dpkg --status package (or -s)   - Show information about an installed package (metadata and possible recommended packages)</span>
<span class="go">dpkg --info file.deb (or -I)    - Show information about a package file and displays the headers of the specified .deb file</span>
<span class="go">dpkg --contents file.deb (or -c)- lists all the files in a particular .deb file</span>
<span class="go">dpkg -V package                 - Verify the installed package&#39;s integrity</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Often, examples of configuration files for packages are provided in the <code class="docutils literal notranslate"><span class="pre">/usr/share/doc/package/examples/</span></code></p></li>
<li><p>dpkg options that query the internal dpkg database stored on the filesystem at <code class="docutils literal notranslate"><span class="pre">/var/lib/dpkg</span></code> and contains multiple sections including</p>
<ul>
<li><p>configuration scripts (<code class="docutils literal notranslate"><span class="pre">/var/lib/dpkg/info</span></code>),</p></li>
<li><p>a list of files the package installed (<code class="docutils literal notranslate"><span class="pre">/var/lib/dpkg/info/*.list</span></code>), and</p></li>
<li><p>the status of each package that has been installed (<code class="docutils literal notranslate"><span class="pre">/var/lib/dpkg/status</span></code>).</p></li>
</ul>
</li>
</ul>
<section id="installing-upgrading-uninstalling-packages">
<h5>Installing/Upgrading/Uninstalling Packages<a class="headerlink" href="#installing-upgrading-uninstalling-packages" title="Link to this heading"></a></h5>
<section id="install-upgrade">
<h6>Install/upgrade<a class="headerlink" href="#install-upgrade" title="Link to this heading"></a></h6>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">dpkg -i package.deb</span>
</pre></div>
</div>
</section>
<section id="remove-a-package-except-for-its-configuration-files">
<h6>Remove a package except for its configuration files<a class="headerlink" href="#remove-a-package-except-for-its-configuration-files" title="Link to this heading"></a></h6>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">dpkg -r package</span>
</pre></div>
</div>
</section>
<section id="remove-all-of-an-installed-package-including-its-configuration-files">
<h6>Remove all of an installed package, including its configuration files<a class="headerlink" href="#remove-all-of-an-installed-package-including-its-configuration-files" title="Link to this heading"></a></h6>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">dpkg -P package</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="using-rpm-red-hat-and-fedora">
<h4>Using RPM (Red hat and Fedora)<a class="headerlink" href="#using-rpm-red-hat-and-fedora" title="Link to this heading"></a></h4>
<p>Red Hat Package Manager (RPM) is the other package management system
popular on Linux distributions. It was developed by Red Hat and adopted
by a number of other distributions, including SUSE/OpenSUSE, Mageia,
CentOS, Oracle Linux, and others.</p>
<p>RPM package file names are based on fields that represent specific
information, as documented in the RPM standard. The standard naming
format for a binary RPM package is:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&lt;name&gt;-&lt;version&gt;-&lt;release&gt;.&lt;distro&gt;.&lt;architecture&gt;.rpm</span>
<span class="go">sed-4.5-2.e18.x86_64.rpm</span>
</pre></div>
</div>
<p>The standard naming format for a source RPM package is:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&lt;name&gt;-&lt;version&gt;-&lt;release&gt;.&lt;distro&gt;.src.rpm</span>
<span class="go">sed-4.5-2.e18.src.rpm</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">/var/lib/rpm</span></code> is the default system directory which holds RPM
database files in the form of Berkeley DB hash files. The database files
should not be manually modified; updates should be done only through the
use of the rpm program. Helper programs and scripts used by RPM reside
in <code class="docutils literal notranslate"><span class="pre">/usr/lib/rpm</span></code>. <code class="docutils literal notranslate"><span class="pre">rpmrc</span></code> file can specify default settings for
<code class="docutils literal notranslate"><span class="pre">rpm</span></code>. By default, <code class="docutils literal notranslate"><span class="pre">rpm</span></code> looks for:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">/usr/lib/rpm/rpmrc</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/etc/rpmrc</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~/.rpmrc</span></code> in the above order.</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">rpm</span>
<span class="go">-q: query</span>
<span class="go">-f: allows you to determine which package a file came from</span>
<span class="go">-l: lists the contents of a specific package</span>
<span class="go">-a: all the packages installed on the system</span>
<span class="go">-i: information about the package</span>
<span class="go">-p: run the query against a package file instead of the package database</span>
</pre></div>
</div>
<p>rpm query command examples:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">rpm -q bash                 : Which version of a package is installed?</span>
<span class="go">rpm -qf /bin/bash           : Which package did this file come from?</span>
<span class="go">rpm -ql bash                : What files were installed by this package?</span>
<span class="go">rpm -qi bash                : Show information about this package.</span>
<span class="go">rpm -qa                     :   for query, and look at all packages on the system</span>
<span class="go">&quot;rpm -e&quot; for erase</span>
<span class="go">--test</span>
<span class="go">rpm -q --requires bash      : --requires option will return a list of prerequisites for a package</span>
<span class="go">rpm -q --whatprovides bzip2 : whatprovides option will show what installed package provides a particular requisite package</span>
<span class="go">--whatrequires              :</span>
</pre></div>
</div>
<section id="installing-packages">
<h5>Installing packages<a class="headerlink" href="#installing-packages" title="Link to this heading"></a></h5>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">rpm -ivh bash-4.4.19-12.el8_0.x86_64</span>
<span class="go">-i : install</span>
<span class="go">-v : verbose,</span>
<span class="go">-h : print out hash marks to show progress.</span>
</pre></div>
</div>
<p>Tasks RPM performs when installing a package:</p>
<ul class="simple">
<li><p>Performs dependency checks</p></li>
<li><p>Performs conflict checks such as installing an already-installed package or to install an older version over a newer version.</p></li>
<li><p>Executes commands required before installation</p></li>
<li><p>Deals intelligently with configuration files: When installing a configuration file, if the file exists and has been changed since the previous version of the package was installed, RPM saves the old version with the suffix <code class="docutils literal notranslate"><span class="pre">.rpmsave</span></code>.</p></li>
<li><p>Unpacks files from packages and installs them with correct attributes</p></li>
<li><p>Executes commands required after installation</p></li>
<li><p>Updates the system RPM database</p></li>
</ul>
</section>
<section id="uninstalling-packages">
<h5>Uninstalling packages<a class="headerlink" href="#uninstalling-packages" title="Link to this heading"></a></h5>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">rpm</span>
<span class="go">-e      : uninstall (erase) a package</span>
<span class="go">--test  : determine whether the uninstall would succeed or fail, without actually doing the uninstall</span>
<span class="go">-v      : verbose</span>
</pre></div>
</div>
</section>
<section id="updating-packages">
<h5>Updating packages<a class="headerlink" href="#updating-packages" title="Link to this heading"></a></h5>
<p>Upgrading replaces the original package (if installed), as in:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">rpm -Uvh &lt;package_name&gt;</span>
</pre></div>
</div>
<p>When upgrading, the already installed package is removed after the newer
version is installed. The one exception is the configuration files from
the original installation, which are kept with a <code class="docutils literal notranslate"><span class="pre">.rpmsave</span></code> extension.</p>
<p>To downgrade with rpm -U (that is, to replace the current version with
an earlier version), add the <code class="docutils literal notranslate"><span class="pre">--oldpackage</span></code> option to the command
line.</p>
</section>
<section id="freshening-packages">
<h5>Freshening Packages<a class="headerlink" href="#freshening-packages" title="Link to this heading"></a></h5>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">rpm -Fvh *.rpm</span>
</pre></div>
</div>
<p>will attempt to freshen all the packages in the current directory. The
below rules are applied:</p>
<ul class="simple">
<li><p>If an older version of a package is installed, it will be upgraded to the newer version in the directory.</p></li>
<li><p>If the version on the system is the same as the one in the directory, nothing happens.</p></li>
<li><p>If there is no version of a package installed, the package in the directory is ignored.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">-F</span></code> option is useful when you have downloaded several new patches and want to upgrade the packages that are already installed, but not install any new ones.</p>
<p>Freshening can be useful for applying a lot of patches (i.e., upgraded packages) at once.</p>
</section>
<section id="verifying-packages">
<h5>Verifying packages<a class="headerlink" href="#verifying-packages" title="Link to this heading"></a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">-V</span></code> option to rpm allows you to verify whether the files from a
particular package are consistent with the system’s RPM database.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">rpm -Va verify all packages on the system.</span>
</pre></div>
</div>
<p>The output may contain</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">S: filesize differs</span>
<span class="go">M: mode differs (permissions and file type)</span>
<span class="go">5: MD5 sum differs</span>
<span class="go">D: device major/minor number mismatch</span>
<span class="go">L: readLink path mismatch</span>
<span class="go">U: user ownership differs</span>
<span class="go">G: group ownership differs</span>
<span class="go">T: mTime differs</span>
</pre></div>
</div>
<p>For example,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">rpm -V logrotate</span>

<span class="go">S.5....T. c /etc/logrotate.conf</span>
<span class="go">missing    /usr/sbin/logrotate</span>
</pre></div>
</div>
</section>
<section id="upgrading-the-kernel">
<h5>Upgrading the kernel<a class="headerlink" href="#upgrading-the-kernel" title="Link to this heading"></a></h5>
<p>To install a new kernel on a Red Hat-based system, do:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">rpm -ivh kernel-{version}.{arch}.rpm</span>
</pre></div>
</div>
<p>filling in the correct version and architecture names.</p>
<p>The GRUB configuration file will automatically be updated to include the
new version; it will be the default choice at boot, unless reconfigured
with anything else.</p>
</section>
<section id="other">
<h5>Other<a class="headerlink" href="#other" title="Link to this heading"></a></h5>
<p><code class="docutils literal notranslate"><span class="pre">rpm2archive</span></code> is used to convert RPM package files to tar archives. If
<code class="docutils literal notranslate"><span class="pre">-</span></code> is given as an argument, input and output will be on stdin and
stdout.</p>
<p>Convert an RPM package file to an archive:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">rpm2archive bash-XXXX.rpm       :            creates bash-XXXX.rpm.tgz.</span>
</pre></div>
</div>
<p>Extract in one step:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cat bash-XXXX.rpm | rpm2archive - | tar -xvz</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="updating-linux-system-using-a-high-level-tool">
<h3>Updating Linux System using a high-level tool<a class="headerlink" href="#updating-linux-system-using-a-high-level-tool" title="Link to this heading"></a></h3>
<p>The higher-level package management systems (such as dnf, yum, apt and
zypper) work with databases of available software and incorporate the
tools needed to find, install, update, and uninstall software in a
highly intelligent fashion.</p>
<section id="using-apt-get">
<h4>Using apt-get<a class="headerlink" href="#using-apt-get" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">apt</span></code>, <code class="docutils literal notranslate"><span class="pre">apt-get</span></code>, <code class="docutils literal notranslate"><span class="pre">apt-cache</span></code> utilities are the APT command line
tools for package management.</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">sources.list</span></code> file is the key configuration file for defining package sources (or repositories that contain packages).</p></li>
<li><p>Debian use three sections to differentiate packages according to the licenses chosen by the authors of each work:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">main</span></code> contains all packages that fully comply with the Debian Free Software Guidelines;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">non-free</span></code> contains software that does not (entirely) conform to the Free Software Guidelines but can nevertheless be distributed without restrictions; and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">contrib</span></code> (contributions) includes open source software that cannot function without some non-free elements.</p></li>
</ul>
</li>
</ul>
<section id="queries">
<h5>Queries<a class="headerlink" href="#queries" title="Link to this heading"></a></h5>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">apt-cache search &quot;Keywords&quot;            : Search package name based on keywords.</span>
<span class="go">apt-cache search -n &quot;Keywords&quot;         : Show packages that has keyword in the packagename</span>
<span class="go">apt-cache pkgnames [prefix]            : Prints the name of each package APT knows; Prefix match to filter the name list</span>
<span class="go">apt-cache show  &quot;Package name&quot;         : Shows what package is used for.</span>
<span class="go">apt-cache policy &lt;packageName&gt;         : Provides information of all available package versions.</span>
<span class="go">apt-cache showpkg package_name         : Displays detailed information about the package</span>
<span class="go">apt-cache depends package_name         : Lists all dependent packages for package_name</span>
<span class="go">apt-cache rdepends package_name        : rdepends shows a listing of each reverse dependency a package has</span>
<span class="go">apt-file search file_name              : Searches the repository for a file</span>
<span class="go">apt-file list package_name             : Lists all files in the package</span>
<span class="go">apt-cache search metapackage           : Provide list of group of packages maintained</span>
</pre></div>
</div>
</section>
<section id="installing-removing-upgrading-packages">
<h5>Installing/Removing/Upgrading Packages<a class="headerlink" href="#installing-removing-upgrading-packages" title="Link to this heading"></a></h5>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">apt-get install &quot;Package Name&quot;         : Install the package.</span>
<span class="go">apt-get remove  &quot;Package Name&quot;         : Uninstall the package.</span>
<span class="go">apt-get purge   &quot;Package Name&quot;         : Removes the package as well as the configuration files.</span>
<span class="go">apt-get update                         : Sync with Repositories.</span>
<span class="go">apt-get upgrade                        : Upgrade installed packages.</span>
<span class="go">apt-get dist-upgrade                   : Upgrade distribution packages.</span>
<span class="go">apt-get autoremove                     : Remove unwanted packages (such as older linux kernel versions)</span>
<span class="go">apt-get clean                          : Cleans out cache files and any archived package files</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>As mostly, updating takes time, you can club all the commands like <code class="docutils literal notranslate"><span class="pre">apt-get</span> <span class="pre">update</span> <span class="pre">&amp;&amp;</span> <span class="pre">apt-get</span> <span class="pre">upgrade</span> <span class="pre">&amp;&amp;</span> <span class="pre">apt-get</span> <span class="pre">dist-upgrade</span> <span class="pre">&amp;&amp;</span>&#160; <span class="pre">poweroff</span></code>. <code class="docutils literal notranslate"><span class="pre">poweroff</span></code> would shut down the system after everything is updated.</p>
</div>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">sources.list</span></code> lists several distributions, we can specify the package version with <code class="docutils literal notranslate"><span class="pre">apt</span> <span class="pre">install</span> <span class="pre">package=version</span></code>.</p></li>
<li><p>Through the addition of suffixes to package names, we can use apt (or apt-get and aptitude) to install certain packages and remove others on the same command line.</p>
<ul>
<li><p>With an <code class="docutils literal notranslate"><span class="pre">apt</span> <span class="pre">install</span></code> command, add <code class="docutils literal notranslate"><span class="pre">-</span></code> to the names of the packages to remove. With an <code class="docutils literal notranslate"><span class="pre">apt</span> <span class="pre">remove</span></code> command, add <code class="docutils literal notranslate"><span class="pre">+</span></code> to the names of the packages to install.</p></li>
</ul>
</li>
</ul>
</section>
<section id="apt-configuration">
<h5>apt configuration<a class="headerlink" href="#apt-configuration" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>Files in <code class="docutils literal notranslate"><span class="pre">/etc/apt/apt.conf.d/</span></code> are instructions for the configuration of APT. APT processes the files in alphabetical order, so that the later files can modify configuration elements defined in the earlier files.</p></li>
<li><p>We can alter APT’s behavior through command-line arguments to dpkg. For example, the below performs a forced overwrite install of zsh:</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>apt<span class="w"> </span>-o<span class="w"> </span>Dpkg::Options::<span class="o">=</span><span class="s2">&quot;--force-overwrite&quot;</span><span class="w"> </span>install<span class="w"> </span>zsh
</pre></div>
</div>
<ul>
<li><p>The above (and any other) directive can be added to a file in <code class="docutils literal notranslate"><span class="pre">/etc/apt/apt.conf.d/</span></code>. A common convention for file name is to use either local or 99local:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cat<span class="w"> </span>/etc/apt/apt.conf.d/99local
<span class="go">Dpkg::Options {</span>
<span class="go">   &quot;--force-overwrite&quot;;</span>
<span class="go">}</span>
</pre></div>
</div>
</li>
<li><p>Another configuration requiring web and FTP network proxy can be</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Acquire::http::proxy &quot;http://yourproxy:3128&quot; (HTTP proxy)</span>
<span class="go">Acquire::ftp::proxy &quot;ftp://yourproxy&quot; (FTP proxy)</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="package-priorities">
<h5>Package Priorities<a class="headerlink" href="#package-priorities" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>APT configuration also allows the management of the priorities associated with each package source.</p></li>
<li><p>We can modify the priorities by adding entries in the <code class="docutils literal notranslate"><span class="pre">/etc/apt/preferences</span></code> file with the names of the affected packages, their version, their origin and their new priority.</p></li>
<li><p>APT defines several default priorities.</p>
<ul>
<li><p>Each installed package version has a priority of 100.</p></li>
<li><p>A non-installed version has a priority of 500 by default but it can jump to 990 if it is part of the target release (defined with the -t command-line option or the APT::Default-Release configuration directive).</p></li>
</ul>
</li>
<li><p>Package priorities</p>
<ul>
<li><p>A package whose priority is less than 0 will never be installed.</p></li>
<li><p>A package with a priority ranging between 0 and 100 will only be installed if no other version of the package is already installed.</p></li>
<li><p>With a priority between 100 and 500, the package will only be installed if there is no other newer version installed or available in another distribution.</p></li>
<li><p>A package of priority between 501 and 990 will only be installed if there is no newer version installed or available in the target distribution.</p></li>
<li><p>With a priority between 990 and 1000, the package will be installed except if the installed version is newer.</p></li>
<li><p>A priority greater than 1000 will always lead to the installation of the package even if it forces APT to downgrade to an older version.</p></li>
</ul>
</li>
</ul>
<p>For example: If there are several local programs depending on the version 5.22 of Perl and that we want to ensure that upgrades will not install another version of it.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ExplanationL Multiple packages dependent on perl 5.22</span>
<span class="go">Package: perl</span>
<span class="go">Pin: version 5.22*</span>
<span class="go">Pin-Priority: 1001</span>
</pre></div>
</div>
</section>
<section id="working-with-different-distributions">
<h5>Working with different distributions<a class="headerlink" href="#working-with-different-distributions" title="Link to this heading"></a></h5>
<p>There might be cases where we might want to try out a software package available in Debian Unstable, or Debian Experimental without diverging too much from the system’s initial state.</p>
<ul class="simple">
<li><p>First, list all distributions used in <code class="docutils literal notranslate"><span class="pre">/etc/apt/sources.list</span></code> and define your reference distribution with the <code class="docutils literal notranslate"><span class="pre">APT::Default-Release</span></code> parameter.</p></li>
<li><p>In this case, we can use <code class="docutils literal notranslate"><span class="pre">apt</span> <span class="pre">install</span> <span class="pre">package/unstable</span></code> to install a package from Debian Unstable. If the installation fails due to some unsatisfiable dependencies, let it solve those dependencies within Unstable by adding the <code class="docutils literal notranslate"><span class="pre">-t</span> <span class="pre">unstable</span></code> parameter.</p></li>
<li><p>In this situation, upgrades (upgrade and full-upgrade) are done within Debian stable except for packages already upgraded to another distribution: those will follow updates available in the other distributions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">apt-cache</span> <span class="pre">policy</span></code> cam be used to verify the given priorities. We can use <code class="docutils literal notranslate"><span class="pre">apt-cache</span> <span class="pre">policy</span> <span class="pre">package</span></code> to display the priorities of all available versions of a given package.</p></li>
</ul>
</section>
<section id="tracking-automatically-installed-packages">
<h5>Tracking automatically installed packages<a class="headerlink" href="#tracking-automatically-installed-packages" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>apt tracks the packages installed only through dependencies often known as automatic and often include libraries.</p></li>
<li><p>When packages are removed, the package managers can compute a list of automatic packages that are no longer needed (because there are no manually installed packages depending on them).</p></li>
<li><p>The command <code class="docutils literal notranslate"><span class="pre">apt</span> <span class="pre">autoremove</span></code> will get rid of those packages.</p></li>
<li><p>It is a good habit to mark as automatic any package that we don’t need directly so that they are automatically removed when they aren’t necessary anymore.</p></li>
<li><p>We can use <code class="docutils literal notranslate"><span class="pre">apt-mark</span> <span class="pre">auto</span> <span class="pre">package</span></code> to mark the given package as automatic, whereas <code class="docutils literal notranslate"><span class="pre">apt-mark</span> <span class="pre">manual</span> <span class="pre">package</span></code> does the opposite.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aptitude</span> <span class="pre">markauto</span></code> and aptitude unmarkauto work in the same way, although they offer more features for marking many packages at once.</p></li>
<li><p>We can use <code class="docutils literal notranslate"><span class="pre">aptitude</span> <span class="pre">why</span> <span class="pre">package</span></code> to know why an automatically installed package is present on the system.</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>aptitude<span class="w"> </span>why<span class="w"> </span>python-debian
<span class="go">i   aptitude         Recommends apt-xapian-index</span>
<span class="go">i A apt-xapian-index Depends    python-debian (&gt;= 0.1.15)</span>
</pre></div>
</div>
</section>
<section id="multi-arch-support">
<h5>Multi-Arch Support<a class="headerlink" href="#multi-arch-support" title="Link to this heading"></a></h5>
<ul>
<li><p>All Debian packages have an <code class="docutils literal notranslate"><span class="pre">Architecture</span></code> field in their control information. The field can contain either <code class="docutils literal notranslate"><span class="pre">all</span></code> (for packages that are architecture-independent) or the name of the architecture that it targets (like <code class="docutils literal notranslate"><span class="pre">amd64</span></code>, or <code class="docutils literal notranslate"><span class="pre">armhf</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dpkg</span></code> will only install the package if its architecture matches the host’s architecture as returned by <code class="docutils literal notranslate"><span class="pre">dpkg</span> <span class="pre">--print-architecture</span></code>.</p></li>
<li><p>Multi-arch support for <code class="docutils literal notranslate"><span class="pre">dpkg</span></code> allows users to define foreign architectures that can be installed on the current system using <code class="docutils literal notranslate"><span class="pre">dpkg</span> <span class="pre">--add-architecture</span></code>. Foreign packages can then be installed with <code class="docutils literal notranslate"><span class="pre">apt</span> <span class="pre">install</span> <span class="pre">package:architecture</span></code>.</p></li>
<li><p>To make multi-arch actually useful and usable, libraries had to be repackaged and moved to an architecture-specific directory so that multiple copies (targeting different architectures) can be installed alongside one another. Such updated packages contain the <code class="docutils literal notranslate"><span class="pre">Multi-Arch:</span> <span class="pre">same</span></code> header field to tell the packaging system that the various architectures of the package can be safely co-installed (and that those packages can only satisfy dependencies of packages of the same architecture).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dpkg<span class="w"> </span>-s<span class="w"> </span>libwine
<span class="go">dpkg-query: error: --status needs a valid package name but &#39;libwine&#39; is not: ambiguous package name &#39;libwine&#39; with more than one installed instance</span>

<span class="go">Use --help for help about querying packages.</span>
<span class="gp">$ </span>dpkg<span class="w"> </span>-s<span class="w"> </span>libwine:amd64<span class="w"> </span>libwine:i386<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>^Multi
<span class="go">Multi-Arch: same</span>
<span class="go">Multi-Arch: same</span>
<span class="gp">$ </span>dpkg<span class="w"> </span>-L<span class="w"> </span>libgcc1:amd64<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>.so
<span class="go">[...]</span>
<span class="go">/usr/lib/x86_64-linux-gnu/wine/libwine.so.1</span>
<span class="gp">$ </span>dpkg<span class="w"> </span>-S<span class="w"> </span>/usr/share/doc/libwine/copyright
<span class="go">libwine:amd64, libwine:i386: /usr/share/doc/libwine/copyright</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="validating-package-authority">
<h5>Validating Package authority<a class="headerlink" href="#validating-package-authority" title="Link to this heading"></a></h5>
<ul>
<li><p>System upgrades are very sensitive operations and we really want to ensure that you only install official packages from the official repositories.</p></li>
<li><p>To circumvent this risk, Debian provides a tamper-proof seal to guarantee—at install time—that a package really comes from its official maintainer and hasn’t been modified by a third party.</p></li>
<li><p>The seal works with a chain of cryptographic hashes and a signature. The signed file is the <code class="docutils literal notranslate"><span class="pre">Release</span></code> file, provided in the mirrors. It contains a list of the Packages files (including their compressed forms, <code class="docutils literal notranslate"><span class="pre">Packages.gz</span></code> and <code class="docutils literal notranslate"><span class="pre">Packages.xz</span></code>, and the incremental versions), along with their MD5, SHA1, and SHA256 hashes, which ensures that the files haven’t been tampered with. These <code class="docutils literal notranslate"><span class="pre">Packages</span></code> files contain a list of the Debian packages available on the mirror along with their hashes, which ensures in turn that the contents of the packages themselves haven’t been altered either.</p></li>
<li><p>The trusted keys are managed with the <code class="docutils literal notranslate"><span class="pre">apt-key</span></code> that maintains a keyring of GnuPG public keys, which are used to verify signatures in the <code class="docutils literal notranslate"><span class="pre">Release.gpg</span></code> files available on the mirrors. It can be used to add new keys manually (when non-official mirrors are needed).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">apt-key list</span>
<span class="go">Warning: apt-key is deprecated. Manage keyring files in trusted.gpg.d instead (see apt-key(8)).</span>
<span class="go">/etc/apt/trusted.gpg.d/ubuntu-keyring-2012-cdimage.gpg</span>
<span class="go">------------------------------------------------------</span>
<span class="go">pub   rsa4096 2012-05-11 [SC]</span>
<span class="go">      8439 38DF 228D 22F7 B374  2BC0 D94A A3F0 EFE2 1092</span>
<span class="go">uid           [ unknown] Ubuntu CD Image Automatic Signing Key (2012) &lt;cdimage@ubuntu.com&gt;</span>

<span class="go">/etc/apt/trusted.gpg.d/ubuntu-keyring-2018-archive.gpg</span>
<span class="go">------------------------------------------------------</span>
<span class="go">pub   rsa4096 2018-09-17 [SC]</span>
<span class="go">      F6EC B376 2474 EDA9 D21B  7022 8719 20D1 991B C93C</span>
<span class="go">uid           [ unknown] Ubuntu Archive Automatic Signing Key (2018) &lt;ftpmaster@ubuntu.com&gt;</span>
</pre></div>
</div>
</li>
<li><p>When a third-party package source is added to the <code class="docutils literal notranslate"><span class="pre">sources.list</span></code> file, APT needs to be told to trust the corresponding GPG authentication key (otherwise it will keep complaining that it can’t ensure the authenticity of the packages coming from that repository).</p>
<ul class="simple">
<li><p>The first step is of course to get the public key. More often than not, the key will be provided as a small text file <code class="docutils literal notranslate"><span class="pre">key.asc</span></code>.</p></li>
<li><p>To add the key to the trusted keyring, the administrator can run <code class="docutils literal notranslate"><span class="pre">apt-key</span> <span class="pre">add</span> <span class="pre">&lt;</span> <span class="pre">key.asc</span></code>.</p></li>
<li><p>Another way is to use the <code class="docutils literal notranslate"><span class="pre">synaptic</span></code> graphical interface: its Authentication tab in the <code class="docutils literal notranslate"><span class="pre">Settings</span> <span class="pre">→</span> <span class="pre">Repositories</span></code> menu provides the ability to import a key from the <code class="docutils literal notranslate"><span class="pre">key.asc</span></code> file.</p></li>
</ul>
</li>
</ul>
</section>
<section id="deep-dive-apt">
<h5>Deep-dive APT<a class="headerlink" href="#deep-dive-apt" title="Link to this heading"></a></h5>
<p>We would look inside the packages and look at the internal meta-information (or information about other information) used by the package management tools.</p>
<p>This combination of a file archive and of meta-information is directly visible in the structure of a <code class="docutils literal notranslate"><span class="pre">.deb</span></code> file, which is simply an <code class="docutils literal notranslate"><span class="pre">ar</span></code> archive, concatenating three files:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ar<span class="w"> </span>t<span class="w"> </span>xxd_2%3a8.2.3995-1ubuntu2.10_armhf.deb
<span class="go">debian-binary</span>
<span class="go">control.tar.zst</span>
<span class="go">data.tar.zst</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">debian-binary</span></code> file contains a single version number describing the format of the archive:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$  </span>ar<span class="w"> </span>p<span class="w"> </span>xxd_2%3a8.2.3995-1ubuntu2.10_armhf.deb<span class="w"> </span>debian-binary
<span class="go">2.0</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">control.tar.gz</span></code> archive contains meta-information:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ar<span class="w"> </span>p<span class="w"> </span>/var/cache/apt/archives/apt_1.4~beta1_amd64.deb<span class="w"> </span>control.tar.gz<span class="w"> </span><span class="p">|</span><span class="w"> </span>tar<span class="w"> </span>-tzf<span class="w"> </span>-
<span class="go">./</span>
<span class="go">./conffiles</span>
<span class="go">./control</span>
<span class="go">./md5sums</span>
<span class="go">./postinst</span>
<span class="go">./postrm</span>
<span class="go">./preinst</span>
<span class="go">./prerm</span>
<span class="go">./shlibs</span>
<span class="go">./triggers</span>
</pre></div>
</div>
<p>And finally, the <code class="docutils literal notranslate"><span class="pre">data.tar.xz</span></code> archive (the compression format might vary) contains the actual files to be installed on the file system:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ar<span class="w"> </span>p<span class="w"> </span>/var/cache/apt/archives/apt_1.4~beta1_amd64.deb<span class="w"> </span>data.tar.xz<span class="w"> </span><span class="p">|</span><span class="w"> </span>tar<span class="w"> </span>-tJf<span class="w"> </span>-
<span class="go">./</span>
<span class="go">./etc/</span>
<span class="go">./etc/apt/</span>
<span class="go">./etc/apt/apt.conf.d/</span>
<span class="go">./etc/apt/apt.conf.d/01autoremove</span>
<span class="go">./etc/apt/preferences.d/</span>
<span class="go">./etc/apt/sources.list.d/</span>
</pre></div>
</div>
<section id="the-control-file">
<h6>The control file<a class="headerlink" href="#the-control-file" title="Link to this heading"></a></h6>
<p><code class="docutils literal notranslate"><span class="pre">control</span></code> file is contained in the <code class="docutils literal notranslate"><span class="pre">control.tar.gz</span></code> archive. The <code class="docutils literal notranslate"><span class="pre">control</span></code> file contains the most vital information about the package. It uses a structure similar to email headers and can be viewed with the <code class="docutils literal notranslate"><span class="pre">dpkg</span> <span class="pre">-I</span> <span class="pre">command</span></code>. For example, the control file for apt looks like this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dpkg<span class="w"> </span>-I<span class="w"> </span>apt_1.4~beta1_amd64.deb<span class="w"> </span>control
<span class="go">Package: apt</span>
<span class="go">Version: 1.4~beta1</span>
<span class="go">Architecture: amd64</span>
<span class="go">Maintainer: APT Development Team</span>
<span class="go">Installed-Size: 3478</span>
<span class="go">Depends: adduser, gpgv | gpgv2 | gpgv1, debian-archive-keyring, init-system-helpers (&gt;= 1.18~), libapt-pkg5.0 (&gt;= 1.3~rc2), libc6 (&gt;= 2.15), libgcc1 (&gt;= 1:3.0), libstdc++6 (&gt;= 5.2)</span>
<span class="go">Recommends: gnupg | gnupg2 | gnupg1</span>
<span class="go">Suggests: apt-doc, aptitude | synaptic | wajig, dpkg-dev (&gt;= 1.17.2), powermgmt-base, python-apt</span>
<span class="go">Breaks: apt-utils (&lt;&lt; 1.3~exp2~)</span>
<span class="go">Replaces: apt-utils (&lt;&lt; 1.3~exp2~)</span>
<span class="go">Section: admin</span>
<span class="go">Priority: important</span>
<span class="go">Description: commandline package manager</span>
<span class="go"> This package provides commandline tools for searching and</span>
<span class="go"> managing as well as querying information about packages</span>
<span class="go"> as a low-level access to all features of the libapt-pkg library.</span>
<span class="go"> .</span>
<span class="go"> These include:</span>
<span class="go">  * apt-get for retrieval of packages and information about them</span>
<span class="go">    from authenticated sources and for installation, upgrade and</span>
<span class="go">    removal of packages together with their dependencies</span>
<span class="go">  * apt-cache for querying available information about installed</span>
<span class="go">    as well as installable packages</span>
<span class="go">  * apt-cdrom to use removable media as a source for packages</span>
<span class="go">  * apt-config as an interface to the configuration settings</span>
<span class="go">  * apt-key as an interface to manage authentication keys</span>
</pre></div>
</div>
<p>Dependencies: the Depends Field</p>
<ul class="simple">
<li><p>The package dependencies are defined in the <code class="docutils literal notranslate"><span class="pre">Depends</span></code> field in the package header.</p></li>
<li><p>It is a list of conditions to be met for the package to work correctly—this information is used by tools such as apt in order to install the required libraries, in appropriate versions fulfilling the dependencies of the package to be installed.</p></li>
<li><p>The dependencies system is a good mechanism for guaranteeing the operation of a program but it has another use with metapackages. These are empty packages that only describe dependencies. They facilitate the installation of a consistent group of programs preselected by the metapackage maintainer; as such, apt install metapackage will automatically install all of these programs using the metapackage’s dependencies.</p></li>
</ul>
<p>Pre-Depends, a More Demanding Depend</p>
<ul class="simple">
<li><p>Pre-dependencies, which are listed in the <code class="docutils literal notranslate"><span class="pre">Pre-Depends</span></code> field in the package headers, complete the normal dependencies; their syntax is identical. A normal dependency indicates that the package in question must be unpacked and configured before configuration of the package declaring the dependency. A pre-dependency stipulates that the package in question must be unpacked and configured before execution of the pre-installation script of the package declaring the pre-dependency, that is before its installation.</p></li>
</ul>
<p>Recommends, Suggests, and Enhances Fields</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">Recommends</span></code> and <code class="docutils literal notranslate"><span class="pre">Suggests</span></code> fields describe dependencies that are not compulsory. The recommended dependencies, the most important, considerably improve the functionality offered by the package but are not indispensable to its operation. The suggested dependencies, of secondary importance, indicate that certain packages may complement and increase their respective utility, but it is perfectly reasonable to install one without the others.</p></li>
<li><p>The Enhances field also describes a suggestion, but in a different context. It is indeed located in the suggested package, and not in the package that benefits from the suggestion.</p></li>
</ul>
<p>Conflicts: the Conflicts Field</p>
<ul class="simple">
<li><p>The Conflicts field indicates when a package cannot be installed simultaneously with another. The most common reasons for this are that both packages include a file of the same name, provide the same service on the same transmission control protocol (TCP) port, or would hinder each other’s operation.</p></li>
</ul>
<p>Incompatibilities: the Breaks Field</p>
<ul class="simple">
<li><p>The Breaks field has an effect similar to that of the Conflicts field, but with a special meaning. It signals that the installation of a package will break another package (or particular versions of it). In general, this incompatibility between two packages is transitory and the Breaks relationship specifically refers to the incompatible versions.</p></li>
</ul>
<p>Provided Items: the Provides Field</p>
<ul class="simple">
<li><p>This field introduces the very interesting concept of a virtual package. It has many roles, but two are of particular importance.</p>
<ul>
<li><p>The first role consists in using a virtual package to associate a generic service with it (the package provides the service).</p></li>
<li><p>The second indicates that a package completely replaces another and that for this purpose, it can also satisfy the dependencies that the other would satisfy. It is thus possible to create a substitution package without having to use the same package name.</p></li>
</ul>
</li>
</ul>
<p>Metapackage and Virtual Package</p>
<ul class="simple">
<li><p>It is essential to clearly distinguish metapackages from virtual packages. The former are real packages (including real .deb files), whose only purpose is to express dependencies.</p></li>
<li><p>Virtual packages, however, do not exist physically; they are only a means of identifying real packages based on common, logical criteria (for example, service provided, or compatibility with a standard program or a pre-existing package).</p></li>
</ul>
<p>Replacing Files: The Replaces Field</p>
<ul class="simple">
<li><p>The Replaces field indicates that the package contains files that are also present in another package, but that the package is legitimately entitled to replace them.</p></li>
</ul>
</section>
<section id="configuration-scripts">
<h6>Configuration Scripts<a class="headerlink" href="#configuration-scripts" title="Link to this heading"></a></h6>
<p>In addition to the <code class="docutils literal notranslate"><span class="pre">control</span></code> file, the <code class="docutils literal notranslate"><span class="pre">control.tar.gz</span></code> archive for each Debian package may contain a number of scripts (<code class="docutils literal notranslate"><span class="pre">postinst</span></code>, <code class="docutils literal notranslate"><span class="pre">postrm</span></code>, <code class="docutils literal notranslate"><span class="pre">preinst</span></code>, <code class="docutils literal notranslate"><span class="pre">prerm</span></code>) called by <code class="docutils literal notranslate"><span class="pre">dpkg</span></code> at different stages in the processing of a package.
We can use <code class="docutils literal notranslate"><span class="pre">dpkg</span> <span class="pre">-I</span></code> to show these files as they reside in a <code class="docutils literal notranslate"><span class="pre">.deb</span></code> package archive:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dpkg<span class="w"> </span>-I<span class="w"> </span>/var/cache/apt/archives/zsh_5.3-1_amd64.deb<span class="w"> </span><span class="p">|</span><span class="w"> </span>head
<span class="go"> new debian package, version 2.0.</span>
<span class="go"> size 814486 bytes: control archive=2557 bytes.</span>
<span class="go">     838 bytes,    20 lines      control</span>
<span class="go">    3327 bytes,    43 lines      md5sums</span>
<span class="go">     969 bytes,    41 lines   *  postinst             #!/bin/sh</span>
<span class="go">     348 bytes,    20 lines   *  postrm               #!/bin/sh</span>
<span class="go">     175 bytes,     5 lines   *  preinst              #!/bin/sh</span>
<span class="go">     175 bytes,     5 lines   *  prerm                #!/bin/sh</span>
<span class="go"> Package: zsh</span>
<span class="go"> Version: 5.3-1</span>
<span class="gp">$ </span>dpkg<span class="w"> </span>-I<span class="w"> </span>zsh_5.3-1_amd64.deb<span class="w"> </span>preinst
<span class="gp">#</span>!/bin/sh
<span class="go">set -e</span>
<span class="gp"># </span>Automatically<span class="w"> </span>added<span class="w"> </span>by<span class="w"> </span>dh_installdeb
<span class="go">dpkg-maintscript-helper symlink_to_dir /usr/share/doc/zsh zsh-common 5.0.7-3 -- &quot;$@&quot;</span>
<span class="gp"># </span>End<span class="w"> </span>automatically<span class="w"> </span>added<span class="w"> </span>section
</pre></div>
</div>
<p>The <a class="reference external" href="https://www.debian.org/doc/debian-policy/ch-maintainerscripts.html">Debian Policy</a> describes each of these files in detail, specifying the scripts called and the arguments they receive. These sequences may be complicated, since if one of the scripts fails, dpkg will try to return to a satisfactory state by canceling the installation or removal in progress (insofar as it is possible).</p>
</section>
<section id="the-pkg-database">
<h6>The pkg database<a class="headerlink" href="#the-pkg-database" title="Link to this heading"></a></h6>
<p>The pkg Database</p>
<ul class="simple">
<li><p>We can traverse the dpkg database on the filesystem at <code class="docutils literal notranslate"><span class="pre">/var/lib/dpkg/</span></code>. This directory contains a running record of all the packages that have been installed on the system. All of the configuration scripts for installed packages are stored in the <code class="docutils literal notranslate"><span class="pre">/var/lib/dpkg/info/</span></code> directory, in the form of a file prefixed with the package’s name:</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ls<span class="w"> </span>/var/lib/dpkg/info/zsh.*
<span class="go">/var/lib/dpkg/info/zsh.list</span>
<span class="go">/var/lib/dpkg/info/zsh.md5sums</span>
<span class="go">/var/lib/dpkg/info/zsh.postinst</span>
<span class="go">/var/lib/dpkg/info/zsh.postrm</span>
<span class="go">/var/lib/dpkg/info/zsh.preinst</span>
<span class="go">/var/lib/dpkg/info/zsh.prerm</span>
</pre></div>
</div>
<p>This directory also includes a file with the .list extension for each package, containing the list of files that belong to that package:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>head<span class="w"> </span>/var/lib/dpkg/info/zsh.list
<span class="go">/.</span>
<span class="go">/bin</span>
<span class="go">/bin/zsh</span>
<span class="go">/bin/zsh5</span>
<span class="go">/usr</span>
<span class="go">/usr/lib</span>
<span class="go">/usr/lib/x86_64-linux-gnu</span>
<span class="go">/usr/lib/x86_64-linux-gnu/zsh</span>
<span class="go">/usr/lib/x86_64-linux-gnu/zsh/5.2</span>
<span class="go">/usr/lib/x86_64-linux-gnu/zsh/5.2/zsh</span>
<span class="go">[...]</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">/var/lib/dpkg/status</span></code> file contains a series of data blocks describing the status of each package. The information from the control file of the installed packages is also replicated there.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>more<span class="w"> </span>/var/lib/dpkg/status
<span class="go">Package: gnome-characters</span>
<span class="go">Status: install ok installed</span>
<span class="go">Priority: optional</span>
<span class="go">Section: gnome</span>
<span class="go">Installed-Size: 1785</span>
<span class="go">Maintainer: Debian GNOME Maintainers</span>
<span class="go">Architecture: amd64</span>
<span class="go">Version: 3.20.1-1</span>
<span class="go">[...]</span>
</pre></div>
</div>
<p>In general, the preinst script is executed prior to installation of the package, while the postinst follows it. Likewise, prerm is invoked before removal of a package and postrm afterwards. An update of a package is equivalent to removal of the previous version and installation of the new one</p>
<p>Installation and Upgrade Script Sequence</p>
<p>Here is what happens during an installation (or an update):</p>
<ul class="simple">
<li><p>For an update, <code class="docutils literal notranslate"><span class="pre">dpkg</span></code> calls the <code class="docutils literal notranslate"><span class="pre">old-prerm</span> <span class="pre">upgrade</span> <span class="pre">new-version</span></code>.</p></li>
<li><p>Still for an update, <code class="docutils literal notranslate"><span class="pre">dpkg</span></code> then executes <code class="docutils literal notranslate"><span class="pre">new-preinst</span> <span class="pre">upgrade</span> <span class="pre">old-version</span></code>; for a first installation, it executes <code class="docutils literal notranslate"><span class="pre">new-preinst</span> <span class="pre">install</span></code>. It may add the old version in the last parameter if the package has already been installed and removed (but not purged, the configuration files having been retained).</p></li>
<li><p>The new package files are then unpacked. If a file already exists, it is replaced, but a backup copy is made and temporarily stored.</p></li>
<li><p>For an update, <code class="docutils literal notranslate"><span class="pre">dpkg</span></code> executes <code class="docutils literal notranslate"><span class="pre">old-postrm</span> <span class="pre">upgrade</span> <span class="pre">new-version</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dpkg</span></code> updates all of the internal data (file list, configuration scripts, etc.) and removes the backups of the replaced files. This is the point of no return: <code class="docutils literal notranslate"><span class="pre">dpkg</span></code> no longer has access to all of the elements necessary to return to the previous state.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dpkg</span></code> will update the configuration files, prompting you to decide if it is unable to automatically manage this task.</p></li>
<li><p>Finally, <code class="docutils literal notranslate"><span class="pre">dpkg</span></code> configures the package by executing <code class="docutils literal notranslate"><span class="pre">new-postinst</span> <span class="pre">configure</span> <span class="pre">last-version-configured</span></code>.</p></li>
</ul>
<p>Package Removal</p>
<p>Here is what happens during a package removal.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dpkg</span></code> calls <code class="docutils literal notranslate"><span class="pre">prerm</span> <span class="pre">remove</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dpkg</span></code> removes all of the package’s files, with the exception of the configuration files and configuration scripts.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dpkg</span></code> executes <code class="docutils literal notranslate"><span class="pre">postrm</span> <span class="pre">remove</span></code>. All of the configuration scripts, except <code class="docutils literal notranslate"><span class="pre">postrm</span></code>, are removed. If you have not used the <code class="docutils literal notranslate"><span class="pre">purge</span></code> option, the process stops here.</p></li>
<li><p>For a complete purge of the package (command issued with <code class="docutils literal notranslate"><span class="pre">dpkg</span> <span class="pre">--purge</span></code> or <code class="docutils literal notranslate"><span class="pre">dpkg</span> <span class="pre">-P</span></code>), the configuration files are also deleted, as well as a certain number of copies (<code class="docutils literal notranslate"><span class="pre">*.dpkg-tmp,</span> <span class="pre">*.dpkg-old,</span> <span class="pre">*.dpkg-new</span></code>) and temporary files; <code class="docutils literal notranslate"><span class="pre">dpkg</span></code> then executes <code class="docutils literal notranslate"><span class="pre">postrm</span> <span class="pre">purge</span></code>.</p></li>
</ul>
<p>The debconf tool has many interesting features:</p>
<ul class="simple">
<li><p>It requires the developer to specify user interaction;</p></li>
<li><p>It allows localization of all the displayed strings (all translations are stored in the templates file describing the interactions);</p></li>
<li><p>It provides different frontends for questions (text mode, graphical mode, non-interactive); and</p></li>
<li><p>It allows creation of a central database of responses to share the same configuration with several computers.</p></li>
<li><p>The most important feature is that all of the questions can be presented in a row, all at once, prior to starting a long installation or update process.</p></li>
</ul>
<p>Checksums, Conffiles
In addition to the maintainer scripts and control data already mentioned in the previous sections, the control.tar.gz archive of a Debian package may contain other interesting files:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>ar<span class="w"> </span>p<span class="w"> </span>/var/cache/apt/archives/bash_4.4-2_amd64.deb<span class="w"> </span>control.tar.gz<span class="w"> </span><span class="p">|</span><span class="w"> </span>tar<span class="w"> </span>-tzf<span class="w"> </span>-
<span class="go">./</span>
<span class="go">./conffiles</span>
<span class="go">./control</span>
<span class="go">./md5sums</span>
<span class="go">./postinst</span>
<span class="go">./postrm</span>
<span class="go">./preinst</span>
<span class="go">./prerm</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The first <code class="docutils literal notranslate"><span class="pre">md5sums</span></code> contains the MD5 checksums for all of the package’s files. Its main advantage is that it allows <code class="docutils literal notranslate"><span class="pre">dpkg</span> <span class="pre">--verify</span></code> to check if these files have been modified since their installation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">conffiles</span></code> lists package files that must be handled as configuration files. Configuration files can be modified by the administrator, and <code class="docutils literal notranslate"><span class="pre">dpkg</span></code> will try to preserve those changes during a package update.</p></li>
<li><p>In effect, in this situation, dpkg behaves as intelligently as possible:</p></li>
<li><p>if the standard configuration file has not changed between the two versions, it does nothing.</p></li>
<li><p>If, however, the file has changed, it will try to update this file.</p>
<ul>
<li><p>Two cases are possible:</p>
<ul>
<li><p>either the administrator has not touched this configuration file, in which case dpkg automatically installs the new version; or</p></li>
<li><p>the file has been modified, in which case dpkg asks the administrator which version they wish to use (the old one with modifications, or the new one provided with the package).</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
</section>
</section>
<section id="using-dnf">
<h4>Using dnf<a class="headerlink" href="#using-dnf" title="Link to this heading"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">dnf</span></code> program provides a higher level of intelligent services for
using the underlying <code class="docutils literal notranslate"><span class="pre">rpm</span></code> program. It can automatically resolve
dependencies when installing, updating and removing packages. It
accesses external software repositories, synchronizing with them and
retrieving and installing software as needed.</p>
<p>The configuration files for repositories are located in the
<code class="docutils literal notranslate"><span class="pre">/etc/yum.repos.d</span></code> directory and have a <code class="docutils literal notranslate"><span class="pre">.repo</span></code> extension.</p>
<p>A very simple repo file might look like:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">[repo-name]</span>
<span class="go">    name=Description of the repository</span>
<span class="go">    baseurl=ht‌tp://example.com/path/to/repo</span>
<span class="go">    mirrorlist=ht‌tp://example.com/path/to/mirrorlist</span>
<span class="go">    enabled=1</span>
<span class="go">    gpgcheck=1</span>
</pre></div>
</div>
<section id="query-packages">
<h5>Query packages<a class="headerlink" href="#query-packages" title="Link to this heading"></a></h5>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">dnf search keyword                          : Searches for package with keyword in it</span>
<span class="go">dnf info package-name                       : Displays information about a package</span>
<span class="go">dnf list [installed | updates | available ] : Lists packages installed, available, or updates</span>
<span class="go">dnf list package_name                       : list packages that contain a reference to package_name</span>
<span class="go">dnf deplist package_name                    : list packages that contain a reference to package_name</span>
<span class="go">dnf grouplist                               : Shows information about package groups installed, available and updates</span>
<span class="go">dnf groupinfo packagegroup                  : Shows information about a package group</span>
<span class="go">dnf provides /path/to/file                  : Shows the owner of the package for file</span>
</pre></div>
</div>
</section>
<section id="installingremovingupgrading-packages-1">
<span id="id10"></span><h5>Installing/Removing/Upgrading Packages<a class="headerlink" href="#installingremovingupgrading-packages-1" title="Link to this heading"></a></h5>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">dnf install package           : Installs a package</span>
<span class="go">dnf localinstall package-file : Installs a package from a local rpm file</span>
<span class="go">dnf groupinstall &#39;group-name&#39; : Installs a specific software group</span>
<span class="go">dnf remove package            : Removes a package from the system</span>
<span class="go">dnf update                    : Update all packages</span>
<span class="go">dnf check-update              : Check if any updates available</span>
<span class="go">dnf list updates              : Check if any updates available</span>
<span class="go">dnf update package            : Updates a package from a repository</span>
</pre></div>
</div>
<p>During installation (or update), if a package has a configuration file
which is updated, it will rename the old configuration file with a
<code class="docutils literal notranslate"><span class="pre">.rpmsave</span></code> extension. If the old configuration file will still work
with the new software, it will name the new configuration file with a
<code class="docutils literal notranslate"><span class="pre">.rpmnew</span></code> extension.</p>
</section>
<section id="other-commands-1">
<span id="id11"></span><h5>Other commands<a class="headerlink" href="#other-commands-1" title="Link to this heading"></a></h5>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">dnf list &quot;dnf-plugin*&quot;             : Lists additional dnf plugins</span>
<span class="go">dnf repolist                       : Shows a list of enabled repositories</span>
<span class="go">dnf shell                          : Provides an interactive shell in which to run multiple dnf commands.</span>
<span class="go">dnf shell file.txt                 : Executes the commands in file.txt</span>
<span class="go">dnf install --downloadonly package : Downloads the packages and store in the /var/cache/dnf directory</span>
<span class="go">dnf history                        : Views the history of dnf commands on the system</span>
<span class="go">dnf clean [packages|metadata|expire-cache|rpmdb|plugins|all] : Cleans up locally stored files and metadata under /var/cache/dnf.</span>
</pre></div>
</div>
</section>
</section>
<section id="using-yum">
<h4>Using yum<a class="headerlink" href="#using-yum" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">dnf</span></code> replaced <code class="docutils literal notranslate"><span class="pre">yum</span></code> during the RHEL/CentOS 7 to 8 transition.
Yellowdog Updater Modified (yum) open source command-line package
management utility for RPM-compatible Linux OSs.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">yum list package_name</span>
<span class="go">yum info package_name</span>
<span class="go">yum install package_name</span>
<span class="go">yum remove package_name</span>
</pre></div>
</div>
</section>
<section id="using-zypper">
<h4>Using zypper<a class="headerlink" href="#using-zypper" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">zypper</span></code> is the command line tool for installing and managing packages
in SUSE Linux and openSUSE. It is based on RPM and used for openSUSE.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">zypper search package_name</span>
<span class="go">zypper install package_name</span>
<span class="go">zypper remove package_name</span>
</pre></div>
</div>
<section id="queries-1">
<span id="id12"></span><h5>Queries<a class="headerlink" href="#queries-1" title="Link to this heading"></a></h5>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">zypper list-updates                 : Shows a list of available updates</span>
<span class="go">zypper repos                        : Lists available repositories</span>
<span class="go">zypper search &lt;string&gt;              : Searches repositories for string</span>
<span class="go">zypper info package_name            : Lists information about a package</span>
<span class="go">zypper info --requires package_name : Check dependencies for the package</span>
<span class="go">zypper search --provides filename   : Searches repositories to show what packages provide a file</span>
</pre></div>
</div>
</section>
<section id="installingremovingupgrading-packages-2">
<span id="id13"></span><h5>Installing/Removing/Upgrading Packages<a class="headerlink" href="#installingremovingupgrading-packages-2" title="Link to this heading"></a></h5>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">zypper install package_name                   : Installs or updates package(s)</span>
<span class="go">zypper --non-interactive install package_name : Does not ask for confirmation when installing or upgrading (this is useful for scripts)</span>
<span class="go">zypper update                                 : Updates all packages on system from a repository</span>
<span class="go">zypper --non-interactive update               : Updates all packages on system from a repository, but does not ask for confirmation (this is useful for scripts)</span>
<span class="go">zypper update package_name                    : Update a particular package</span>
<span class="go">zypper remove package_name                    : Removes a package from the system</span>
<span class="go">zypper remove --dry-run package_name          : Dry-run removes a package from the system</span>
</pre></div>
</div>
</section>
<section id="others-1">
<span id="id14"></span><h5>Others<a class="headerlink" href="#others-1" title="Link to this heading"></a></h5>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">zypper shell             :  zypper in shell mode</span>
<span class="go">zypper addrepo URI alias : add a new repository, located at the supplied URI and will use the supplied alias</span>
<span class="go">zypper removerepo alias  : remove a repository from the list using the alias of the repository</span>
<span class="go">zypper clean [--all]     : clean up and save space in /var/cache/zypp</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="adding-deleting-modifying-users-groups">
<h3>Adding/Deleting/Modifying Users/Groups<a class="headerlink" href="#adding-deleting-modifying-users-groups" title="Link to this heading"></a></h3>
<p>Adding a new user is done with <code class="docutils literal notranslate"><span class="pre">useradd</span></code>, and removing an existing
user is done with <code class="docutils literal notranslate"><span class="pre">userdel</span></code>.</p>
<p>Typing <code class="docutils literal notranslate"><span class="pre">id</span></code> with no argument gives information about the current user,
as in:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">id</span>
<span class="go">uid=1001(bitvijays) gid=1001(bitvijays) groups=106(fuse),1001(bitvijays)</span>
</pre></div>
</div>
<p>If given the name of another user as an argument, <code class="docutils literal notranslate"><span class="pre">id</span></code> will report
information about that other user.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">useradd username   : Add a user.</span>
<span class="go">    -m             : Create a home directory</span>
<span class="go">    -s /bin/bash   : set the shell for the user</span>
<span class="go">userdel username   : delete the username</span>
<span class="go">    -r             : Ensure all files are also removed of that user</span>
<span class="go">adduser (username&gt; : Add a user.</span>
<span class="go"> --gecos GECOS     : adduser won&#39;t ask for finger information.</span>
<span class="go"> --system          : Create a system user.</span>
<span class="go"> --quiet           : Suppress informational messages, only show warnings and errors.</span>
<span class="go"> --disabled-login  : Do not run passwd to set the password.</span>
<span class="go">deluser (username&gt; : Delete a user.</span>
<span class="go"> --remove-home     : Remove the home directory of the user and its mailspool.</span>
<span class="go"> --remove-all-files: Remove all files from the system owned by this user.</span>
<span class="go"> --backup          : Backup all files contained in the userhome and the mailspool-file to a file named /$user.tar.bz2 or /$user.tar.gz.</span>
<span class="go">usermod            : Modify a user account.</span>
<span class="go"> -e EXPIREDATE     : The date on which the user account will be disabled. The date is specified in the format YYYY-MM-DD.</span>
<span class="go"> -L, --lock        : Lock a user&#39;s password.</span>
<span class="go"> -U, --unlock      : Unlock a user&#39;s password</span>
<span class="go">passwd -l user     : Disable an account (lock out a user)</span>
<span class="go">       -u user     : Enable an account (unlock a user)</span>
<span class="go">addgroup           : Add a group</span>
<span class="go">delgroup           : delete a group.</span>
<span class="go">groupmod           : Modifies a group&#39;s information (its gid or identifier). The command</span>
<span class="go">gpasswd group      : changes the password for the group</span>
<span class="go">gpasswd -r group   : Deletes the password for the group</span>
<span class="go">groupadd           : Create a new group.</span>
<span class="go">groupdel           : Delete a group.</span>
<span class="go">chfn               : (CHange Full Name), reserved for the super-user (root), modifies the GECOS, or &quot;general information&quot; field.</span>
<span class="go">chsh               : (CHange SHell) changes the user&#39;s login shell.</span>
<span class="go">chage              : (CHange AGE) allows the administrator to change the password expiration settings by passing the user name as an argument or</span>
<span class="go">   -l              : list current settings</span>
<span class="go">   -e user         : force the expiration of a password which forces the user to change their password the next time they log in.</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">adduser</span></code> command asks a few questions before creating the account. Its configuration file, <code class="docutils literal notranslate"><span class="pre">/etc/adduser.conf</span></code>, includes the settings. For example, define common groups, define default shells, and more.</p></li>
<li><p>The creation of an account triggers the population of the user’s home directory with the contents of the <code class="docutils literal notranslate"><span class="pre">/etc/skel/</span></code> template. This provides the user with a set of standard directories and configuration files.</p></li>
</ul>
<section id="working-with-several-groups">
<h4>Working with several groups<a class="headerlink" href="#working-with-several-groups" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Each user may be a member of many groups. A user’s main group is, by default, created during initial user configuration.</p></li>
<li><p>By default, each file that a user creates belongs to the user, as well as to the user’s main group (May not be always desirable); for example, when the user needs to work in a directory shared by a group other than their main group.</p></li>
<li><p>In the above case, the user needs to change groups using <code class="docutils literal notranslate"><span class="pre">newgrp</span></code> (starts a new shell), or <code class="docutils literal notranslate"><span class="pre">sg</span></code> (executes a command using the supplied alternate group).</p></li>
<li><p>The above commands also allow the user to join a group to which they do not currently belong. If the group is password protected, they will need to supply the appropriate password before the command is executed.</p></li>
</ul>
</section>
</section>
<section id="changing-group-owner-permission">
<h3>Changing Group/Owner/Permission<a class="headerlink" href="#changing-group-owner-permission" title="Link to this heading"></a></h3>
<p>In Linux and other UNIX-based OSs, every file is associated with a user
who is the owner. Every file is also associated with a group (a subset
of all users) that has an interest in the file and certain rights or
permissions: read, write, and execute.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">chown              : Change file owner and group.</span>
<span class="go"> -reference=RFILE  : use RFILE&#39;s owner and group rather than specifying OWNER:GROUP values.</span>
<span class="go"> -R, --recursive   : operate on files and directories recursively.</span>
<span class="go">chmod              : change file mode bits.</span>
<span class="go">chgrp              : change group ownership.</span>
<span class="go">SUID bit           : SetUID bit specifies that an executable should run as its owner instead of the user executing it.</span>
<span class="go">                   : SUID is most commonly used to run an executable as root, allowing users to perform tasks such as changing their passwords.</span>
<span class="go">                   : If there is a flaw in a SUID root executable, you can run arbitrary code as root.</span>
</pre></div>
</div>
<section id="file-permissions-modes-and-chmod">
<h4>File Permissions Modes and chmod<a class="headerlink" href="#file-permissions-modes-and-chmod" title="Link to this heading"></a></h4>
<p>Files have three kinds of permissions: read (<code class="docutils literal notranslate"><span class="pre">r</span></code>), write (<code class="docutils literal notranslate"><span class="pre">w</span></code>),
execute (<code class="docutils literal notranslate"><span class="pre">x</span></code>). These are generally represented as in <code class="docutils literal notranslate"><span class="pre">rwx</span></code>. These
permissions affect three groups of owners: user/owner (<code class="docutils literal notranslate"><span class="pre">u</span></code>), group
(<code class="docutils literal notranslate"><span class="pre">g</span></code>), and others (<code class="docutils literal notranslate"><span class="pre">o</span></code>).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ls<span class="w"> </span>-l<span class="w"> </span>somefile
<span class="go">-rw-rw-r-- 1 student student 1601 Mar 9 15:04 somefile</span>
<span class="gp">$ </span>chmod<span class="w"> </span>uo+x,g-w<span class="w"> </span>somefile
<span class="gp">$ </span>ls<span class="w"> </span>-l<span class="w"> </span>somefile
<span class="go">-rwxr--r-x 1 student student 1601 Mar 9 15:04 somefile</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">u</span></code> stands for user (owner), <code class="docutils literal notranslate"><span class="pre">o</span></code> stands for other (world), and
<code class="docutils literal notranslate"><span class="pre">g</span></code> stands for group.</p>
<p>This kind of syntax can be difficult to type and remember, so one often
uses a shorthand that lets you set all the permissions in one step. This
is done with a simple algorithm, and a single-digit suffices to specify
all three permission bits for each entity. This digit is the sum of:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">4 if read permission is desired</span>
<span class="go">2 if write permission is desired</span>
<span class="go">1 if execute permission is desired.</span>
</pre></div>
</div>
<p>Thus, 7 means read/write/execute, 6 means read/write, and 5 means
read/execute.</p>
<p>When you apply this to the <code class="docutils literal notranslate"><span class="pre">chmod</span></code> command, we have to give three
digits for each degree of freedom, such as in:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>chmod<span class="w"> </span><span class="m">755</span><span class="w"> </span>somefile
<span class="gp">$ </span>ls<span class="w"> </span>-l<span class="w"> </span>somefile
<span class="go">-rwxr-xr-x 1 student student 1601 Mar 9 15:04 somefile</span>
</pre></div>
</div>
<figure class="align-default" id="id25">
<img alt="Unix Permissions" src="../_images/unix_permissions.jfif" />
<figcaption>
<p><span class="caption-text">Unix Permissions</span><a class="headerlink" href="#id25" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="setuid-and-setgid">
<h4>setuid and setgid<a class="headerlink" href="#setuid-and-setgid" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">setuid</span></code> and <code class="docutils literal notranslate"><span class="pre">setgid</span></code> (symbolized with the letter s) are relevant to executable files and allow any user to execute the program with the rights of the owner or the group, respectively</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">setgid</span></code> bit also applies to directories. Any newly-created item in such directories is automatically assigned the owner group of the parent directory, instead of inheriting the creator’s main group as usual.</p></li>
</ul>
</section>
<section id="stickybit">
<h4>stickybit<a class="headerlink" href="#stickybit" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The sticky bit (symbolized by the letter “t”) is a permission useful in directories and used for temporary directories where everybody has write access (such as /tmp/): it restricts deletion of files so that only their owner or the owner of the parent directory can delete them.</p></li>
<li><p>Prefix a fourth digit to number where the setuid, setgid, and sticky bits are 4, 2, and 1, respectively. The command chmod 4754 will associate the setuid bit read, write and execute for the owner (since 7 = 4 + 2 + 1).</p></li>
</ul>
</section>
</section>
<section id="mounting-unmounting">
<h3>Mounting/Unmounting<a class="headerlink" href="#mounting-unmounting" title="Link to this heading"></a></h3>
<p>The mount command is used to attach a filesystem (which can be local to
the computer or on a network) somewhere within the filesystem tree. The
basic arguments are the device node and mount point.</p>
<p>If you want it to be automatically available every time the system
starts up, you need to edit <code class="docutils literal notranslate"><span class="pre">/etc/fstab</span></code> accordingly (the name is
short for filesystem table). Looking at this file will show you the
configuration of all pre-configured filesystems. <code class="docutils literal notranslate"><span class="pre">man</span> <span class="pre">fstab</span></code> will
display how this file is used and how to configure it.</p>
<p>Executing mount without any arguments will show all presently mounted
filesystems.</p>
<p>The command <code class="docutils literal notranslate"><span class="pre">df</span> <span class="pre">-Th</span></code> (disk-free) will display information about
mounted filesystems, including the filesystem type, and usage statistics
about currently used and available space.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">mount &lt;device&gt; &lt;dir&gt; : Mount a filesystem.</span>
<span class="go">   -r, --read-only   : Mount the filesystem read-only.</span>
<span class="go">unmount {dir|device} : Unmount file systems.</span>
</pre></div>
</div>
<section id="mounting-windows-share-on-linux">
<h4>Mounting Windows share on Linux<a class="headerlink" href="#mounting-windows-share-on-linux" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">mount -t cifs -o username=&lt;share user&gt;,password=&lt;share password&gt;,domain=example.com //WIN_PC_IP/&lt;share name&gt; /mnt</span>
</pre></div>
</div>
</section>
</section>
<section id="nfs">
<h3>NFS<a class="headerlink" href="#nfs" title="Link to this heading"></a></h3>
<p>NFS (Network File System) is a useful method for sharing files and data
through network systems.</p>
<section id="server">
<h4>Server<a class="headerlink" href="#server" title="Link to this heading"></a></h4>
<p>On the server machine, NFS uses daemons (built-in networking and service
processes in Linux), and other system servers are started at the command
line by typing:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sudo systemctl start nfs</span>
</pre></div>
</div>
<p>The text file <code class="docutils literal notranslate"><span class="pre">/etc/exports</span></code> contains the directories and permissions
that a host is willing to share with other systems over NFS. A very
simple entry in this file may look like the following:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">/projects *.example.com(rw)</span>
</pre></div>
</div>
<p>This entry allows the directory <code class="docutils literal notranslate"><span class="pre">/projects</span></code> to be mounted using NFS
with read and write (rw) permissions and shared with other hosts in the
example.com domain.</p>
<p>After modifying the <code class="docutils literal notranslate"><span class="pre">/etc/exports</span></code> file, we can type <code class="docutils literal notranslate"><span class="pre">exportfs</span> <span class="pre">-av</span></code>
to notify Linux about the directories you are allowing to be remotely
mounted using NFS. You can also restart NFS with sudo systemctl restart
nfs, but this is heavier, as it halts NFS for a short while before
starting it up again. To make sure the NFS service starts whenever the
system is booted, issue sudo systemctl enable nfs.</p>
</section>
<section id="client">
<h4>Client<a class="headerlink" href="#client" title="Link to this heading"></a></h4>
<p>On the client machine, if it is desired to have the remote filesystem
mounted automatically upon system boot, <code class="docutils literal notranslate"><span class="pre">/etc/fstab</span></code> is modified to
accomplish this. For example, an entry in the client’s <code class="docutils literal notranslate"><span class="pre">/etc/fstab</span></code>
might look like the following:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">servername:/projects /mnt/nfs/projects nfs defaults 0 0</span>
</pre></div>
</div>
<p>We can also mount the remote filesystem without a reboot or as a
one-time mount by directly using the <code class="docutils literal notranslate"><span class="pre">mount</span></code> command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sudo mount servername:/projects /mnt/nfs/projects</span>
</pre></div>
</div>
<p>Remember, if <code class="docutils literal notranslate"><span class="pre">/etc/fstab</span></code> is not modified, this remote mount will not
be present the next time the system is restarted. Furthermore, we may
want to use the <code class="docutils literal notranslate"><span class="pre">nofail</span></code> option in <code class="docutils literal notranslate"><span class="pre">fstab</span></code> in case the NFS server is
not live at boot.</p>
<section id="explore-mounted-filesystem">
<h5>Explore Mounted FileSystem<a class="headerlink" href="#explore-mounted-filesystem" title="Link to this heading"></a></h5>
<p>Typically, <code class="docutils literal notranslate"><span class="pre">mount</span></code> will show more filesystems mounted than are shown
in <code class="docutils literal notranslate"><span class="pre">/etc/fstab</span></code>, which only lists those which are explicitly
requested. The system, however, will mount additional special
filesystems required for normal operation, which are not enumerated in
<code class="docutils literal notranslate"><span class="pre">/etc/fstab</span></code>.</p>
<p>Another way to show mounted filesystems is to type:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sudent:/tmp&gt; cat /proc/mounts</span>
</pre></div>
</div>
<p>which is essentially how the utility gets its information.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cat /etc/fstab</span>
<span class="go">cat /proc/mounts</span>
<span class="go">mount</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="sysctl-configure-kernel-parameters">
<h3>Sysctl - configure kernel parameters<a class="headerlink" href="#sysctl-configure-kernel-parameters" title="Link to this heading"></a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">/etc/sysctl.conf                : Contains the variables for kernel parameters.</span>
<span class="go">sysctl -a                       : Display all the kernel parameters</span>
<span class="go">sysctl -w &lt;kernel parameter&gt;    : Change a sysctl setting.</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To make permanent changes to the kernel, edit the <code class="docutils literal notranslate"><span class="pre">/etc/sysctl.conf</span></code> file.</p>
</div>
<section id="kernel-modules">
<h4>Kernel Modules<a class="headerlink" href="#kernel-modules" title="Link to this heading"></a></h4>
<p>Kernel modules are contained in <code class="docutils literal notranslate"><span class="pre">/lib/modules/$(uname</span> <span class="pre">-r)/</span></code></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">lsmod      : list all loaded modules</span>
<span class="go">modprobe   : load kernel modules</span>
<span class="go">lspci      : list all pci devices</span>
<span class="go">lsusb      : list all usb devices</span>
<span class="go">hal-device : list all the Hardware Abstraction layer devices</span>
<span class="go">lspcmcia   : lists PCMCIA cards</span>
<span class="go">lsdev      : lists communication resources used by devices</span>
<span class="go">lshw       : displays a long description of the hardware discovered in a hierarchical manner</span>
</pre></div>
</div>
</section>
<section id="manage-runlevels">
<h4>Manage Runlevels<a class="headerlink" href="#manage-runlevels" title="Link to this heading"></a></h4>
<p>Debian GNU provides a convenient tool to manage runlevels (to control
when services are started and shut down);</p>
</section>
<section id="update-rc-d">
<h4>update-rc.d<a class="headerlink" href="#update-rc-d" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">update-rc.d</span></code> and there are two commonly used invocation methods:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">update-rc.d -f &lt;service name&gt; remove : Disabling a service.</span>
<span class="go">update-rc.d &lt;service name&gt; defaults  : Insert links using defaults, start in runlevel 2-5 and stop in runlevels 0,1 and 6.</span>
</pre></div>
</div>
</section>
<section id="systemctl">
<h4>systemctl<a class="headerlink" href="#systemctl" title="Link to this heading"></a></h4>
<p>Control the systemd system and service manager. systemctl
may be used to introspect and control the state of the “systemd” system
and service manager. Present a detailed output about the different
services running.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">systemctl status &lt;service_name&gt; - Status of the service.</span>
<span class="go">systemctl start &lt;service_name&gt;  - Start the service.</span>
<span class="go">systemctl enable &lt;service_name&gt; - Enable the service to start at a boot time.</span>
<span class="go">systemctl reload &lt;service_name&gt; - Reload the new settings (after changing configuration files)</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="printing">
<h2>Printing<a class="headerlink" href="#printing" title="Link to this heading"></a></h2>
<p>Printing itself requires software that converts information from the
application used to a language your printer can understand. The Linux
standard for printing software is the Common UNIX Printing System
(CUPS). It converts page descriptions produced by your application (put
a paragraph here, draw a line there, and so forth) and then sends the
information to the printer. It acts as a print server for both local and
network printers.</p>
<section id="cups">
<h3>CUPS<a class="headerlink" href="#cups" title="Link to this heading"></a></h3>
<p>CUPS carries out the printing process with the help of its various
components:</p>
<ul class="simple">
<li><p>Configuration Files</p></li>
<li><p>Scheduler</p></li>
<li><p>Job Files</p></li>
<li><p>Log Files</p></li>
<li><p>Filter</p></li>
<li><p>Printer Drivers</p></li>
<li><p>Backend.</p></li>
</ul>
<section id="configuration-files">
<h4>Configuration files<a class="headerlink" href="#configuration-files" title="Link to this heading"></a></h4>
<p>CUPS is designed around a print scheduler that manages print jobs,
handles administrative commands, allows users to query the printer
status, and manages the flow of data through all CUPS components.</p>
<p>The print scheduler reads server settings from several configuration
files, the two most important of which are <code class="docutils literal notranslate"><span class="pre">cupsd.conf</span></code> and
<code class="docutils literal notranslate"><span class="pre">printers.conf</span></code>, and all other CUPS-related configuration files are
stored under the <code class="docutils literal notranslate"><span class="pre">/etc/cups/</span></code> directory.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cupsd.conf</span></code> contains the system-wide settings; it does not contain
any printer-specific details. Most of the settings available in this
file relate to network security, i.e. which systems can access CUPS
network capabilities, how printers are advertised on the local
network, what management features are offered, and so on.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">printers.conf</span></code> is where you will find the printer-specific
settings. For every printer connected to the system, a corresponding
section describes the printer’s status and capabilities. This file is
generated or modified only after adding a printer to the system and
should not be modified by hand</p></li>
</ul>
</section>
<section id="scheduler">
<h4>Scheduler<a class="headerlink" href="#scheduler" title="Link to this heading"></a></h4>
<p>CUPS stores print requests as files under the <code class="docutils literal notranslate"><span class="pre">/var/spool/cups</span></code>
directory (these can actually be accessed before a document is sent to a
printer). Data files are prefixed with the letter <code class="docutils literal notranslate"><span class="pre">d</span></code> while control
files are prefixed with the letter <code class="docutils literal notranslate"><span class="pre">c</span></code>.</p>
<p>After a printer successfully handles a job, data files are automatically
removed. These data files belong to what is commonly known as the print
queue.</p>
</section>
<section id="log-files">
<h4>Log files<a class="headerlink" href="#log-files" title="Link to this heading"></a></h4>
<p>Log files are placed in <code class="docutils literal notranslate"><span class="pre">/var/log/cups</span></code> and are used by the scheduler
to record activities that have taken place. These files include access,
error, and page records.</p>
<p>To view what log files exist, type:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sudo ls -l /var/log/cups</span>
</pre></div>
</div>
</section>
<section id="filter-printer-drivers-backend">
<h4>Filter, Printer Drivers, Backend<a class="headerlink" href="#filter-printer-drivers-backend" title="Link to this heading"></a></h4>
<p>CUPS uses filters to convert job file formats to printable formats.
Printer drivers contain descriptions for currently connected and
configured printers and are usually stored under <code class="docutils literal notranslate"><span class="pre">/etc/cups/ppd/</span></code>. The
print data is then sent to the printer through a filter and via a
backend that helps to locate devices connected to the system.</p>
<p>So, in short, when we execute a print command, the scheduler validates
the command and processes the print job, creating job files according to
the settings specified in the configuration files. Simultaneously, the
scheduler records activities in the log files. Job files are processed
with the help of the filter, printer driver, and backend and then sent
to the printer</p>
</section>
</section>
<section id="managing-cups">
<h3>Managing CUPS<a class="headerlink" href="#managing-cups" title="Link to this heading"></a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">systemctl status cups</span>
<span class="go">sudo systemctl [enable|disable] cups</span>
<span class="go">sudo systemctl [start|stop|restart] cups</span>
</pre></div>
</div>
</section>
<section id="adding-printers-from-cups-web-interface">
<h3>Adding printers from CUPS Web interface<a class="headerlink" href="#adding-printers-from-cups-web-interface" title="Link to this heading"></a></h3>
<p>CUPS also comes with its own web server, which makes a configuration
interface available via a set of CGI scripts.</p>
<p>This web interface allows you to:</p>
<ul class="simple">
<li><p>Add and remove local/remote printers</p></li>
<li><p>Configure printers:</p>
<ul>
<li><p>Local/remote printers</p></li>
<li><p>Share a printer as a CUPS server</p></li>
</ul>
</li>
<li><p>Control print jobs:</p></li>
<li><p>Monitor jobs</p></li>
<li><p>Show completed or pending jobs</p></li>
<li><p>Cancel or move jobs.</p></li>
</ul>
<p>The CUPS web interface is available on your browser at
<code class="docutils literal notranslate"><span class="pre">http://localhost:631</span></code>.</p>
<section id="printing-document">
<h4>Printing document<a class="headerlink" href="#printing-document" title="Link to this heading"></a></h4>
<section id="printing-from-gui">
<h5>Printing from GUI<a class="headerlink" href="#printing-from-gui" title="Link to this heading"></a></h5>
<p>Many graphical applications allow users to access printing features
using the <code class="docutils literal notranslate"><span class="pre">CTRL-P</span></code> shortcut. To print a file, we need to specify the
printer (or a file name and location if you are printing to a file
instead) we want to use; and then select the page setup, quality, and
color options. After selecting the required options, you can submit the
document for printing. The document is then submitted to CUPS. We can
use your browser to access the CUPS web interface at
<code class="docutils literal notranslate"><span class="pre">http://localhost:631/</span></code> to monitor the status of the printing job.</p>
</section>
<section id="printing-from-command-line">
<h5>Printing from Command line<a class="headerlink" href="#printing-from-command-line" title="Link to this heading"></a></h5>
<p>CUPS provides two command-line interfaces, descended from the System V
and BSD flavors of UNIX. This means that you can use either <code class="docutils literal notranslate"><span class="pre">lp</span></code>
(System V) or <code class="docutils literal notranslate"><span class="pre">lpr</span></code> (BSD) to print.</p>
<p><code class="docutils literal notranslate"><span class="pre">lp</span></code> is just a command-line front-end to the <code class="docutils literal notranslate"><span class="pre">lpr</span></code> utility that
passes input to <code class="docutils literal notranslate"><span class="pre">lpr</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">lp</span></code> and <code class="docutils literal notranslate"><span class="pre">lpr</span></code> accept command-line options that help to perform all
operations that the GUI can accomplish. <code class="docutils literal notranslate"><span class="pre">lp</span></code> is typically used with a
file name as an argument.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">lp &lt;filename&gt;            : To print the file to default printer</span>
<span class="go">lp -d printer &lt;filename&gt; : To print to a specific printer (useful if multiple printers are available)</span>
<span class="go">program | lp             : print the output of a program</span>
<span class="go">echo string | lp         : To print the output of the echo</span>
<span class="go">lp -n number &lt;filename&gt;  : To print multiple copies</span>
<span class="go">lpoptions -d printer     : To set the default printer</span>
<span class="go">lpq -a                   : To show the queue status</span>
<span class="go">lpadmin                  : To configure printer queues</span>
<span class="go">lpoptions                : can be used to set printer options and defaults.</span>
</pre></div>
</div>
<p>Each printer has a set of tags associated with it, such as the default
number of copies and authentication requirements. You can type lpoptions
help to obtain a list of supported options. lpoptions can also be used
to set system-wide values, such as the default printer.</p>
</section>
<section id="managing-printing-jobs">
<h5>Managing Printing jobs<a class="headerlink" href="#managing-printing-jobs" title="Link to this heading"></a></h5>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">lpstat -p -d : To get a list of available printers, along with their status</span>
<span class="go">lpstat -a    : To check the status of all connected printers, including job numbers</span>
<span class="go">cancel job-id</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">lprm job-id              : to cancel a print job</span>
<span class="go">lpmove job-id newprinter : To move a print job to newprinter</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>
<section id="postscript-and-pdf">
<h2>PostScript and PDF<a class="headerlink" href="#postscript-and-pdf" title="Link to this heading"></a></h2>
<p>PostScript is a standard page description language. It effectively
manages the scaling of fonts and vector graphics to provide quality
printouts. It is purely a text format that contains the data fed to a
PostScript interpreter.</p>
<p><code class="docutils literal notranslate"><span class="pre">enscript</span></code> is a tool that is used to convert a text file to PostScript
and other formats. It also supports Rich Text Format (RTF) and HyperText
Markup Language (HTML).</p>
<p>Example: We can convert a text file to two columns (-2) formatted
PostScript:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">enscript -2 -r -p psfile.ps textfile.txt</span>
</pre></div>
</div>
<p>This command will also rotate (-r) the output to print, so the width of
the paper is greater than the height (aka landscape mode), thereby
reducing the number of pages required for printing.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">enscript -p psfile.ps textfile.txt    : Convert a text file to PostScript (saved to psfile.ps)</span>
<span class="go">enscript -n -p psfile.ps textfile.txt : Convert a text file to n columns where n=1-9 (saved in psfile.ps)</span>
<span class="go">enscript textfile.txt                 : Print a text file directly to the default printer</span>
</pre></div>
</div>
<section id="converting-between-postscript-and-pdf">
<h3>Converting between PostScript and PDF<a class="headerlink" href="#converting-between-postscript-and-pdf" title="Link to this heading"></a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pdf2ps file.pdf             : Converts file.pdf to file.ps</span>
<span class="go">ps2pdf file.ps              : Converts file.ps to file.pdf</span>
<span class="go">pstopdf input.ps output.pdf : Converts input.ps to output.pdf</span>
<span class="go">pdftops input.pdf output.ps : Converts input.pdf to output.ps</span>
<span class="go">convert input.ps output.pdf : Converts input.ps to output.pdf</span>
<span class="go">convert input.pdf output.ps : Converts input.pdf to output.ps</span>
</pre></div>
</div>
</section>
<section id="linux-pdf-reader">
<h3>Linux PDF Reader<a class="headerlink" href="#linux-pdf-reader" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">evince</span></code>, <code class="docutils literal notranslate"><span class="pre">okular</span></code>, <code class="docutils literal notranslate"><span class="pre">ghostView</span></code> and <code class="docutils literal notranslate"><span class="pre">xpdf</span></code></p>
</section>
<section id="manipulating-pdf">
<h3>Manipulating PDF<a class="headerlink" href="#manipulating-pdf" title="Link to this heading"></a></h3>
<p>At times, we may want to merge, split, or rotate PDF files; not all of
these operations can be achieved while using a PDF viewer. Some of these
operations include:</p>
<ul class="simple">
<li><p>Merging/splitting/rotating PDF documents</p></li>
<li><p>Repairing corrupted PDF pages</p></li>
<li><p>Pulling single pages from a file</p></li>
<li><p>Encrypting and decrypting PDF files</p></li>
<li><p>Adding, updating, and exporting a PDF’s metadata</p></li>
<li><p>Exporting bookmarks to a text file</p></li>
<li><p>Filling out PDF forms</p></li>
</ul>
<section id="qpdf">
<h4>qpdf<a class="headerlink" href="#qpdf" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">qpdf --empty --pages 1.pdf 2.pdf -- 12.pdf : Merge the two documents 1.pdf and 2.pdf. The output will be saved to 12.pdf.</span>
<span class="go">qpdf --empty --pages 1.pdf 1-2 -- new.pdf  : Write only pages 1 and 2 of 1.pdf. The output will be saved to new.pdf.</span>
<span class="go">qpdf --rotate=+90:1 1.pdf 1r.pdf           : Rotate page 1 of 1.pdf 90 degrees clockwise and save to 1r.pdf</span>
<span class="go">qpdf --rotate=+90:1-z 1.pdf 1r-all.pdf     : Rotate all pages of 1.pdf 90 degrees clockwise and save to 1r-all.pdf</span>
</pre></div>
</div>
<section id="encrypting-pdf-files-with-qpdf">
<h5>Encrypting PDF files with qpdf<a class="headerlink" href="#encrypting-pdf-files-with-qpdf" title="Link to this heading"></a></h5>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">qpdf --encrypt mypw mypw 128 -- public.pdf private.pdf        : Encrypt with 128 bits public.pdf using as the passwd mypw with output as private.pdf</span>
<span class="go">qpdf --decrypt --password=mypw private.pdf file-decrypted.pdf : Decrypt private.pdf with output as file-decrypted.pdf.</span>
</pre></div>
</div>
</section>
</section>
<section id="pdftk">
<h4>pdftk<a class="headerlink" href="#pdftk" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pdftk 1.pdf 2.pdf cat output 12.pdf          : Merge the two documents 1.pdf and 2.pdf. The output will be saved to 12.pdf.</span>
<span class="go">pdftk A=1.pdf cat A1-2 output new.pdf        : Write only pages 1 and 2 of 1.pdf. The output will be saved to new.pdf.</span>
<span class="go">pdftk A=1.pdf cat A1-endright output new.pdf : Rotate all pages of 1.pdf 90 degrees clockwise and save result in new.pdf.</span>
</pre></div>
</div>
<section id="encrypting-pdf-files-with-pdftk">
<h5>Encrypting PDF Files with pdftk<a class="headerlink" href="#encrypting-pdf-files-with-pdftk" title="Link to this heading"></a></h5>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pdftk public.pdf output private.pdf user_pw PROMPT</span>
</pre></div>
</div>
<p>When we run this command, we will receive a prompt to set the required
password, which can have a maximum of 32 characters. A new file,
private.pdf, will be created with the identical content as public.pdf,
but anyone will need to type the password to be able to view it.</p>
</section>
</section>
<section id="ghost-script">
<h4>Ghost script<a class="headerlink" href="#ghost-script" title="Link to this heading"></a></h4>
<p>Combine three PDF files into one:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">gs -dBATCH -dNOPAUSE -q -sDEVICE=pdfwrite  -sOutputFile=all.pdf file1.pdf file2.pdf file3.pdf</span>
</pre></div>
</div>
<p>Split pages 10 to 20 out of a PDF file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">gs -sDEVICE=pdfwrite -dNOPAUSE -dBATCH -dDOPDFMARKS=false -dFirstPage=10 -dLastPage=20 -sOutputFile=split.pdf file.pdf</span>
</pre></div>
</div>
</section>
</section>
<section id="other-pdf-tool">
<h3>Other pdf tool<a class="headerlink" href="#other-pdf-tool" title="Link to this heading"></a></h3>
<section id="pdfinfo">
<h4>pdfinfo<a class="headerlink" href="#pdfinfo" title="Link to this heading"></a></h4>
<p>It can extract information about PDF files, especially when the files
are very large or when a graphical interface is not available.</p>
</section>
<section id="flpsed">
<h4>flpsed<a class="headerlink" href="#flpsed" title="Link to this heading"></a></h4>
<p>It can add data to a PostScript document. This tool is specifically
useful for filling in forms or adding short comments to the document.</p>
</section>
<section id="pdfmod">
<h4>pdfmod<a class="headerlink" href="#pdfmod" title="Link to this heading"></a></h4>
<p>It is a simple application that provides a graphical interface for
modifying PDF documents. Using this tool, you can reorder, rotate, and
remove pages; export images from a document; edit the title, subject,
and author; add keywords, and combine documents using drag-and-drop
action.</p>
</section>
</section>
</section>
<section id="programming">
<h2>Programming<a class="headerlink" href="#programming" title="Link to this heading"></a></h2>
<section id="git">
<h3>GIT<a class="headerlink" href="#git" title="Link to this heading"></a></h3>
<p>Version Control System, really useful for tracking your changes. It has
two important data structures: an object database and a directory cache.</p>
<ul class="simple">
<li><p>The object database contains objects of three varieties:</p>
<ul>
<li><p>Blobs: Chunks of binary data containing file contents</p></li>
<li><p>Trees: Sets of blobs including file names and attributes, giving
the directory structure</p></li>
<li><p>Commits: Changesets describing tree snapshots.</p></li>
</ul>
</li>
<li><p>The directory cache captures the state of the directory tree.</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">try.github.com (https://try.github.com) 15 mins tutorial.</span>
</pre></div>
</div>
<section id="command-line-substitute-for-gitk">
<h4>Command-line substitute for gitk<a class="headerlink" href="#command-line-substitute-for-gitk" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git log --graph --abbrev-commit --pretty=oneline --decorate</span>
</pre></div>
</div>
</section>
<section id="list-all-commits-for-a-specific-file">
<h4>List all commits for a specific file<a class="headerlink" href="#list-all-commits-for-a-specific-file" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git log --follow -- filename</span>
</pre></div>
</div>
</section>
<section id="see-the-changes-in-a-git-commit">
<h4>See the changes in a Git commit?<a class="headerlink" href="#see-the-changes-in-a-git-commit" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git show (COMMIT)</span>
</pre></div>
</div>
</section>
</section>
<section id="cc-gnu-compile-collection">
<h3>cc - GNU Compile Collection<a class="headerlink" href="#cc-gnu-compile-collection" title="Link to this heading"></a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">To Compile: gcc -Wall -pedantic -g (C source file&gt; -o (Executable file&gt;</span>
<span class="go">-Wall -pedantic : to check for all the warnings and errors if any.</span>
<span class="go">-g              : to create the symbol file to be used by gdb</span>
<span class="go">-o              : to create the executable file.</span>
</pre></div>
</div>
</section>
<section id="gdb-gnu-debugger">
<h3>GDB: GNU debugger<a class="headerlink" href="#gdb-gnu-debugger" title="Link to this heading"></a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">gdb -tui (Program name&gt;</span>

<span class="go">tui               : for listing the source while debugging</span>
<span class="go">(linenumber&gt;      : to set the break point</span>
<span class="go">p (variable name&gt; : to print the value of the variable</span>
<span class="go">bt                : to print the stack call, mainly useful to find segmentation fault when multiple functions are called.</span>
</pre></div>
</div>
</section>
</section>
<section id="basic-linux-security">
<h2>Basic Linux Security<a class="headerlink" href="#basic-linux-security" title="Link to this heading"></a></h2>
<p>A good approach to help with the security starts with the following questions:</p>
<ul class="simple">
<li><p>What are we trying to protect? The security policy will be different depending on whether we want to protect computers or data. In the latter case, we also need to know which data.</p></li>
<li><p>What are we trying to protect against? Is it leakage of confidential data? Accidental data loss? Revenue loss caused by disruption of service?</p></li>
<li><p>Also, who are we trying to protect against? Security measures will be quite different for guarding against a typo by a regular user of the system versus protecting against a determined external attacker group.</p></li>
</ul>
<section id="general-tips">
<h3>General Tips<a class="headerlink" href="#general-tips" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>File extensions in Linux do not necessarily mean that a file is of a certain type.</p></li>
<li><p>Might want to setup fail2ban, which will make it much harder to brute-force passwords over the network (by filtering away IP addresses that exceed a limit of failed login attempts).</p></li>
</ul>
<p>By default, Linux distinguishes between several account types in order
to isolate processes and workloads. Linux has four types of accounts:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">root</span>
<span class="go">System</span>
<span class="go">Normal</span>
<span class="go">Network</span>
</pre></div>
</div>
<p>For a safe working environment, it is advised to grant the minimum
privileges possible and necessary to accounts and remove inactive
accounts. The <code class="docutils literal notranslate"><span class="pre">last</span></code> utility, which shows the last time each user
logged into the system, can be used to help identify potentially
inactive accounts which are candidates for system removal.</p>
</section>
<section id="firewall">
<h3>Firewall<a class="headerlink" href="#firewall" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>A firewall is a piece of computer equipment with hardware, software, or both that parses the incoming or outgoing network packets and only lets through those matching certain predefined conditions.</p></li>
<li><p>A filtering network gateway is a type of firewall that protects an entire network. It is usually installed on a dedicated machine configured as a gateway for the network so that it can parse all packets that pass in and out of the network.</p></li>
<li><p>The Linux kernel embeds the netfilter firewall. We can control netfilter from user space with the iptables and ip6tables commands. We can also use the excellent GUI-based fwbuilder tool, which provides a graphical representation of the filtering rules.</p></li>
</ul>
<section id="netfilter-behavior">
<h4>Netfilter Behavior<a class="headerlink" href="#netfilter-behavior" title="Link to this heading"></a></h4>
<p>Netfilter uses four distinct tables, which store rules regulating three kinds of operations on packets:</p>
<ul class="simple">
<li><p>filter - concerns filtering rules (accepting, refusing, or ignoring a packet);</p></li>
<li><p>nat (Network Address Translation) - concerns translation of source or destination addresses and ports of packets;</p></li>
<li><p>mangle - concerns other changes to the IP packets (including the ToS—Type of Service—field and options);</p></li>
<li><p>raw - allows other manual modifications on packets before they reach the connection tracking system.</p></li>
</ul>
<section id="chains">
<h5>Chains<a class="headerlink" href="#chains" title="Link to this heading"></a></h5>
<p>Each table contains lists of rules called chains. The firewall uses standard chains to handle packets based on predefined circumstances.</p>
<p>The filter table has three standard chains:</p>
<ul class="simple">
<li><p>INPUT - concerns packets whose destination is the firewall itself.</p></li>
<li><p>OUTPUT - concerns packets emitted by the firewall.</p></li>
<li><p>FORWARD - concerns packets passing through the firewall (which is neither their source nor their destination).</p></li>
</ul>
<p>The nat table also has three standard chains:</p>
<ul class="simple">
<li><p>PREROUTING - to modify packets as soon as they arrive.</p></li>
<li><p>POSTROUTING - to modify packets when they are ready to go on their way.</p></li>
<li><p>OUTPUT - to modify packets generated by the firewall itself.</p></li>
</ul>
<p>Each chain is a list of rules; each rule is a set of conditions and an action to perform when the conditions are met. When processing a packet, the firewall scans the appropriate chain, one rule after another, and when the conditions for one rule are met, it jumps (hence the -j option in the commands with Rules) to the specified action to continue processing.</p>
</section>
<section id="actions">
<h5>Actions<a class="headerlink" href="#actions" title="Link to this heading"></a></h5>
<p>Listed below are the Netfilter actions.</p>
<ul class="simple">
<li><p>ACCEPT: allow the packet to go on its way.</p></li>
<li><p>REJECT: reject the packet with an Internet control message protocol (ICMP) error packet (the –reject-with type option of iptables determines the type of error to send).</p></li>
<li><p>DROP: delete (ignore) the packet.</p></li>
<li><p>LOG: log (via syslogd) a message with a description of the packet. Note that this action does not interrupt processing, and the execution of the chain continues at the next rule, which is why logging refused packets requires both a LOG and a REJECT/DROP rule. Common parameters associated with logging include:
–log-level, with default value warning, indicates the syslog severity level.
–log-prefix allows specifying a text prefix to differentiate between logged messages.
–log-tcp-sequence, –log-tcp-options, and –log-ip-options indicate extra data to be integrated into the message: respectively, the TCP sequence number, TCP options, and IP options.</p></li>
<li><p>ULOG: log a message via ulogd, which can be better adapted and more efficient than syslogd for handling large numbers of messages; note that this action, like LOG, also returns processing to the next rule in the calling chain.</p></li>
<li><p>chain_name: jump to the given chain and evaluate its rules.</p></li>
<li><p>RETURN: interrupt processing of the current chain and return to the calling chain; in case the current chain is a standard one, there’s no calling chain, so the default action (defined with the -P option to iptables) is executed instead.</p></li>
<li><p>SNAT (only in the nat table): apply Source Network Address Translation (SNAT). Extra options describe the exact changes to apply, including the –to-source address:port option, which defines the new source IP address and/or port.</p></li>
<li><p>DNAT (only in the nat table): apply Destination Network Address Translation (DNAT). Extra options describe the exact changes to apply, including the –to-destination address:port option, which defines the new destination IP address and/or port.</p></li>
<li><p>MASQUERADE (only in the nat table): apply masquerading (a special case of Source NAT).</p></li>
<li><p>REDIRECT (only in the nat table): transparently redirect a packet to a given port of the firewall itself; this can be used to set up a transparent web proxy that works with no configuration on the client side, since the client thinks it connects to the recipient whereas the communications actually go through the proxy. The –to-ports port(s) option indicates the port, or port range, where the packets should be redirected.</p></li>
</ul>
</section>
</section>
<section id="iptables-syntax">
<h4>iptables syntax<a class="headerlink" href="#iptables-syntax" title="Link to this heading"></a></h4>
<p>The iptables and ip6tables commands are used to manipulate tables, chains, and rules. Their -t table option indicates which table to operate on (by default, filter).</p>
<section id="commands">
<h5>Commands<a class="headerlink" href="#commands" title="Link to this heading"></a></h5>
<p>The major options for interacting with chains are listed below:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-L</span> <span class="pre">chain</span></code> lists the rules in the chain. This is commonly used with the <code class="docutils literal notranslate"><span class="pre">-n</span></code> option to disable name resolution (for example, <code class="docutils literal notranslate"><span class="pre">iptables</span> <span class="pre">-n</span> <span class="pre">-L</span> <span class="pre">INPUT</span></code> will display the rules related to incoming packets).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-N</span> <span class="pre">chain</span></code> creates a new chain. We can create new chains for a number of purposes, including testing a new network service or fending off a network attack.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-X</span> <span class="pre">chain</span></code> deletes an empty and unused chain (for example, <code class="docutils literal notranslate"><span class="pre">iptables</span> <span class="pre">-X</span> <span class="pre">ddos-attack</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-A</span> <span class="pre">chain</span></code> rule adds a rule at the end of the given chain. Remember that rules are processed from top to bottom so be sure to keep this in mind when adding rules.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-I</span> <span class="pre">chain</span> <span class="pre">rule_num</span> <span class="pre">rule</span></code> inserts a rule before the rule number <code class="docutils literal notranslate"><span class="pre">rule_num</span></code>. As with the <code class="docutils literal notranslate"><span class="pre">-A</span></code> option, keep the processing order in mind when inserting new rules into a chain.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-D</span> <span class="pre">chain</span> <span class="pre">rule_num</span></code> (or <code class="docutils literal notranslate"><span class="pre">-D</span> <span class="pre">chain</span> <span class="pre">rule</span></code>) deletes a rule in a chain; the first syntax identifies the rule to be deleted by its number (<code class="docutils literal notranslate"><span class="pre">iptables</span> <span class="pre">-L</span> <span class="pre">--line-numbers</span></code> will display these numbers), while the latter identifies it by its contents.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-F</span> <span class="pre">chain</span></code> flushes a chain (deletes all its rules). For example, to delete all of the rules related to outgoing packets, we would run <code class="docutils literal notranslate"><span class="pre">iptables</span> <span class="pre">-F</span> <span class="pre">OUTPUT</span></code>. If no chain is mentioned, all the rules in the table are deleted.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-P</span> <span class="pre">chain</span> <span class="pre">action</span></code> defines the default action, or “policy” for a given chain; note that only standard chains can have such a policy. To drop all incoming traffic by default, we would run <code class="docutils literal notranslate"><span class="pre">iptables</span> <span class="pre">-P</span> <span class="pre">INPUT</span> <span class="pre">DROP</span></code>.</p></li>
</ul>
</section>
<section id="rules">
<h5>Rules<a class="headerlink" href="#rules" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>Each rule is expressed as <code class="docutils literal notranslate"><span class="pre">conditions</span> <span class="pre">-j</span> <span class="pre">action</span> <span class="pre">action_options</span></code>. If several conditions are described in the same rule, then the criterion is the conjunction (logical AND) of the conditions, which is at least as restrictive as each individual condition.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">-p</span> <span class="pre">protocol</span></code> condition matches the protocol field of the IP packet. The most common values are <code class="docutils literal notranslate"><span class="pre">tcp</span></code>, <code class="docutils literal notranslate"><span class="pre">udp</span></code>, <code class="docutils literal notranslate"><span class="pre">icmp</span></code>, and <code class="docutils literal notranslate"><span class="pre">icmpv6</span></code>. The condition can be complemented with conditions on the TCP ports, with clauses such as <code class="docutils literal notranslate"><span class="pre">--source-port</span> <span class="pre">port</span></code> and <code class="docutils literal notranslate"><span class="pre">--destination-port</span> <span class="pre">port</span></code>.</p></li>
<li><p>Negating Conditions: Prefixing a condition with an exclamation mark negates the condition. For example, negating a condition on the <code class="docutils literal notranslate"><span class="pre">-p</span></code> option matches “any packet with a different protocol than the one specified.” This negation mechanism can be applied to all other conditions as well.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">-s</span> <span class="pre">address</span></code> or <code class="docutils literal notranslate"><span class="pre">-s</span> <span class="pre">network/mask</span></code> condition matches the source address of the packet. Correspondingly, <code class="docutils literal notranslate"><span class="pre">-d</span> <span class="pre">address</span></code> or <code class="docutils literal notranslate"><span class="pre">-d</span> <span class="pre">network/mask</span></code> matches the destination address.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">-i</span></code> interface condition selects packets coming from the given network interface. <code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">interface</span></code> selects packets going out on a specific interface.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">--state</span> <span class="pre">state</span></code> condition matches the state of a packet in a connection (this requires the <code class="docutils literal notranslate"><span class="pre">ipt_conntrack</span></code> kernel module, for connection tracking).</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">NEW</span></code> state describes a packet starting a new connection,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ESTABLISHED</span></code> matches packets belonging to an already existing connection, and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RELATED</span></code> matches packets initiating a new connection related to an existing one (which is useful for the ftp-data connections in the “active” mode of the FTP protocol).</p></li>
</ul>
</li>
</ul>
</section>
<section id="examples">
<h5>Examples<a class="headerlink" href="#examples" title="Link to this heading"></a></h5>
<p>Silently block incoming traffic from the IP address 10.0.1.5 and the 31.13.74.0/24 class C subnet:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-s<span class="w"> </span><span class="m">10</span>.0.1.5<span class="w"> </span>-j<span class="w"> </span>DROP
<span class="gp"># </span>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-s<span class="w"> </span><span class="m">31</span>.13.74.0/24<span class="w"> </span>-j<span class="w"> </span>DROP
</pre></div>
</div>
<p>To allow users to connect to SSH, HTTP, and IMAP, we could run the following commands:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-m<span class="w"> </span>state<span class="w"> </span>--state<span class="w"> </span>NEW<span class="w"> </span>-p<span class="w"> </span>tcp<span class="w"> </span>--dport<span class="w"> </span><span class="m">22</span><span class="w"> </span>-j<span class="w"> </span>ACCEPT
<span class="gp"># </span>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-m<span class="w"> </span>state<span class="w"> </span>--state<span class="w"> </span>NEW<span class="w"> </span>-p<span class="w"> </span>tcp<span class="w"> </span>--dport<span class="w"> </span><span class="m">80</span><span class="w"> </span>-j<span class="w"> </span>ACCEPT
<span class="gp"># </span>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-m<span class="w"> </span>state<span class="w"> </span>--state<span class="w"> </span>NEW<span class="w"> </span>-p<span class="w"> </span>tcp<span class="w"> </span>--dport<span class="w"> </span><span class="m">143</span><span class="w"> </span>-j<span class="w"> </span>ACCEPT
</pre></div>
</div>
</section>
</section>
<section id="fwbuilder">
<h4>fwbuilder<a class="headerlink" href="#fwbuilder" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><a class="reference external" href="https://fwbuilder.sourceforge.net/">Firewall Builder</a> makes it easy to configure your firewalls.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fwbuilder</span></code> will generate a script configuring the firewall according to the rules defined. Its modular architecture gives it the ability to generate scripts targeting different systems including <code class="docutils literal notranslate"><span class="pre">iptables</span></code> for Linux, <code class="docutils literal notranslate"><span class="pre">ipf</span></code> for FreeBSD, and <code class="docutils literal notranslate"><span class="pre">pf</span></code> for OpenBSD.</p></li>
</ul>
</section>
</section>
<section id="operations-requiring-root-privileges">
<h3>Operations requiring root privileges<a class="headerlink" href="#operations-requiring-root-privileges" title="Link to this heading"></a></h3>
<p>root privileges are required to perform operations such as:</p>
<ul class="simple">
<li><p>Creating, removing, and managing user accounts</p></li>
<li><p>Managing software packages</p></li>
<li><p>Removing or modifying system files</p></li>
<li><p>Restarting system services.</p></li>
</ul>
</section>
<section id="operations-not-requiring-root-privileges">
<h3>Operations not requiring root privileges<a class="headerlink" href="#operations-not-requiring-root-privileges" title="Link to this heading"></a></h3>
<p>A regular account user can perform some operations requiring special
permissions; however, the system configuration must allow such abilities
to be exercised.</p>
<section id="suid">
<h4>SUID<a class="headerlink" href="#suid" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>SUID (Set owner User ID upon execution - similar to the Windows “run
as” feature) is a special kind of file permission given to a file.</p></li>
<li><p>Use of SUID provides temporary permissions to a user to run a program
with the permissions of the file owner (which may be root) instead of
the permissions held by the user.</p></li>
</ul>
<p>The below operations do not require root privileges.</p>
<ul class="simple">
<li><p>Running a network client (Sharing a file over the network)</p></li>
<li><p>Using devices such as printers (Printing over the network)</p></li>
<li><p>Operations on files that the user has proper permissions to access</p></li>
<li><p>Running SUID-root applications : (Executing programs such as passwd)</p></li>
</ul>
</section>
</section>
<section id="process-isolation">
<h3>Process Isolation<a class="headerlink" href="#process-isolation" title="Link to this heading"></a></h3>
<p>Linux is considered to be more secure than many other OSs because
processes are naturally isolated from each other. One process normally
cannot access the resources of another process, even when that process
is running with the same user privileges. Linux thus makes it difficult
(though certainly not impossible) for viruses and security exploits to
access and attack random resources on a system.</p>
<p>More recent additional security mechanisms that limit risks even further
include:</p>
<ul class="simple">
<li><p>Control Groups (cgroups) : Allows system administrators to group
processes and associate finite resources to each cgroup.</p></li>
<li><p>Containers : Makes it possible to run multiple isolated Linux systems
(containers) on a single system by relying on cgroups.</p></li>
<li><p>Virtualization : Hardware is emulated in such a way that not only
processes can be isolated, but entire systems are run simultaneously
as isolated and insulated guests (virtual machines) on one physical
host</p></li>
</ul>
<section id="password-storage">
<h4>Password storage<a class="headerlink" href="#password-storage" title="Link to this heading"></a></h4>
<p>The system verifies authenticity and identity using user credentials.</p>
<p>Originally, encrypted passwords were stored in the <code class="docutils literal notranslate"><span class="pre">/etc/passwd</span></code> file,
which was readable by everyone. This made it rather easy for passwords
to be cracked.</p>
<p>On modern systems, passwords are actually stored in an encrypted format
in a secondary file named <code class="docutils literal notranslate"><span class="pre">/etc/shadow</span></code>. Only those with root access
can read or modify this file.</p>
</section>
<section id="password-algorithm">
<h4>Password Algorithm<a class="headerlink" href="#password-algorithm" title="Link to this heading"></a></h4>
<p>A modern password encryption algorithm called SHA-512 (Secure Hashing
Algorithm 512 bits) is used to encrypt passwords.</p>
<p>The SHA-512 algorithm is widely used for security applications and
protocols such as TLS, SSL, PHP, SSH, S/MIME, and IPSec.</p>
</section>
</section>
<section id="good-password-practices">
<h3>Good Password Practices<a class="headerlink" href="#good-password-practices" title="Link to this heading"></a></h3>
<p>IT professionals follow several good practices for securing the data and
the password of every user.</p>
<ul class="simple">
<li><p>Password aging is a method to ensure that users get prompts that
remind them to create a new password after a specific period. This
can ensure that passwords if cracked, will only be usable for a
limited amount of time. This feature is implemented using <code class="docutils literal notranslate"><span class="pre">chage</span></code>,
which configures the password expiry information for a user.</p></li>
<li><p>Another method is to force users to set strong passwords using
Pluggable Authentication Modules (PAM). PAM can be configured to
automatically verify that a password created or modified using the
<code class="docutils literal notranslate"><span class="pre">passwd</span></code> utility is sufficiently strong. PAM configuration is
implemented using a library called <code class="docutils literal notranslate"><span class="pre">pam_cracklib.so</span></code>, which can
also be replaced by <code class="docutils literal notranslate"><span class="pre">pam_passwdqc.so</span></code> to take advantage of more
options.</p></li>
</ul>
</section>
<section id="requiring-boot-loader-passwords">
<h3>Requiring Boot Loader Passwords<a class="headerlink" href="#requiring-boot-loader-passwords" title="Link to this heading"></a></h3>
<p>We can secure the boot process with a secure password to prevent someone
from bypassing the user authentication step. This can work in
conjunction with password protection for the BIOS. Note that while using
a bootloader password alone will stop a user from editing the bootloader
configuration during the boot process, it will not prevent a user from
booting from an alternative boot media such as optical disks or pen
drives. Thus, it should be used with a BIOS password for full
protection.</p>
<p>For the older GRUB 1 boot method, it was relatively easy to set a
password for grub. However, for the GRUB 2 version, things became more
complicated. However, you have more flexibility and can take advantage
of more advanced features, such as user-specific passwords (which can be
their normal login ones.)</p>
<p>Furthermore, we should never edit <code class="docutils literal notranslate"><span class="pre">grub.cfg</span></code> directly; instead, modify
the configuration files in <code class="docutils literal notranslate"><span class="pre">/etc/grub.d</span></code> and <code class="docutils literal notranslate"><span class="pre">/etc/defaults/grub</span></code>,
and then run <code class="docutils literal notranslate"><span class="pre">update-grub</span></code>, or <code class="docutils literal notranslate"><span class="pre">grub2-mkconfig</span></code> and save the new
configuration file.</p>
</section>
<section id="hardware-security">
<h3>Hardware Security<a class="headerlink" href="#hardware-security" title="Link to this heading"></a></h3>
<p>When hardware is physically accessible, security can be compromised by:</p>
<ul class="simple">
<li><p>Key logging : Recording the real-time activity of a computer user,
including the keys they press. The captured data can either be stored
locally or transmitted to remote machines.</p></li>
<li><p>Network sniffing : Capturing and viewing the network packet level
data on your network.</p></li>
<li><p>Booting with a live or rescue disk : Remounting and modifying disk
content.</p></li>
</ul>
<p>The guidelines of security are:</p>
<ul class="simple">
<li><p>Lockdown workstations and servers.</p></li>
<li><p>Protect your network links such that it cannot be accessed by people
you do not trust.</p></li>
<li><p>Protect your keyboards where passwords are entered to ensure the
keyboards cannot be tampered with.</p></li>
<li><p>Ensure a password protects the BIOS in such a way that the system
cannot be booted with a live or rescue DVD or USB key.</p></li>
</ul>
</section>
</section>
<section id="automatic-linux-install">
<h2>Automatic Linux Install<a class="headerlink" href="#automatic-linux-install" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>The Debian installers is modular: at the basic level, are executing many scripts (packaged in tiny packages called udeb—for μdeb or micro-deb) one after another.</p></li>
<li><p>Each script relies on debconf (which interacts with the user, and stores installation parameters).</p></li>
<li><p>The installer can also be automated through debconf preseeding, a function that allows to provide unattended answers to installation questions.</p></li>
</ul>
<p>There are multiple ways to preseed answers to the installer.</p>
<section id="preseeding-answers">
<h3>Preseeding answers<a class="headerlink" href="#preseeding-answers" title="Link to this heading"></a></h3>
<section id="with-boot-parameters">
<h4>With Boot Parameters<a class="headerlink" href="#with-boot-parameters" title="Link to this heading"></a></h4>
<p>Installer question can be pre-seeded with boot parameters that end up in the kernel command-line, accessible through <code class="docutils literal notranslate"><span class="pre">/proc/cmdline</span></code>.</p>
<p>We can directly use the full identifier of the debconf questions (such as <code class="docutils literal notranslate"><span class="pre">debian-installer/language=en</span></code>) or use <a class="reference external" href="https://www.debian.org/releases/stable/amd64/apbs02#preseed-aliases">abbreviations</a> for the most common questions (like <code class="docutils literal notranslate"><span class="pre">language=en</span></code> or <code class="docutils literal notranslate"><span class="pre">hostname=node-0002</span></code>).</p>
</section>
<section id="with-a-preseed-file-in-the-initrd">
<h4>With a Preseed File in the Initrd<a class="headerlink" href="#with-a-preseed-file-in-the-initrd" title="Link to this heading"></a></h4>
<p>We can add a file named <code class="docutils literal notranslate"><span class="pre">preseed.cfg</span></code> at the root of the installer’s <code class="docutils literal notranslate"><span class="pre">initrd</span></code> (used to start the installer). Usually, this requires rebuilding the debian-installer source package to generate new versions of the initrd.</p>
</section>
<section id="with-a-preseed-file-in-the-boot-media">
<h4>With a Preseed File in the Boot Media<a class="headerlink" href="#with-a-preseed-file-in-the-boot-media" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>We can add a preseed file on the boot media (DVD or USB key); preseeding then happens as soon as the media is mounted, which means right after the questions about language and keyboard layout. The preseed/file boot parameter can be used to indicate the location of the preseeding file (for instance, <code class="docutils literal notranslate"><span class="pre">/cdrom/preseed.cfg</span></code> when installing from a DVD-ROM, or <code class="docutils literal notranslate"><span class="pre">/media/preseed.cfg</span></code> when installing from a USB key).</p></li>
<li><p>May not preseed answers to language and country options as the preseeding file is loaded later in the process, once the hardware drivers have been loaded.</p></li>
</ul>
</section>
<section id="with-a-preseed-file-loaded-from-the-network">
<h4>With a Preseed File Loaded from the Network<a class="headerlink" href="#with-a-preseed-file-loaded-from-the-network" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>We can make a preseed file available on the network through a web server and tell the installer to download that preseed file by adding the boot parameter <code class="docutils literal notranslate"><span class="pre">preseed/url=http://server/preseed.cfg</span></code> (or by using the url alias).</p></li>
<li><p>Remember that the network must first be configured which means that network-related debconf questions (in particular hostname and domain name) and all the preceding questions (like language and country) cannot be preseeded with this method.</p></li>
</ul>
</section>
<section id="delaying-the-language-country-keyboard-questions">
<h4>Delaying the Language, Country, Keyboard Questions<a class="headerlink" href="#delaying-the-language-country-keyboard-questions" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>To overcome the limitation of not being able to preseed the language, country, and keyboard questions, we can add the boot parameter <code class="docutils literal notranslate"><span class="pre">auto-install/enable=true</span></code> (or <code class="docutils literal notranslate"><span class="pre">auto=true</span></code>). With this option the questions will be asked later in the process, after the network has been configured and thus after download of the preseed file.</p></li>
<li><p>The downside is that the first steps (notably network configuration) will always happen in English and if there are errors the user will have to work through English screens (with a keyboard configured in QWERTY).</p></li>
</ul>
</section>
</section>
<section id="creating-a-preseed-file">
<h3>Creating a Preseed file<a class="headerlink" href="#creating-a-preseed-file" title="Link to this heading"></a></h3>
<p>A preseed file is a plain text file in which each line contains the answer to one Debconf question. A line is split across four fields separated by white space (spaces or tabs).</p>
<ul class="simple">
<li><p>For example: <code class="docutils literal notranslate"><span class="pre">d-i</span> <span class="pre">debian-installer/language</span> <span class="pre">string</span> <span class="pre">en</span></code></p>
<ul>
<li><p>The first field indicates the owner of the question. For example, “d-i” is used for questions relevant to the installer. You may also see a package name, for questions coming from Debian packages (as in this example: atftpd atftpd/use_inetd boolean false).</p></li>
<li><p>The second field is an identifier for the question.</p></li>
<li><p>The third field lists the type of question.</p></li>
<li><p>The fourth and final field contains the value for the expected answer. Note that it must be separated from the third field with a single space; additional space characters are considered part of the value.</p></li>
</ul>
</li>
<li><p>The simplest way to write a preseed file</p></li>
<li><p>is to install a system by hand.</p></li>
<li><p>Then the <code class="docutils literal notranslate"><span class="pre">debconf-get-selections</span> <span class="pre">--installer</span></code> will provide the answers provided to the installer.</p></li>
<li><p>We can obtain answers directed to other packages with <code class="docutils literal notranslate"><span class="pre">debconf-get-selections</span></code>. However, a cleaner solution is to write the preseed file by hand, starting from an example and then going through the documentation. With this approach, only questions where the default answer needs to be overridden can be preseeded. Provide the <code class="docutils literal notranslate"><span class="pre">priority=critical</span></code> boot parameter to instruct Debconf to only ask critical questions, and to use the default answer for others.</p></li>
</ul>
</section>
<section id="debugging-failed-installations">
<h3>Debugging failed installations<a class="headerlink" href="#debugging-failed-installations" title="Link to this heading"></a></h3>
<p>We can debug failed installations with virtual consoles (accessible with the CTRL+ALT and function keys), <code class="docutils literal notranslate"><span class="pre">debconf-get</span></code> and <code class="docutils literal notranslate"><span class="pre">debconf-set</span></code> commands, reading the <code class="docutils literal notranslate"><span class="pre">/var/log/syslog</span></code> log file, or by submitting a bug report with log files retrieved with the installer’s “Save debug logs” function.</p>
</section>
</section>
<section id="monitoring-and-logging">
<h2>Monitoring and Logging<a class="headerlink" href="#monitoring-and-logging" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">logcheck</span></code> program monitors log files every hour by default and sends unusual log messages in emails to the administrator for further analysis. The list of monitored files is stored in <code class="docutils literal notranslate"><span class="pre">/etc/logcheck/logcheck.logfiles</span></code>.</p></li>
<li><p>It is a good idea to read <code class="docutils literal notranslate"><span class="pre">/usr/share/doc/logcheck-database/README.logcheck-database.gz</span></code>.</p></li>
</ul>
<section id="detecting-changes">
<h3>Detecting changes<a class="headerlink" href="#detecting-changes" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Once a system is installed and configured, most system files should stay relatively static until the system is upgraded.</p></li>
<li><p>Therefore, it is a good idea to monitor changes in system files since any unexpected change could be cause for alarm and should be investigated.</p></li>
</ul>
<section id="auditing-packages-with-dpkg-verify">
<h4>Auditing Packages with dpkg –verify<a class="headerlink" href="#auditing-packages-with-dpkg-verify" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dpkg</span> <span class="pre">--verify</span></code> (or <code class="docutils literal notranslate"><span class="pre">dpkg</span> <span class="pre">-V</span></code>) is an interesting tool since it displays the system files that have been modified, but this output should be taken with a grain of salt.</p></li>
<li><p>Running <code class="docutils literal notranslate"><span class="pre">dpkg</span> <span class="pre">-V</span></code> will verify all installed packages and will print out a line for each file that fails verification. Each character denotes a test on some specific meta-data. Unfortunately, dpkg does not store the meta-data needed for most tests and will thus output question marks for them.</p></li>
</ul>
</section>
<section id="monitoring-files-aide">
<h4>Monitoring Files: AIDE<a class="headerlink" href="#monitoring-files-aide" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The Advanced Intrusion Detection Environment (AIDE) tool checks file integrity and detects any change against a previously-recorded image of the valid system.</p></li>
<li><p>The image is stored as a database (<code class="docutils literal notranslate"><span class="pre">/var/lib/aide/aide.db</span></code>) containing the relevant information on all files of the system (fingerprints, permissions, timestamps, and so on).</p></li>
<li><p>We can use options in <code class="docutils literal notranslate"><span class="pre">/etc/default/aide</span></code> to tweak the behavior of the aide package. The AIDE configuration proper is stored in <code class="docutils literal notranslate"><span class="pre">/etc/aide/aide.conf</span></code> and <code class="docutils literal notranslate"><span class="pre">/etc/aide/aide.conf.d/</span></code> (actually, these files are only used by <code class="docutils literal notranslate"><span class="pre">update-aide.conf</span></code> to generate <code class="docutils literal notranslate"><span class="pre">/var/lib/aide/aide.conf.autogenerated</span></code>).</p></li>
<li><p>The configuration indicates which properties of which files need to be checked. For instance, the contents of log files changes routinely, and such changes can be ignored as long as the permissions of these files stay the same, but both contents and permissions of executable programs must be constant.</p></li>
</ul>
</section>
<section id="monitoring-etc-directory">
<h4>Monitoring /etc directory<a class="headerlink" href="#monitoring-etc-directory" title="Link to this heading"></a></h4>
<p>Etckeeper may be a bit more advanced, and it is used to put your whole
/etc directory under revision control. To install and initialize it,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">apt-get install etckeeper</span>
<span class="go">etckeeper init</span>
<span class="go">cd /etc</span>
<span class="go">git commit -am Initial</span>
</pre></div>
</div>
<p>After that, you can see pending changes in /etc by cd-ing into it and
running</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git status or git diff</span>
</pre></div>
</div>
<p>at any time, and you can see previous, committed changes by running</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git log or git log -p</span>
</pre></div>
</div>
<p>You can override pending changes to any file with the last committed
version with</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git checkout FILENAME</span>
</pre></div>
</div>
</section>
<section id="id15">
<h4>Others<a class="headerlink" href="#id15" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Tripwire is very similar to AIDE; even the configuration file syntax is almost the same. The main addition provided by tripwire is a mechanism to sign the configuration file so that an attacker cannot make it point at a different version of the reference database.</p></li>
<li><p>Samhain also offers similar features as well as some functions to help detect rootkits.</p></li>
<li><p>checksecurity consists of several small scripts that perform basic checks on the system (searching for empty passwords, new setuid files, and so on) and warn you if these conditions are detected.</p></li>
<li><p>The chkrootkit and rkhunter packages detect certain rootkits potentially installed on the system.</p></li>
</ul>
</section>
</section>
</section>
<section id="tips-and-tricks">
<h2>Tips and tricks<a class="headerlink" href="#tips-and-tricks" title="Link to this heading"></a></h2>
<section id="apt-get-error">
<h3>Apt-get error?<a class="headerlink" href="#apt-get-error" title="Link to this heading"></a></h3>
<p>We often make mistakes while updating using apt-get, which just leaves
us with command-line access to the system (GUI messed up). Possibly we
unintentionally removed some necessary packages.</p>
<p>In this case, look for <code class="docutils literal notranslate"><span class="pre">/var/log/apt/history.log</span></code>, look for the time
around which your system was broken. Copy the removed packages, which
would be in the format of</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">libapt-inst1.5:amd64 (0.9.7.9+deb7u5, 0.9.7.9+deb7u6), apt-utils:amd64 (0.9.7.9+deb7u5, 0.9.7.9+deb7u6).</span>
</pre></div>
</div>
<p>To reinstall these packages, you just need the package name such as</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">libapt-inst1.5, apt-utils.</span>

<span class="go">-Step1- : Use sed to search for pattern &quot;), &quot; and replace it with &quot;), \n&quot;. This would separate the packages by new line. Within vi &quot;:%s/), /\n/g&quot;</span>
<span class="go">-Step2- : Use cut -d &quot;:&quot; -f 1 to remove :amd64 and anything after that.</span>
<span class="go">-Step3- : Now, we have to get them back in one line rather than multiple lines. Within vi &quot;:%s/\n/ /g&quot;</span>
</pre></div>
</div>
</section>
<section id="finding-most-open-ports-in-nmap-scan">
<h3>Finding most open ports in nmap scan<a class="headerlink" href="#finding-most-open-ports-in-nmap-scan" title="Link to this heading"></a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">grep &quot;^[0-9]\+&quot; (nmap file .nmap extension&gt; | grep &quot;\ open\ &quot; | sort | uniq -c | sort -rn | awk &#39;{print &quot;\&quot;&quot;$1&quot;\&quot;,\&quot;&quot;$2&quot;\&quot;,\&quot;&quot;$3&quot;\&quot;,\&quot;&quot;$4&quot;\&quot;,\&quot;&quot;$5&quot; &quot;$6&quot; &quot;$7&quot; &quot;$8&quot; &quot;$9&quot; &quot;$10&quot; &quot;$11&quot; &quot;$12&quot; &quot;$13&quot;\&quot;&quot;}&#39; &gt; test.csv</span>
</pre></div>
</div>
</section>
</section>
<section id="interesting-stuff">
<h2>Interesting Stuff<a class="headerlink" href="#interesting-stuff" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Linux Monitoring Tools : Server density has written the most
comprehensive list of <a class="reference external" href="https://blog.stackpath.com/linux-monitoring-tools">80 Linux Monitoring
Tools</a></p></li>
<li><p>Windows Monitoring Tools : Server density has written a similar list
for Windows too <a class="reference external" href="https://www.serverdensity.com/monitor/windows/how-to/">60+ Windows Monitoring
Tools</a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="LFF-ESS-P0A-CyberSecurityEnterprise.html" class="btn btn-neutral float-left" title="Cybersecurity in an Enterprise" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="LFF-ESS-P0C-CloudEssentials.html" class="btn btn-neutral float-right" title="Cloud Infrastructure Technologies" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Vijay Kumar &amp; Contributors.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>